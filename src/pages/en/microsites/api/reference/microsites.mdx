export const sectionMode = 'nav';
export const description =
    'On this page, you will learn how to create open or closed microsites in Placetopay and configure their payment options according to your needs.';

export const apiRefs = ['/api/microsites']

# Microsites API

Microsites are a great option for selling and collecting online without having a website. You can customize it with your brand and share it with your customers.

---

## Create a microsite {{ id: 'create-a-microsite', tag: 'POST', label: '/api/microsites' }}


<Row>
    <Col>

        Allows you to create microsites (Open/Closed), the created microsite is enabled by default (unless otherwise indicated)

        There are several fields that are optional and will depend on your needs, you can see more information in [Optional fields](#optional-fields)

        <ApiReader
            path="/api/microsites"
            method="post"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/api/microsites">
            ```bash {{ title: 'Open' }}
            curl -X "POST"	https://sites.placetopay.com/api/microsites \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login":"c51ce410c124a10e0db5e4b97fc2af39",
                    "tranKey":"VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=",
                    "nonce":"NjE0OWVkODgwYjNhNw==",
                    "seed":"2021-09-21T09:34:48-05:00"
                },
                "name": "Test microsite 1",
                "alias": "microsite-test-1",
                "type": "OPEN",
                "sites": [5300],
                "categories" : ["test_tecnologia"]
            }'
            ```

            ```bash {{ title: 'Closed' }}
            curl -X "POST"	https://sites.placetopay.com/api/payment-link \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login":"c51ce410c124a10e0db5e4b97fc2af39",
                    "tranKey":"VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=",
                    "nonce":"NjE0OWVkODgwYjNhNw==",
                    "seed":"2021-09-21T09:34:48-05:00"
                },
                "name": "Test",
                "alias": "m-test",
                "type": "CLOSED",
                "categories": ["test_tecnologia"],
                "sites": [5, 32],
                "loginFields": ["reference", "document"],
                "allowPartial": true
            }'
            ```
        </CodeGroup>
    </Col>
</Row>


<Row>
    <Col>
        <ApiReader
            path="/api/microsites"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
            ```json {{ title: '201' }}
            {
                "status": {
                    "date": "2021-03-26T16:19:31-05:00",
                    "reason": "201",
                    "status": "OK",
                    "message": "Micrositio creado correctamente"
                }
            }
            ```
        </CodeGroup>
    </Col>
</Row>

---

## Optinal Fields {{ id: 'optional-fields' }}

Payment Configuration Options: The following fields are optional and can be used as needed, as long as the type of microsite being created is appropriate.

| Field | Type | Microsite Compatible |
| --- | --- | --- |
| allowPartial | boolean | *OPEN/CLOSED* |
| allowPayWithDuplicateReference | boolean | *OPEN/CLOSED*  |
| isNoBuyerFill | boolean | *CLOSED* |
| allowDispersion | boolean | *CLOSED* |
| allowUnlimitedInstallments | boolean | *CLOSED* |
| autoReferenced | boolean | *OPEN* |
| allowRecurrence | boolean | *OPEN* |
| notSendBuyerAsPayer | boolean | *OPEN* |
| onlyPaymentLink | boolean | *OPEN* |
| exactSearchByReference | boolean | *CLOSED* |
| showDescription | boolean | *CLOSED* |
| allowPayMultipleInvoicesAtOnce | boolean | *CLOSED* |
| allowSendDebtorCode | boolean | *CLOSED* |
| allowChangeTotal | boolean | *CLOSED* |
| olderFirst | boolean | *CLOSED* |
| allowSeeHistoryPayments | boolean | *CLOSED* |
| loginFromUrl | boolean | *CLOSED* |
| flushInvoices | boolean | *CLOSED* |
| returnUrl | string | *CLOSED* |
| fee | integer | *CLOSED* |