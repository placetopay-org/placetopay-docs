export const apiRefs = ['/api/v1/notify']

## Notify validation {{ id: 'notify-validation', tag: 'POST', label: '/api/v1/notify' }}

<Row>
    <Col>
        This endpoint will update the status of a previously validated transaction with the client's transaction status. A transaction that was validated by Scudo will return a response with an action (according to the rules configuration), the client must notify Scudo what the final status of this transaction is (approved, rejected, etc.). It is important to update all Scudo transactions for better information consistency.
        <ApiReader
            path="/api/v1/notify"
            method="POST"
            type="header"
            api={props.refs}
        />
        <ApiReader
            path="/api/v1/notify"
            method="POST"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <CodeGroup title="Request" tag="POST" label="/api/v1/notify">
            ```bash {{ title: 'cURL' }}
                curl --request POST \
                --url https://scudo-uat.placetopay.net/api/v1/notify \
                --header 'Accept: application/json' \
                --header 'Api-Key: ' \
                --header 'Content-Type: application/json' \
                --data '{
                    "id": "a2ce48f8-bba3-11ea-b3de-0242ac13352b",
                    "transaction": {
                        "status": {
                            "name": "approved"
                        },
                        "reference": "f0ce88f8-bba3-11ea-b3de-0242ac130004"
                    }
                }'
            ```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/api/v1/notify"
            method="POST"
            type="response"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Response">
            ```json {{ title: '200: Successful response' }}
            {
                "data": {
                    "id": "81d1ed97-5bd2-4242-8015-12867fdb475a",
                    "status": "approved"
                },
                "status": {
                    "code": 1200,
                    "name": "successful",
                    "message": "Transaction is successfully notified"
                }
            }
            ```
            ```json {{ title: '422: Failed response' }}
            {
                "data": null,
                "status": {
                    "code": 1301,
                    "name": "id_missmatch",
                    "message": "The id or reference, does not match in scudo"
                }
            }
            ```
        </CodeGroup>
    </Col>
</Row>
