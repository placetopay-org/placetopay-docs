export const apiRefs = ['/notify-resolved-validation']

<MissingTranslationBanner />

## [Webhook] Notificación de transacción resuelta {{ id: 'notify-resolved-validation', tag: 'POST', label: '/notify-resolved-validation' }}

<Row>
    <Col>
        Este endpoint debe ser implementado por el cliente de SCUDO API para recibir una notificación de una validación con acción manual.
        <ApiReader
            path="/notify-resolved-validation"
            method="POST"
            type="header"
            api={props.refs}
        />
        <ApiReader
            path="/notify-resolved-validation"
            method="POST"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/notify-resolved-validation">
            ```bash {{ title: 'cURL' }}
            curl --request POST \
            --url https://scudo-uat.placetopay.net/notify-resolved-validation \
            --header 'Api-Key: ' \
            --header 'Content-Type: application/json' \
            --header 'seed: ' \
            --header 'signature: ' \
            --data '{
                "data": {
                    "id": "2d3a6d86-dfbe-428a-a80e-65064c8dbbb7",
                    "rules": [
                        {
                            "name": "Number of cards",
                            "type": "filter",
                            "action": "continue_with_next_rule",
                            "response": {
                                "match": true,
                                "failed": false
                            },
                            "rule_code": "number_of_cards_by_client"
                        },
                        {
                            "name": "Historical transactions",
                            "type": "score",
                            "action": "continue_with_next_rule",
                            "response": {
                                "match": false,
                                "score": "370",
                                "failed": false,
                                "service_response": {
                                    "date": null,
                                    "risk": "medium",
                                    "email": "test@test.com",
                                    "phone": "2261751",
                                    "score": "370",
                                    "mobile": "3152807334",
                                    "reason": "medium",
                                    "panHash": "c393bb89bcb92c7d95d405f26699b33f4956c92f607fbe8c2facb836c762382b",
                                    "document": "CC 1040035000",
                                    "ipAddress": "132.248.0.1"
                                }
                            },
                            "rule_code": "historical"
                        },
                        {
                            "name": "Amount by client",
                            "type": "filter",
                            "action": "continue_with_next_rule",
                            "response": {
                                "match": false,
                                "failed": false
                            },
                            "rule_code": "amount_by_client"
                        },
                        {
                            "name": "Número de correos electrónicos por Ip",
                            "type": "filter",
                            "action": "continue_with_next_rule",
                            "response": {
                                "match": false,
                                "failed": false
                            },
                            "rule_code": "number_of_emails_by_ip"
                        },
                        {
                            "name": "Exclude country match for issuers",
                            "type": "filter",
                            "action": "continue_with_next_rule",
                            "response": {
                                "match": null,
                                "failed": true
                            },
                            "rule_code": "exclude_country_match_for_issuers"
                        },
                        {
                            "name": "Allowed countries for buyers",
                            "type": "filter",
                            "action": "continue_with_next_rule",
                            "response": {
                                "match": false,
                                "failed": false
                            },
                            "rule_code": "allowed_countries_for_buyers"
                        },
                        {
                            "name": "Emailage",
                            "type": "score",
                            "action": "continue_with_next_rule",
                            "response": {
                                "match": false,
                                "score": "0",
                                "failed": false,
                                "service_response": {
                                    "score": "0",
                                    "riskBand": "1",
                                    "fraudType": "",
                                    "isExecuted": true,
                                    "returnCode": "0",
                                    "riskAdvice": "3",
                                    "riskReason": "14",
                                    "riskStatus": "2",
                                    "ipInformation": null,
                                    "lastFlaggedOn": "",
                                    "returnMessage": "",
                                    "sourceIndustry": "",
                                    "emailInformation": {
                                        "age": "",
                                        "hits": null,
                                        "email": "test@test.com",
                                        "domain": {
                                            "age": "1995-08-13T04:00:00Z",
                                            "name": "gmail.com",
                                            "exists": "Yes",
                                            "company": "Google",
                                            "category": "Webmail",
                                            "corporate": "No",
                                            "riskLevel": "3",
                                            "countryName": "United States",
                                            "relevantInfo": "508",
                                            "riskLevelMessage": "Moderate",
                                            "relevantInfoMessage": "Valid Webmail Domain from United States"
                                        },
                                        "exists": "Yes",
                                        "status": "Verified",
                                        "country": "US",
                                        "imageUrl": "",
                                        "lastSeen": "2020-06-12T03:37:56Z",
                                        "firstSeen": "2010-07-17T07:00:00Z",
                                        "uniqueHits": "1"
                                    },
                                    "riskAdviceMessage": "Lower Fraud Risk",
                                    "riskReasonMessage": "Email Created at least 9.9 Years Ago"
                                }
                            },
                            "rule_code": "emailage"
                        },
                        {
                            "name": "Transunion",
                            "type": "score",
                            "action": "continue_with_next_rule",
                            "response": {
                                "match": false,
                                "score": "995",
                                "failed": false,
                                "service_response": {
                                    "match": false,
                                    "score": "995",
                                    "failed": false,
                                    "ageRange": "",
                                    "document": "123456789",
                                    "fullName": "Foo",
                                    "sheetCode": "05521509999999999999",
                                    "isExecuted": true,
                                    "returnCode": 1,
                                    "returnText": "Consulta exitosa",
                                    "documentType": "CC",
                                    "errorMessage": null,
                                    "sheetDateTime": "2021-02-25T08:50:16-05:00",
                                    "documentStatus": 1,
                                    "documentStatusText": "Vigente"
                                }
                            },
                            "rule_code": "transunion"
                        },
                        {
                            "name": "Number of transactions",
                            "type": "filter",
                            "action": "continue_with_next_rule",
                            "response": {
                                "match": false,
                                "failed": false
                            },
                            "rule_code": "number_of_transactions_by_client"
                        },
                        {
                            "name": "Kount",
                            "type": "score",
                            "action": "continue_with_next_rule",
                            "response": {
                                "match": false,
                                "score": "10",
                                "failed": false,
                                "service_response": {
                                    "score": "10",
                                    "errors": [],
                                    "ipCity": "Boise",
                                    "ipState": "Idaho",
                                    "decision": "A",
                                    "language": "en",
                                    "ipAddress": "208.75.113.3",
                                    "ipCountry": "US",
                                    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML like Gecko) Chrome/76.0.3809.100 Safari/537.36",
                                    "ipLatitude": "43.6337",
                                    "ipProvider": "PENDING",
                                    "isExecuted": true,
                                    "fingerprint": "290D1C0172364AADAC25D9FD0B13D946",
                                    "ipLongitude": "-116.2004",
                                    "deviceLayers": "DF651ACF30..99CF09F417.E3D16F2CB7.061826EF2B",
                                    "errorMessage": null,
                                    "quantityErrors": 0,
                                    "operativeSystem": "Mac OS X 10.14.6",
                                    "screenResolution": "1050x1680",
                                    "decisionDescription": "APPROVE"
                                }
                            },
                            "rule_code": "kount"
                        },
                        {
                            "name": "Allowed Issuer Bank Countries",
                            "type": "filter",
                            "action": "continue_with_next_rule",
                            "response": {
                                "match": null,
                                "failed": true
                            },
                            "rule_code": "allowed_countries_for_issuer_bank"
                        },
                        {
                            "name": "Force match IP country and issuing bank",
                            "type": "filter",
                            "action": "continue_with_next_rule",
                            "response": {
                                "match": null,
                                "failed": true
                            },
                            "rule_code": "match_country_ip_and_issuer_bank"
                        }
                    ],
                    "action": {
                        "name": "manual_transaction",
                        "performed_by": "Force match IP country and issuing bank",
                        "performed_by_code": "match_country_ip_and_issuer_bank"
                    },
                    "resolved": {
                        "action": "reject_transaction",
                        "reason": "Posible fraude",
                        "comments": "Cliente responde que puede ser un fraude",
                        "resolved_at": "2022-04-19T16:06:40.826891Z"
                    },
                    "created_at": "2022-04-19T16:05:59.000000Z",
                    "notified_at": null,
                    "transaction": {
                        "reference": "57741905-5db9-47ea-a883-331c937008d3"
                    },
                    "notified_status": "pending"
                },
                "status": {
                    "code": 1200,
                    "name": "successful",
                    "message": "The validation has been resolved successfully"
                }
            }'
            ```
        </CodeGroup>
    </Col>
</Row>