export const sectionMode = 'nav';
export const description = 'Search for an Airline ticket API reference';
export const apiRefs = ['/ticket/search'];

# Search for a Ticket

This endpoint allows you to find a ticket by its internal reference (`internalReference`).

<Row>
    <Col>
        <ApiReader
            path={apiRefs[0]}
            method="post"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <CodeGroup title="Request" tag="POST" label="/ticket/search">
            ```bash {{title: 'cURL'}}
            curl --request POST \
            --url https://test.placetopay.com/rest/ticket/search \
            --header 'Accept: application/json' \
            --header 'Content-Type: application/json' \
            --data '{
                    "auth": {
                        "login": "6f3822f45568161a8cdf4ad2299f6d23",
                        "tranKey": "Y1ED2DzER2MvYBl4uHzJoSmWD6+ivNXzzY1ZZOcAnFM=",
                        "nonce": "NWY1MTg4ODhjMzFmOQ==",
                        "seed": "2020-09-03T19:21:28-05:00"
                    },
                    "internalReference": 3557
            }'
            ```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path={apiRefs[0]}
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <br />
        <CodeGroup title="Response">
            ```json {{title: '200'}}
            {
                "status": {
                    "status": "OK",
                    "reason": "00",
                    "message": "The request has been successfully processed",
                    "date": "2020-09-03T19:17:55-05:00"
                },
                "data": [
                    {
                    "internalReference": 3034,
                    "ticket": "1235617070772",
                    "issuedAt": "2020-09-03",
                    "createdAt": "2020-09-03 19:17:55",
                    "updatedAt": "2020-09-03 19:17:55"
                    },
                    {
                    "internalReference": 3035,
                    "ticket": "1232324712332",
                    "issuedAt": "2020-09-03",
                    "createdAt": "2020-09-03 19:17:55",
                    "updatedAt": "2020-09-03 19:17:55"
                    },
                    {
                    "internalReference": 3036,
                    "ticket": "1233360112990",
                    "issuedAt": "2020-09-03",
                    "createdAt": "2020-09-03 19:17:55",
                    "updatedAt": "2020-09-03 19:17:55"
                    },
                    {
                    "internalReference": 3037,
                    "ticket": "1235224463546",
                    "issuedAt": "2020-09-03",
                    "createdAt": "2020-09-03 19:17:55",
                    "updatedAt": "2020-09-03 19:17:55"
                    },
                    {
                    "internalReference": 3038,
                    "ticket": "1236649339572",
                    "issuedAt": "2020-09-03",
                    "createdAt": "2020-09-03 19:17:55",
                    "updatedAt": "2020-09-03 19:17:55"
                    },
                    {
                    "internalReference": 3039,
                    "ticket": "1239864816982",
                    "issuedAt": "2020-09-03",
                    "createdAt": "2020-09-03 19:17:55",
                    "updatedAt": "2020-09-03 19:17:55"
                    },
                    {
                    "internalReference": 3040,
                    "ticket": "1238581495691",
                    "issuedAt": "2020-09-03",
                    "createdAt": "2020-09-03 19:17:55",
                    "updatedAt": "2020-09-03 19:17:55"
                    },
                    {
                    "internalReference": 3041,
                    "ticket": "1235076633680",
                    "issuedAt": "2020-09-03",
                    "createdAt": "2020-09-03 19:17:55",
                    "updatedAt": "2020-09-03 19:17:55"
                    },
                    {
                    "internalReference": 3042,
                    "ticket": "1235711376026",
                    "issuedAt": "2020-09-03",
                    "createdAt": "2020-09-03 19:17:55",
                    "updatedAt": "2020-09-03 19:17:55"
                    },
                    {
                    "internalReference": 3043,
                    "ticket": "1236404928190",
                    "issuedAt": "2020-09-03",
                    "createdAt": "2020-09-03 19:17:55",
                    "updatedAt": "2020-09-03 19:17:55"
                    }
                ]
            }
            ```
            ```json {{title: '400: Failed Authentication' }}
            {
                "status": {
                    "status": "FAILED",
                    "reason": 401,
                    "message": "The authentication does not contain all the required parameters (login, tranKey, seed, nonce)",
                    "date": "2020-09-03T19:27:27-05:00"
                }
            }
            ```
            ```json {{ title: '400: Bad Request' }}
            {
                "status": {
                    "status": "FAILED",
                    "reason": "BR",
                    "message": "You have provided an invalid internal reference",
                    "date": "2020-09-03T20:05:36-05:00"
                }
            }
            ```
        </CodeGroup>
    </Col>
</Row>
