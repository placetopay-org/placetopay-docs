export const sectionMode = 'nav';

## General Terms

The following definitions are intended to clarify the information presented throughout this document.

- **3DS Client:** Consumer-oriented component that enables the consumer's interaction with the 3DS Requestor to initiate the EMV 3-D Secure protocol.
- **3DS Integrator:** EMV 3-D Secure participant that facilitates and integrates the 3DS Requestor Environment and, optionally, facilitates integration between the Merchant and the Acquirer.
- **3DS Method:** A scripting call provided by the 3DS Integrator that is placed on the 3DS Requestor's website. Optionally used to obtain additional browser information to facilitate risk-based decision-making.
- **3DS Requestor:** The initiator of the EMV 3-D Secure Authentication Request. For example, it may be a merchant or a digital wallet requesting authentication within a purchase flow.
- **3DS Requestor App:** An application on a Consumer Device that can process a 3-D Secure transaction using a 3DS SDK. The 3DS Requestor App is enabled through integration with the 3DS SDK.
- **3DS Requestor Environment:** The components controlled by the 3DS Requestor (3DS Requestor App, 3DS SDK, and 3DS Server) are typically facilitated by the 3DS Integrator. The implementation of the 3DS Requestor Environment will vary as defined by the 3DS Integrator.
- **3DS Requestor Initiated (3RI):** 3-D Secure transaction initiated by the 3DS Requestor to confirm that an account remains valid or for Cardholder authentication. The first main use case is recurring transactions (TV subscriptions, utility payments, etc.) where the merchant wants to perform a payment transaction to receive authentication data for each bill or a non-payment transaction to verify that a subscription user still has a valid payment method. The second main use case is when the 3DS Requestor requests Decoupled Authentication as a method to authenticate the Cardholder.
- **3DS Requestor Website:** Component that provides the website requesting the Cardholder's credentials (either stored or entered by the Cardholder).
- **3DS SDK:** 3-D Secure Software Development Kit (SDK). A component embedded in the 3DS Requestor App. The 3DS SDK performs 3-D Secure-related functions on behalf of the 3DS Server.
- **3DS Server:** Refers to the server or systems of the 3DS Integrator that handle online transactions and facilitate communication between the 3DS Requestor and the DS.
- **3-D Secure (3DS):** An e-commerce authentication protocol that enables secure processing of payment, non-payment, and account confirmation card transactions.
- **ACS - Access Control Server:** A component operating in the Issuer Domain, which verifies if authentication is available for a card number and device type, and authenticates specific Cardholders.
- **Acquirer Domain:** Contains the systems and functions of the 3DS Requestor Environment and, optionally, the Acquirer.
- **Acquirer:** A financial institution that establishes a contractual service relationship with a Merchant for the purpose of accepting payment cards. In the context of 3-D Secure, in addition to the traditional role of receiving and sending authorization and settlement messages (introducing the transaction into the exchange), the Acquirer also determines if a Merchant is eligible to support Merchant participation in 3-D Secure.
- **Authentication:** In the context of 3-D Secure, the process of confirming that the person conducting an e-commerce transaction is authorized to use the payment card.
- **Digital Wallet:** A software component that allows a user to make an electronic payment with a financial instrument (such as a credit card) while hiding the technical details of executing the payment protocol, including tasks such as entering an account number and providing shipping and Cardholder identification information.
- **Message Category:** Indicates the category of the EMV 3-D Secure message. It can be Payment (01-PA) or Non-Payment (02-NPA).
- **Merchant:** Entity that contracts with an Acquirer to accept payment cards. Manages the online shopping experience with the Cardholder, obtains the card number, and then transfers control to the 3DS Server, which performs payment authentication.
- **One-Time Password (OTP):** A password that is valid for only one login session or transaction, on a computer system or other digital device.
- **Challenge:** The process in which the ACS communicates with the 3DS Client to obtain additional information through interaction with the Cardholder.
- **Issuer Domain:** Contains the systems and functions of the Issuer and its clients (Cardholders).
- **Issuer:** A financial institution that issues payment cards, contracts with Cardholders to provide card services, determines Cardholder eligibility to participate in 3-D Secure, and identifies for the Directory Server the card number ranges eligible to participate in 3-D Secure.
- **EMV:** A term referring to EMVCo specifications for global interoperability and acceptance of secure payment transactions and/or products and services that comply with such specifications.
- **EMVCo:** EMVCo, LLC, a limited liability company incorporated in Delaware, USA. Owned by American Express, Discover, JCB, MasterCard, UnionPay, and Visa. It facilitates global interoperability and acceptance of secure payment transactions using the specifications provided by EMV.
- **Electronic Commerce Indicator (ECI):** Payment System-specific value provided by the ACS to indicate the results of the attempt to authenticate the Cardholder.
- **Challenge Flow:** A 3-D Secure flow that involves interaction with the Cardholder.
- **Frictionless Flow:** A 3-D Secure flow that does not involve interaction with the Cardholder.
- **Out Of Band (OOB):** A Challenge activity completed outside of, but in parallel with, the 3-D Secure flow. The final Challenge Request is not used to transport the data that the ACS must verify, but only signals that authentication has been completed. The ACS authentication methods or implementations are not defined by the 3-D Secure specification.
- **Authentication Request Message (AReq):** An EMV 3-D Secure message sent by the 3DS Server via the DS to the ACS to initiate the authentication process.
- **Authentication Response Message (ARes):** An EMV 3-D Secure message returned by the ACS via the DS in response to an Authentication Request message.
- **Challenge Request Message (CReq):** An EMV 3-D Secure message sent by the 3DS SDK or 3DS Server where additional Cardholder information is sent to the ACS to support the authentication process.
- **Challenge Response Message (CRes):** The ACS response to the CReq message. It may indicate the result of Cardholder authentication or, in the case of an App-based model, also signal that further interaction with the Cardholder is required to complete authentication.
- **Preparation Request Message (PReq):** 3-D Secure message sent from the 3DS Server to the DS to request the Protocol Version(s) of the ACS and DS corresponding to the DS card ranges, as well as an optional 3DS Method URL to update the 3DS Server's internal storage information.
- **Preparation Response Message (PRes):** Response to the PReq message containing the DS Card Ranges, the active Protocol Versions for the ACS and DS, and the 3DS Method URL, so that updates can be made to the 3DS Server's internal storage.
- **Results Request Message (RReq):** Message sent by the ACS via the DS to transmit the results of the authentication transaction to the 3DS Server.
- **Results Response Message (RRes):** Message sent by the 3DS Server to the ACS via the DS to acknowledge receipt of the Results Request message.
- **Browser:** In the context of 3-D Secure, the browser is a conduit for transporting messages between the 3DS Server (in the Acquirer Domain) and the ACS (in the Issuer Domain).
- **Bank Identification Number (BIN):** The first six digits of a payment card account number that uniquely identify the issuing financial institution. Also known as Issuer Identification Number (IIN) in ISO 7812.
- **Directory Server (DS):** A server component operated in the Interoperability Domain; performs various functions including: authenticating the 3DS Server, routing messages between the 3DS Server and the ACS, and validating the 3DS Server, 3DS SDK, and 3DS Requestor.
- **Frictionless:** The authentication process achieved without interaction with the Cardholder.
- **Authorization System:** The systems and services through which a Payment System offers online financial processing, authorization, clearing, and settlement services to Issuers and Acquirers.
- **Payment System:** A Payment System defines the rules and operating conditions, and the requirements for card issuance and Merchant acceptance.
- **Card:** In this specification, it is synonymous with a payment card account.
- **Cardholder:** A person to whom a card is issued or who is authorized to use such card.
- **Authentication Token:** A text string that is not intended to have any meaning and represents an authorization access issued to the client. The token allows replacing the owner's authentication credentials directly, in order to protect the information.
- **Authentication Value (AV):** A cryptographic value generated by the ACS to provide a way, during authorization processing, for the authorization system to validate the integrity of the authentication result. The AV algorithm is defined by each Payment System.
- **Message Version:** Refers to the protocol version that will be used by all components to process the 3-D Secure transaction. The message version is always consistent across all 3-D Secure protocol messages for a specific transaction.
- **Cardholder Initiated Transaction (CIT):** Any transaction in which the cardholder actively participates. Transactions may be performed based on credentials provided by the cardholder at the time of the transaction or a credential stored from a previous interaction. Transactions may occur as an in-store point-of-sale (POS) transaction, an e-commerce transaction, a mail/telephone order, or at an ATM.
- **Merchant Initiated Transaction (MIT):** A transaction where the cardholder does not actively participate. MITs are often preceded by a CIT involving a PA (Payment Authentication) or an Account Status Inquiry (ASI).
- **Payment Authentication (PA):** Involves authentication amount.
- **Not Payment Authentication (NPA):** Does not involve authentication amount.


---

## Recurring Payment / Installments

A transaction that arises from an agreement between the cardholder and the merchant whereby the cardholder agrees that the merchant stores the cardholder's credential and uses that stored credential for a subsequent purchase of goods or services. These transactions can be classified as:

* Standing order
* Subscription
* Deferred installment payments
* Unscheduled CREDENTIAL-ON-FILE

---

## Industry Practice MIT

A transaction initiated by the merchant to fulfill a business practice that most often occurs after an initial interaction with the cardholder. Transactions may be performed with credentials that are stored on file, or credentials that are not stored on file but are temporarily retained by the merchant as agreed by the consumer. These industry practice MITs can be classified as:

* Partial shipments
* Partial or delayed deliveries
* No-show (Cardholder is not present to receive the service)
* Reshipment

---

## Supported 3RI Message Types

The 3RI functionality covers several different technical and business use cases that are mainly defined by the following EMV 3DS fields:

• **Device channel (deviceChannel)** = RI (03)

• **3RI Indicator field (threeRIInd)** in the **AReq** authentication request that defines the type of 3RI Transaction. Not all 3RI indicator field values documented in the EMV 3DS specification are currently supported by the brands.

| 3RI Indicator (threeRIInd)                   | Brands                   | Payment (PA) | Non-Payment (NPA) |
|----------------------------------------------|--------------------------|--------------|------------------|
| **RECURRING_TRANSACTION** (01)               | Visa with DAF, Mastercard| YES          | NO               |
| **INSTALMENT_TRANSACTION** (02)              | Visa with DAF, Mastercard| YES          | NO               |
| **ADD_CARD** (03)                            | Visa, Mastercard         | NO           | YES              |
| **MAINTAIN_CARD_INFORMATION** (04)           | Visa, Mastercard         | NO           | YES              |
| **ACCOUNT_VERIFICATION** (05)                | Visa, Mastercard         | NO           | YES              |
| **SPLIT_OR_DELAYED_SHIPMENT** (06)           | Visa, Mastercard         | YES          | NO               |
| **TOP_UP** (07)                              | Visa, Mastercard         | NO           | NO               |
| **MAIL_ORDER** (08)                          | Visa, Mastercard         | NO           | NO               |
| **TELEPHONE_ORDER** (09)                     | Visa, Mastercard         | NO           | NO               |
| **WHITELIST_STATUS_CHECK** (10)              | Visa, Mastercard         | NO           | YES              |
| **OTHER_PAYMENT** (11)                       | Visa, Mastercard         | YES          | NO               |
| **VISA_UNSCHEDULED_CREDENTIAL_ON_FILE** (81) | Visa with DAF            | YES          | NO               |

---

## Frequently Asked Questions

* **Is it possible to Add Card ***"threeDSAuthenticationInd": ADD_CARD (04)*** and perform Payment Authentication (PA) at the same time?**

It is not possible. In the process of Adding a Card to a merchant to validate the cardholder's identity, it is allowed to send an amount, in which case the amount will be debited for fund verification and MUST be refunded later by the merchant, which does not represent a Payment Authentication itself.

It is necessary to send another authentication with the amount to be authenticated after the Add Card process.

* **Can a CIT NPA be used as PriorInformation for an MIT PA?**

It is ONLY possible in the scenario of a one-time payment. In this case, a CIT NPA of type "Add Card" can be used **this is the only confirmed case for this use**. The MIT transaction must be sent with the indicator threeRIInd=81 **Unscheduled Credential-on-File**, this type of transaction does not require any recurrence value **recurringExpiry, recurringFrequency** only the amount to be paid. Eventually, other use cases may be added in future Protocol versions. This applies exclusively to VISA using the DAF extension.

The main reason is that these two categories of transactions have different natures and purposes:

  1. **MIT (Merchant Initiated Transaction):** An MIT is initiated by the merchant rather than the cardholder. MITs are generally used for recurring payments, such as monthly or annual subscriptions, where the merchant has the cardholder's authorization to periodically charge the agreed amount to their card. In MITs, authentication is usually performed by the merchant and does not require the cardholder's active interaction at the time of the transaction.
  2. **CIT NPA ***Customer Initiated Transaction - Non Payment Authentication***:** A CIT NPA is a transaction initiated by the cardholder that does not involve a direct payment, but is used for other purposes, such as card verification or balance inquiry. In a CIT NPA, authentication can be performed without a direct transfer of funds.

Since an MIT involves a payment by the merchant and a CIT NPA does not involve a direct payment, it would not make sense to launch an MIT transaction together with a CIT NPA. Each transaction type has its own purpose and specific application in the context of the **3D Secure** protocol.

In short: it is possible to use a CIT NPA in an MIT PA if the payment is one-time **not recurring**.

Unscheduled card-on-file transactions **UCOF**: A transaction using a stored credential for a fixed or variable amount that does not occur on a scheduled or regularly occurring transaction date, where the cardholder has provided consent for the merchant to initiate one or more future transactions

* **Visa Digital Authentication Framework DAF**

Visa Digital Authentication Framework DAF is a message extension of the 3DS protocol that allows Visa to identify cardholders who have passed the challenge authentication flow at a given merchant-acquirer, thus granting them a trusted status by determining them as an ***Authenticated Credential Payment - ACP***. This allows subsequent transactions performed by the cardholder at the same merchant to be authenticated immediately.
