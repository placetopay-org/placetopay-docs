# Model Enrollment


The **Model Enrollment** APIs are designed to manage model enrollment across supported brands,
facilitating operations such as creating, updating, and deleting related records.

Currently, these APIs are exclusively enabled for **Mastercard**,
allowing efficient integration and management of models within their ecosystem.

These APIs provide a clear and structured interface for interacting with enrollment data,
ensuring that processes are secure and aligned with company standards.

---

#### **Key Features:**
1. **Model Creation**: Register a new model in the system using the `POST /api/model-enrollment` endpoint.
2. **Model Updates**: Modify details of an existing model through the `PATCH /api/model-enrollment` endpoint.
3. **Model Deletion**: Remove obsolete model records using the `DELETE /api/model-enrollment` endpoint.

---


### POST `/api/model-enrollment`

This endpoint allows you to enroll a new model in a brand. Currently, the service is exclusively available for **Mastercard**.

---

#### **Request**

```json
{
    "subscription_id": "349"
}

```

| Field                | Type     | Description                                    |
|----------------------|----------|------------------------------------------------|
| **subscription_id**  | `string` | ID of the subscription associated with the new model. |

---

#### **Response**

```json

{
    "message": "Model enrollment",
    "data": {
        "mastercard": {
            "uuid": "692b1ce4-7979-4b62-9bab-bda8ad8aa64b",
            "messageType": "MerchantStatusResponse",
            "data": {
                "acquirerBIN": "510510",
                "acquirerICA": "16233",
                "acquirerName": "First Technology Federal Credit Union",
                "acquirerCID": "139423",
                "status": "SUCCESS",
                "reason": "New Record Data",
                "modelId": "123",
                "modelName": "Test Merchant"
            }
        }
    }
}

```


| Field                                 | Type     | Description                                                         |
|---------------------------------------|----------|---------------------------------------------------------------------|
| **message**                           | `string` | Message confirming the model enrollment.                            |
| **data**                              | `object` | Data related to the enrolled model.                                 |
| **mastercard**                        | `object` | Brand-related data.                                                  |
| **data.mastercard.uuid**              | `string` | Unique identifier of the enrolled model.                            |
| **data.mastercard.messageType**       | `string` | Message type related to the model status.                           |
| **data.mastercard.data**              | `object` | Additional details related to the model.                            |
| **data.mastercard.data.acquirerBIN**  | `string` | Acquirer identification number.                                      |
| **data.mastercard.data.acquirerICA**  | `string` | Acquirer institution code.                                           |
| **data.mastercard.data.acquirerName** | `string` | Acquirer name.                                                       |
| **data.mastercard.data.acquirerCID**  | `string` | Acquirer client identifier.                                          |
| **data.mastercard.data.status**       | `string` | Detailed operation status (`SUCCESS`, `REJECTED`, `FAILED`).        |
| **data.mastercard.data.reason**       | `string` | Reason related to the performed operation.                           |
| **data.mastercard.data.modelId**      | `string` | Identifier of the enrolled model.                                   |
| **data.mastercard.data.modelName**    | `string` | Name of the enrolled model.                                          |


### PATCH `/api/model-enrollment`

This endpoint allows you to retrieve data from the associated brand and update the enrolled model. Currently, the service is exclusively available for **Mastercard**.

---

#### **Request**

```json
{
  "uuid": "692b1ce4-7979-4b62-9bab-bda8ad8aa64b",
  "subscription_id": "349"
}

```

Request fields:

| Field                | Type     | Description                                               |
|----------------------|----------|-----------------------------------------------------------|
| **uuid**             | `string` | Unique identifier of the record to be updated.            |
| **subscription_id**  | `string` | ID of the subscription associated with the record.        |


#### **Response**

```json
{
  "message": "Model updated",
  "data": {
     "mastercard": {
        "uuid": "692b1ce4-7979-4b62-9bab-bda8ad8aa64b",
        "messageType": "MerchantStatusResponse",
        "data": {
            "acquirerBIN": "510510",
            "acquirerICA": "16233",
            "acquirerName": "First Technology Federal Credit Union",
            "acquirerCID": "139423",
            "status": "SUCCESS",
            "reason": "New Record Data",
            "modelId": "123",
            "modelName": "Test Merchant"
        }
    }
  }
}

```

| Field                                 | Type     | Description                                                         |
|---------------------------------------|----------|---------------------------------------------------------------------|
| **message**                           | `string` | Message confirming the model update.                                |
| **data**                              | `object` | Updated data related to the model.                                  |
| **mastercard**                        | `object` | Brand-related data.                                                  |
| **data.mastercard.uuid**              | `string` | Unique identifier of the updated record.                            |
| **data.mastercard.messageType**       | `string` | Message type related to the model status.                           |
| **data.mastercard.data**              | `object` | Additional details related to the model.                            |
| **data.mastercard.data.acquirerBIN**  | `string` | Acquirer identification number.                                      |
| **data.mastercard.data.acquirerICA**  | `string` | Acquirer institution code.                                           |
| **data.mastercard.data.acquirerName** | `string` | Acquirer name.                                                       |
| **data.mastercard.data.acquirerCID**  | `string` | Acquirer client identifier.                                          |
| **data.mastercard.data.status**       | `string` | Detailed operation status (`SUCCESS`, `REJECTED`, `FAILED`).        |
| **data.mastercard.data.reason**       | `string` | Reason related to the performed operation.                           |
| **data.mastercard.data.modelId**      | `string` | Identifier of the updated model.                                    |
| **data.mastercard.data.modelName**    | `string` | Name of the updated model.                                           |


---

### DELETE `/api/model-enrollment`

This endpoint allows you to manage model enrollment in a brand. Currently, the service is exclusively available for **Mastercard**.

---

#### **Request**

```json

{
  "reason": "DATA_ENTRY_ERROR",
  "subscription_id": "349",
  "uuid": "692b1ce4-7979-4b62-9bab-bda8ad8aa64b"
}

```

| Field                | Type     | Description                                                   |
|----------------------|----------|---------------------------------------------------------------|
| **reason**           | `string` | Reason for deleting the record. Example: `DATA_ENTRY_ERROR`. |
| **subscription_id**  | `string` | ID of the subscription associated with the record.            |
| **uuid**             | `string` | Unique identifier of the record to be deleted.                |


#### **Response**

```json

{
    "message": "The record was successfully deleted"
}

```
