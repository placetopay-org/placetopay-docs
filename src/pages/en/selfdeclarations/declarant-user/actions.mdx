# Actions
## Complete Registration
This feature allows new declaring users to activate themselves in the self-declaration system.

When the administrator associates a declaring user with a company, a notification is immediately sent to the email address registered in the system to complete the registration:

<img src="/Selfdeclarations/Declarant_user/actions/email_notification.png"/>

The user must select the **Complete Registration** button to be sent to a new screen, where they must enter the information of the company with which they were associated and the information of the *authorized user*.

The system then validates the user's identity by conducting a confrontation consisting of a series of questions that the user must be able to answer in order to continue with the registration.

<img src="/Selfdeclarations/Declarant_user/actions/confront.png"/>

Finally, you will be asked for some personal information that you do not need to enter, along with a password that you can use each time you log in to the system.

<img src="/Selfdeclarations/Declarant_user/actions/password_registration.png"/>

## Platform Login
Once registration is complete, access to the platform is achieved through OTP authentication.

Depending on the authentication system enabled in the environment, the process varies; each is detailed below.

## OTP Authentication
If this is your first time logging in with an OTP, the following message will be displayed.

<img src="/Selfdeclarations/Declarant_user/actions/request_OTP.png"/>

You will receive an email with the access code, which you must use to log in to the platform. This code will have an expiration time.

<img src="/Selfdeclarations/Declarant_user/actions/receive_OTP.png"/>

You must enter the 6-digit code in the form and click the "Login" button. If the code expiration time expires, the system will ask you for your login credentials again to generate a new code.

Once you enter the login code, the system will validate it and, if correct, you will be redirected to the declaration or the home section (Profile), as appropriate.

## Profile
This will be the home screen after completing the login registration process. From here, you can view basic user information.

<img src="/Selfdeclarations/Declarant_user/actions/my_profile.png"/>

### Edit
Allows the user to modify their personal and account information.

To edit the profile, click **Edit**. The user information form will open. You can modify or add missing information and save your changes with the **Save** button.

<img src="/Selfdeclarations/Declarant_user/actions/my_profile_edit.png"/>

From this action, you can also change your password.

Clicking **Change Password** will display a form requesting your current password and a new password. The password can only be changed once during a certain period of time. The time can be determined by an administrator user in the system settings. By default, the time is 24 hours.

<img src="/Selfdeclarations/Declarant_user/actions/my_profile_edit_change_pass.png"/>

Once the information is completed, click **Save** and all changes will be executed.

##Taxes
In the menu, after the profile, all the tax types that the user can declare or with which they are associated are listed. Regardless of the tax type, the same actions can be performed for the different taxes, except for creation and cancellation. The registration tax is the only tax that can be created and cancelled within the system; other tax types must be created by consuming the API services.

All declaring users can create, view, edit, pay, download, and cancel the taxes of the companies they are associated with. However, only users with permission can authorize these taxes.

<img src="/Selfdeclarations/Declarant_user/actions/incomes_list.png"/>

### Filters
Filters will be displayed within each tax, which are classified based on its status.

- **Full List:** This will display all taxes in that category, regardless of their status.
- **Pending Authorization:** This will display only taxes that are pending authorization.
- **Pending Payment:** This will display only taxes that are in process or pending payment.
- **Paid:** This will display only taxes that have been paid.

<img src="/Selfdeclarations/Declarant_user/actions/incomes_list.png"/>

### Create
In the tax registry, you can create taxes to be declared. To create a tax, click **Create Company Registration Tax**, located in the upper right corner, above the table or list.

<img src="/Selfdeclarations/Declarant_user/actions/company_registers.png"/>

The form will open to create the tax. Enter the requested information. Finally, at the bottom, you will find the **Save** button. Saving the tax will take you to the View Tax Details action.

### View Details
Allows you to access detailed tax information by clicking **View Details**, located in the **Options** column.

<img src="/Selfdeclarations/Declarant_user/actions/company_registers_options.png"/>

Within the details, you can perform other actions, such as:

- **Company Registration Tax**: Here you can see the detailed information of the tax to be declared, and at the bottom, you can perform other actions.

- **List of Authorizers**, a list of the users who authorized that tax will be displayed. If no authorization has yet been granted, a message will be displayed informing the user how many authorizations that tax requires (by default, it is set to two). Other actions are also available at the bottom of this tab.
<img src="/Selfdeclarations/Declarant_user/actions/company_registers_options_view_tab2.png"/>

- **List of Actions**, a history of actions performed on that tax and who performed each action will be displayed.
<img src="/Selfdeclarations/Declarant_user/actions/company_registers_options_view_tab3.png"/>

- The last tab will only be displayed when the tax has been paid. It also allows you to view payment attempts.
<img src="/Selfdeclarations/Declarant_user/actions/company_registers_options_view_tab4.png"/>

## Authorize Declaration
After creating the tax return, the taxes to be declared must be authorized by a user associated with the company who has authorization permission. By default, the system requires two authorizations from different users. The configuration for the number of authorizations can be modified by an administrator user.

To authorize a tax return (with authorization permission), click **Authorize**, located in the **Options** column.

<img src="/Selfdeclarations/Declarant_user/actions/company_registers_options.png"/>

A window will open requesting the user's password. To continue, click **Confirm** and the tax return will be authorized.

<img src="/Selfdeclarations/Declarant_user/actions/company_registers_password_request_message.png"/>

If only one authorization is needed, the tax will be ready for payment processing. However, if it requires more authorizations, the authorization option will be deactivated for those who have already completed the process, and the tax will be pending approval from other authorizers before proceeding with payment.

## Edit Record
This action allows users to modify the created tax. This option will only be available until the tax is authorized. After authorization, Edit Record will be deactivated.

To edit a tax, click Edit, located in the "Options" column.

<img src="/Selfdeclarations/Declarant_user/actions/company_registers_options.png"/>

The form will open with the information entered during creation. Edit the information and complete it by clicking **Save**.

## Pay
Allows the user to pay the declared taxes after they have been authorized.

To pay a tax, click **Pay**, located in the **Options** column of the table or list.

<img src="/Selfdeclarations/Declarant_user/actions/company_registers_options.png"/>

A screen will appear showing the available payment methods, and you can also download the tax. To proceed with the payment, click the **"Pay"** button.

<img src="/Selfdeclarations/Declarant_user/actions/company_registers_options_pay_screen.png"/>

The user will be redirected to the platform where they can complete the payment.

After completing the payment process, click **Return to merchant page** You will be returned to the screen where you select the payment method. The transaction response will be displayed, and you can download the tax.

<img src="/Selfdeclarations/Declarant_user/actions/company_registers_options_pay_status.png"/>

Upon completing the payment, the **Pay** action within the **"Options"** column in the table or list will change to display the list of tax payments.

## Download
At any point during the authorization and/or payment process, you can download the tax to be declared. If the tax has not yet been paid, a preview will be displayed on the page; if it has been paid, a PDF file will be downloaded.

To download the tax, click **Download**, located in the **"Options"** column of the table or list, and the document will be downloaded automatically.

<img src="/Selfdeclarations/Declarant_user/actions/company_registers_options.png"/>

The file will appear in the download directory you have configured in your browser, and when opened, it will display the information for the processed declaration.

## Cancel
This action allows users to void their tax return. By voiding a tax return, it cannot be edited, authorized, or paid.
<Note>
    The **cancel** option will only be available before the tax is paid. Once the payment has been made, it will be deactivated.
</Note>

To cancel a tax, click **Cancel**, which is in the **"Options"** column of the table or list.

<img src="/Selfdeclarations/Declarant_user/actions/company_registers_options.png"/>

A confirmation message will appear, press **Confirm** to approve it and the tax will be cancelled.

When you perform this action, the tax status will change to void, and in that status, only the view and download actions will be available.
