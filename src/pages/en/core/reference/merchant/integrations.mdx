export const sectionMode = 'nav';
export const title = 'Merchant Integrations';
export const apiRefs = ['/core/merchant/integration/create', '/core/merchant/integration/update', '/core/merchant/integration/delete', '/core/merchant/integration/search'];
export const description = 'Manage integrations for merchants, including creation, updates, deletions, and searches.';

## Adding an integration to a merchant {{ id: 'post-core-merchant-integration-create', tag: 'POST', label: '/core/merchant/integration/create' }}
<Row>
    <Col>
        This service allows you to add an integration to the merchant. If the response is successful, it returns the identifier of the merchant added.
        <ApiReader
            path="/core/merchant/integration/create"
            method="post"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <CodeGroup title="Request" tag="POST" label="/core/merchant/integration/create">
            ```bash {{title: 'Paygate'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\create \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "data": {
                    "customerId": 1,
                    "type": "paygate",
                    "settings": {
                        "return_url": "https://someurl.com/example",
                        "md5_hash": "CoMeRciO",
                        "soap_username": "soap_test",
                        "soap_password": "soap_password"
                    }
                }
            }'
            ```

            ```bash {{title: 'Invoice Settle'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\create \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "data": {
                    "customerId": 1,
                    "type": "invoice_settle",
                    "settings": {
                        "handler": "App\Jobs\Extra\NotifyInvoiceToEvertecSAP",
                        "url": "https://someurl.com/example",
                        "username": "user_test",
                        "password": "user_password"
                    }
                }
            }'
            ```

            ```bash {{title: 'Kount'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\create \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "data": {
                    "customerId": 1,
                    "type": "kount",
                    "settings": {
                        "sandbox": false,
                        "website": "DEFAULT",
                        "merchant": "201000",
                        "apiKey": "BORRAR ESTE SI SE USA KOUNT NORMAL"
                    }
                }
            }'
            ```

            ```bash {{title: 'Account Validator'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\create \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "data": {
                    "customerId": 1,
                    "type": "account_validator",
                    "settings": {
                        "onTest": false,
                        "expiration": 15,
                        "retries": 3,
                        "notificationURL": "https://someurl.com/example"
                    }
                }
            }'
            ```

            ```bash {{title: 'Push Notification'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\create \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "data": {
                    "customerId": 1,
                    "type": "push_notification",
                    "settings": {
                        "enabled": true
                    }
                }
            }'
            ```

            ```bash {{title: 'Brand Tokenization'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\create \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "data": {
                    "customerId": 1,
                    "type": "brand_tokenization",
                    "settings": {
                        "enabled": true,
                        "validateBrandStatusGlobal": true,
                        "allowProcessOldTokens": true
                    }
                }
            }'
            ```

            ```bash {{title: 'Notifier'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\create \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "data": {
                    "customerId": 1,
                    "type": "notifier",
                    "settings": {
                        "handler": "raw",
                        "retry_until": 60,
                        "retry_after": 60,
                        "enabled": true,
                        "additional": {
                            "uri": "https://someurl.com/example"
                        }
                    }
                }
            }'
            ```

            ```bash {{title: 'Clicktopay'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\create \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "data": {
                    "customerId": 1,
                    "type": "clicktopay",
                    "settings": {
                        "id": "dedab92a-ddb1-435b-961e-59982f506844",
                        "register_default": true,
                        "instrument_type": "TOKEN"
                    }
                }
            }'
            ```

            ```bash {{title: 'Azure Notification'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\create \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "data": {
                    "customerId": 1,
                    "type": "azure_notification",
                    "settings": {
                        "Provider": "MyProvider",
                        "BalanceResourceIdRef": 1,
                        "paymentReason": "Low Balance"
                    }
                }
            }'
            ```

            ```bash {{title: 'Open Finance'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\create \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "data": {
                    "customerId": 1,
                    "type": "open_finance",
                    "settings": {
                        "uIdAgreement": "8602301234-123456",
                        "enable": true
                    }
                }
            }'
            ```
        </CodeGroup>
    </Col>
</Row>
<Row>
    <Col>
        <ApiReader
            path="/core/merchant/integration/create"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Response">
            ```json {{ title: '200: Successful response' }}
            {
                "status": {
                    "status": "OK",
                    "reason": "00",
                    "message": "La petición se ha procesado correctamente",
                    "date": "2021-09-21T09:34:48-05:00"
                },
                "id": 1
            }
            ```
            ```json {{ title: '400: Failed response' }}
            {
                "status": {
                    "status": "FAILED",
                    "reason": "BR",
                    "message": "El campo data.customerId es obligatorio.",
                    "date": "2021-09-21T09:34:48-05:00"
                }
            }
            ```
            ```json {{ title: '401: Authentication failed' }}
            {
                "status": {
                    "status": "FAILED",
                    "reason": "401",
                    "message": "la autenticación no contiene todos los parámetros requeridos (login, tranKey, seed, nonce)",
                    "date": "2021-09-21T09:34:48-05:00"
                }
            }
            ```
        </CodeGroup>
    </Col>
</Row>

---
## Updating an integration associated with a merchant {{ id: 'post-core-merchant-integration-update', tag: 'POST', label: '/core/merchant/integration/update' }}
<Row>
    <Col>
        This service allows updating an integration associated with a merchant. If the response is successful, it returns the integration identifier.

        <ApiReader
            path="/core/merchant/integration/update"
            method="post"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <CodeGroup title="Request" tag="POST" label="/core/merchant/integration/update">
            ```bash {{title: 'Paygate'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\update \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "id": 1,
                "data": {
                    "settings": {
                        "return_url": "https://someurl.com/example",
                        "md5_hash": "CoMeRciO_UpDaTeD",
                        "soap_username": "soap_test_updated",
                        "soap_password": "soap_password_updated"
                    }
                }
            }'
            ```

            ```bash {{title: 'Invoice Settle'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\update \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "id": 1,
                "data": {
                    "settings": {
                        "handler": "App\Jobs\Extra\NotifyInvoiceToEvertecSAP",
                        "url": "https://someurl.com/example",
                        "username": "user_test_updated",
                        "password": "user_password_updated"
                    }
                }
            }'
            ```

            ```bash {{title: 'Kount'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\update \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "id": 1,
                "data": {
                    "settings": {
                        "sandbox": true,
                        "website": "DEFAULT_UPDATED",
                        "merchant": "201000",
                        "apiKey": "BORRAR ESTE SI SE USA KOUNT NORMAL"
                    }
                }
            }'
            ```

            ```bash {{title: 'Account Validator'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\update \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "id": 1,
                "data": {
                    "settings": {
                        "onTest": true,
                        "expiration": 15,
                        "retries": 5,
                        "notificationURL": "https://someurl.com/example"
                    }
                }
            }'
            ```

            ```bash {{title: 'Push Notification'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\update \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "id": 1,
                "data": {
                    "settings": {
                        "enabled": false
                    }
                }
            }'
            ```

            ```bash {{title: 'Brand Tokenization'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\update \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "id": 1,
                "data": {
                    "settings": {
                        "enabled": false,
                        "validateBrandStatusGlobal": true,
                        "allowProcessOldTokens": false
                    }
                }
            }'
            ```

            ```bash {{title: 'Notifier'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\update \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "id": 1,
                "data": {
                    "settings": {
                        "handler": "session",
                        "retry_until": 60,
                        "retry_after": 30,
                        "enabled": false,
                        "additional": {
                            "uri": "https://someurl.com/example"
                        }
                    }
                }
            }'
            ```

            ```bash {{title: 'Clicktopay'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\update \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "id": 1,
                "data": {
                    "settings": {
                        "id": "dedab92a-ddb1-435b-961e-59982f506844",
                        "register_default": false,
                        "instrument_type": "TOKEN"
                    }
                }
            }'
            ```

            ```bash {{title: 'Azure Notification'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\update \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "id": 1,
                "data": {
                    "settings": {
                        "Provider": "MyProviderUpdated",
                        "BalanceResourceIdRef": 1,
                        "paymentReason": "Low Balance"
                    }
                }
            }'
            ```

            ```bash {{title: 'Open Finance'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\update \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "id": 1,
                "data": {
                    "settings": {
                        "uIdAgreement": "8602301234-123456",
                        "enable": false
                    }
                }
            }'
            ```
        </CodeGroup>
    </Col>
</Row>
<Row>
    <Col>
        <ApiReader
            path="/core/merchant/integration/update"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Response">
            ```json {{ title: '200: Successful response' }}
            {
                "status": {
                    "status": "OK",
                    "reason": "00",
                    "message": "La petición se ha procesado correctamente.",
                    "date": "2021-09-21T09:34:48-05:00"
                },
                "id": 1
            }
            ```
            ```json {{ title: '400: Failed response' }}
            {
                "status": {
                    "status": "FAILED",
                    "reason": "BR",
                    "message": "El campo id es obligatorio.",
                    "date": "2021-09-21T09:34:48-05:00"
                }
            }
            ```
            ```json {{ title: '401: Authentication failed' }}
            {
                "status": {
                    "status": "FAILED",
                    "reason": "401",
                    "message": "la autenticación no contiene todos los parámetros requeridos (login, tranKey, seed, nonce)",
                    "date": "2021-09-21T09:34:48-05:00"
                }
            }
            ```
        </CodeGroup>
    </Col>
</Row>

---
## Removing an integration associated with a merchant {{ id: 'post-core-merchant-integration-delete', tag: 'POST', label: '/core/merchant/integration/delete' }}
<Row>
    <Col>
        This service allows the removal of an integration from a merchant. If the process is successful, the integration identifier is returned.

        <ApiReader
            path="/core/merchant/integration/delete"
            method="post"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <CodeGroup title="Request" tag="POST" label="/core/merchant/integration/delete">
            ```bash {{title: 'Remove an integration'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\delete \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "id": 1
            }'
            ```
        </CodeGroup>
    </Col>
</Row>
<Row>
    <Col>
        <ApiReader
            path="/core/merchant/integration/delete"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Response">
            ```json {{ title: '200: Successful response' }}
            {
                "status": {
                    "status": "OK",
                    "reason": "00",
                    "message": "La petición se ha procesado correctamente",
                    "date": "2021-09-21T09:34:48-05:00"
                },
                "id": 1
            }
            ```
            ```json {{ title: '400: Failed response' }}
            {
                "status": {
                    "status": "FAILED",
                    "reason": "BR",
                    "message": "El campo id es obligatorio.",
                    "date": "2021-09-21T09:34:48-05:00"
                }
            }
            ```
            ```json {{ title: '401: Authentication failed' }}
            {
                "status": {
                    "status": "FAILED",
                    "reason": "401",
                    "message": "la autenticación no contiene todos los parámetros requeridos (login, tranKey, seed, nonce)",
                    "date": "2021-09-21T09:34:48-05:00"
                }
            }
            ```
        </CodeGroup>
    </Col>
</Row>

---
## Query of integrations of a merchant {{ id: 'post-core-merchant-integration-search', tag: 'POST', label: '/core/merchant/integration/search' }}
<Row>
    <Col>
        This service allows you to query the page media associated with a merchant.
        It is possible to use filtering by means of the parameters: “id” and “type”.

        > ### Note
        >
        > It is not required to enter all the parameters for filtering.

        If you require the use of custom pagination, you must send the 'pagination' parameter along with the search filters.

        <ApiReader
            path="/core/merchant/integration/search"
            method="post"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <CodeGroup title="Request" tag="POST" label="/core/merchant/integration/search">
            ```bash {{title: 'Search for integrations associated with a merchant.'}}
            curl -X "POST" https:\test.placetopay.com\rest\core\merchant\integration\search \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "613822f45568191a8cdf4ad2299f6d23",
                    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
                    "nonce": "NjE1MWQ4MDE5YWViMw==",
                    "seed": "2021-09-27T09:41:05-05:00"
                },
                "customerId": 1,
                "id": 100,
                "type": "paygate",
                "pagination": {
                    "perPage": 10,
                    "currentPage": 1
                }
            }'
            ```
        </CodeGroup>
    </Col>
</Row>
<Row>
    <Col>
        <ApiReader
            path="/core/merchant/integration/search"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Response">
            ```json {{ title: '200: Successful response' }}
            {
                "status": {
                    "status": "OK",
                    "reason": "00",
                    "message": "La petición se ha procesado correctamente.",
                    "date": "2021-09-21T09:34:48-05:00"
                },
                "data": [
                    {
                        "id": 1,
                        "customerId": 1,
                        "type": "paygate",
                        "settings": {
                            "return_url": "https://google.com.co",
                            "md5_hash": "CoMeRciO",
                            "soap_username": "soap_test",
                            "soap_password": "soap_password"
                        }
                    }
                ],
                "pagination": {
                    "total": 1,
                    "perPage": 10,
                    "currentPage": 1,
                    "lastPage": 1
                }
            }
            ```
            ```json {{ title: '400: Failed response' }}
            {
                "status": {
                    "status": "FAILED",
                    "reason": "BR",
                    "message": "El campo customerId es obligatorio.",
                    "date": "2021-09-21T09:34:48-05:00"
                }
            }
            ```
            ```json {{ title: '401: Authentication failed' }}
            {
                "status": {
                    "status": "FAILED",
                    "reason": "401",
                    "message": "la autenticación no contiene todos los parámetros requeridos (login, tranKey, seed, nonce)",
                    "date": "2021-09-21T09:34:48-05:00"
                }
            }
            ```
        </CodeGroup>
    </Col>
</Row>
