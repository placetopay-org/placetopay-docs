export const sectionMode = 'nav';
export const title = 'Plans';
export const apiRefs = ['/core/plans/cancel', '/core/plans/create', '/core/plans/update', '/core/plans/remove', '/core/plans/search'];
export const description = 'Create, update, cancel, or search plans related to the core system.';

<MissingTranslationBanner />

## Cancelar un plan {{ id: 'post-core-plan-cancel', tag: 'POST', label: '/core/plans/cancel' }}

<Row>
    <Col>
        Este servicio permite cancelar un plan.
    
        <ApiReader
            path="/core/plans/cancel"
            method="post"
            api={props.refs}
        />
    </Col>
        <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/core/plans/cancel">
```bash {{title: 'Cancelar un plan'}}
curl -X "POST" https:\test.placetopay.com\rest\core\plans\cancel \
-H "Content-Type: application/json" \
-d '{
  "auth": {
    "login": "aabbccdd1234567890aabbccdd123456",
    "tranKey": "ABC123example456trankey+789abc012def3456ABC=",
    "nonce": "NjE1MWQ4MDE5YWViMw==",
    "seed": "2021-09-27T09:41:05-05:00"
  },
  "id": 1
}'
```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/core/plans/cancel"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
        <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
```json {{ title: '200: Respuesta exitosa' }}
{
  "status": {
    "status": "OK",
    "reason": "00",
    "message": "La petición se ha procesado correctamente.",
    "date": "2021-09-21T09:34:48-05:00"
  },
  "id": 1
}
```
```json {{ title: '400: Respuesta fallida' }}
{
  "Status": {
    "status": "FAILED",
    "reason": "BR",
    "message": "El campo id es obligatorio.",
    "date": "2021-09-21T09:34:48-05:00"
  }
}
```
```json {{ title: '401: Auntenticación fallida' }}
{
  "status": {
    "status": "FAILED",
    "reason": "401",
    "message": "la autenticación no contiene todos los parámetros requeridos (login, tranKey, seed, nonce)",
    "date": "2021-09-21T09:34:48-05:00"
  }
}
```
        </CodeGroup>
    </Col>
</Row>

---
## Crear un plan {{ id: 'post-core-plan-create', tag: 'POST', label: '/core/plans/create' }}

<Row>
    <Col>
        Este servicio permite crear un plan. Si la respuesta es exitosa, retorna el identificador del plan.
    
        <ApiReader
            path="/core/plans/create"
            method="post"
            api={props.refs}
        />
    </Col>
        <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/core/plans/create">
```bash {{title: 'Creación de un plan'}}
curl -X "POST" https:\test.placetopay.com\rest\core\plans\create \
-H "Content-Type: application/json" \
-d '{
  "auth": {
    "login": "aabbccdd1234567890aabbccdd123456",
    "tranKey": "ABC123example456trankey+789abc012def3456ABC=",
    "nonce": "NjE1MWQ4MDE5YWViMw==",
    "seed": "2021-09-27T09:41:05-05:00"
  },
  "invoiceTo": 1,
  "type": "ALL",
  "mode": "PERCENT",
  "frequence": "WEEKLY",
  "unbillThird": false,
  "aggregator": false,
  "validFrom": "2023-01-01",
  "validUntil": "2024-01-01"
}'
```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/core/plans/create"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
        <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
```json {{ title: '200: Respuesta exitosa' }}
{
  "status": {
    "status": "OK",
    "reason": "00",
    "message": "La petición se ha procesado correctamente.",
    "date": "2021-09-21T09:34:48-05:00"
  },
  "id": 2
}
```
```json {{ title: '400: Respuesta fallida' }}
{
  "Status": {
    "status": "FAILED",
    "reason": "BR",
    "message": "El campo type es obligatorio.",
    "date": "2021-09-21T09:34:48-05:00"
  }
}
```
```json {{ title: '401: Auntenticación fallida' }}
{
  "status": {
    "status": "FAILED",
    "reason": "401",
    "message": "la autenticación no contiene todos los parámetros requeridos (login, tranKey, seed, nonce)",
    "date": "2021-09-21T09:34:48-05:00"
  }
}
```
        </CodeGroup>
    </Col>
</Row>

---
## Editar un plan {{ id: 'post-core-plan-update', tag: 'POST', label: '/core/plans/update' }}

<Row>
    <Col>
        Este servicio permite editar un plan. Si la respuesta es exitosa, retorna el identificador del plan.
    
        <ApiReader
            path="/core/plans/update"
            method="post"
            api={props.refs}
        />
    </Col>
        <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/core/plans/update">
```bash {{title: 'Actualización de un plan'}}
curl -X "POST" https:\test.placetopay.com\rest\core\plans\update \
-H "Content-Type: application/json" \
-d '{
  "auth": {
    "login": "aabbccdd1234567890aabbccdd123456",
    "tranKey": "ABC123example456trankey+789abc012def3456ABC=",
    "nonce": "NjE1MWQ4MDE5YWViMw==",
    "seed": "2021-09-27T09:41:05-05:00"
  },
  "id": 2,
  "type": "ALL",
  "mode": "PERCENT",
  "frequence": "WEEKLY",
  "validFrom": "2023-01-01"
}'
```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/core/plans/update"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
        <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
```json {{ title: '200: Respuesta exitosa' }}
{
  "status": {
    "status": "OK",
    "reason": "00",
    "message": "La petición se ha procesado correctamente.",
    "date": "2021-09-21T09:34:48-05:00"
  },
  "id": 2
}
```
```json {{ title: '400: Respuesta fallida' }}
{
  "Status": {
    "status": "FAILED",
    "reason": "BR",
    "message": "El campo id es obligatorio.",
    "date": "2021-09-21T09:34:48-05:00"
  }
}
```
```json {{ title: '401: Auntenticación fallida' }}
{
  "status": {
    "status": "FAILED",
    "reason": "401",
    "message": "la autenticación no contiene todos los parámetros requeridos (login, tranKey, seed, nonce)",
    "date": "2021-09-21T09:34:48-05:00"
  }
}
```
        </CodeGroup>
    </Col>
</Row>

---
## Eliminar un plan {{ id: 'post-core-plan-remove', tag: 'POST', label: '/core/plans/remove' }}

<Row>
    <Col>
        Este servicio permite eliminar un plan.
    
        <ApiReader
            path="/core/plans/remove"
            method="post"
            api={props.refs}
        />
    </Col>
        <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/core/plans/remove">
```bash {{title: 'Eliminar un plan'}}
curl -X "POST" https:\test.placetopay.com\rest\core\plans\remove \
-H "Content-Type: application/json" \
-d '{
  "auth": {
    "login": "aabbccdd1234567890aabbccdd123456",
    "tranKey": "ABC123example456trankey+789abc012def3456ABC=",
    "nonce": "NjE1MWQ4MDE5YWViMw==",
    "seed": "2021-09-27T09:41:05-05:00"
  },
  "id": 1
}'
```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/core/plans/remove"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
        <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
```json {{ title: '200: Respuesta exitosa' }}
{
  "status": {
    "status": "OK",
    "reason": "00",
    "message": "La petición se ha procesado correctamente.",
    "date": "2021-09-21T09:34:48-05:00"
  },
  "id": 1
}
```
```json {{ title: '400: Respuesta fallida' }}
{
  "Status": {
    "status": "FAILED",
    "reason": "BR",
    "message": "El campo id es obligatorio.",
    "date": "2021-09-21T09:34:48-05:00"
  }
}
```
```json {{ title: '401: Auntenticación fallida' }}
{
  "status": {
    "status": "FAILED",
    "reason": "401",
    "message": "la autenticación no contiene todos los parámetros requeridos (login, tranKey, seed, nonce)",
    "date": "2021-09-21T09:34:48-05:00"
  }
}
```
        </CodeGroup>
    </Col>
</Row>

---
## Consulta de planes {{ id: 'post-core-plan-list', tag: 'POST', label: '/core/plans/search' }}

<Row>
    <Col>
        Este servicio permite consultar todos los planes existentes. Se puede filtrar por medio del identificador del plan. Si la respuesta es exitosa, retorna un arreglo con los planes.
    
        <ApiReader
            path="/core/plans/search"
            method="post"
            api={props.refs}
        />
    </Col>
        <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/core/plans/search">
```bash {{title: 'Listar planes'}}
curl -X "POST" https:\test.placetopay.com\rest\core\plans\search \
-H "Content-Type: application/json" \
-d '{
  "auth": {
    "login": "aabbccdd1234567890aabbccdd123456",
    "tranKey": "ABC123example456trankey+789abc012def3456ABC=",
    "nonce": "NjE1MWQ4MDE5YWViMw==",
    "seed": "2021-09-27T09:41:05-05:00"
  },
  "id": 1,
  "pagination": {
    "perPage": 10,
    "currentPage": 1
  }
}'
```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/core/plans/search"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
        <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
```json {{ title: '200: Respuesta exitosa' }}
{
  "status": {
    "status": "OK",
    "reason": "00",
    "message": "La petición se ha procesado correctamente.",
    "date": "2021-09-21T09:34:48-05:00"
  },
  "data": [
    {
      "id": 1,
      "invoiceTo": 1,
      "type": "APPROVED",
      "mode": "PERCENT",
      "frequence": "WEEKLY",
      "unbillThird": false,
      "aggregator": false,
      "description": "Plan Description",
      "validFrom": "2024-05-03",
      "validUntil": "2024-05-15",
      "updatedAt": "2024-01-20 15:02:14",
      "createdAt": "2024-01-20 15:02:14"
    },
    {
      "id": 2,
      "invoiceTo": 1,
      "type": "ALL",
      "mode": "PERCENT",
      "frequence": "BIWEEKLE",
      "unbillThird": true,
      "aggregator": true,
      "description": "Plan Description",
      "validFrom": "2024-05-03",
      "validUntil": "2024-05-05",
      "updatedAt": "2024-01-20 15:01:54",
      "createdAt": "2024-01-20 15:01:54"
    }
  ],
  "pagination": {
    "total": 30,
    "perPage": 10,
    "currentPage": 1,
    "lastPage": 1
  }
}
```
```json {{ title: '400: Respuesta fallida' }}
{
  "Status": {
    "status": "FAILED",
    "reason": "BR",
    "message": "El campo id debe ser un entero",
    "date": "2021-09-21T09:34:48-05:00"
  }
}
```
```json {{ title: '401: Auntenticación fallida' }}
{
  "status": {
    "status": "FAILED",
    "reason": "401",
    "message": "la autenticación no contiene todos los parámetros requeridos (login, tranKey, seed, nonce)",
    "date": "2021-09-21T09:34:48-05:00"
  }
}
```
        </CodeGroup>
    </Col>
</Row>
