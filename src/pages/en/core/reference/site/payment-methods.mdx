export const sectionMode = 'nav';
export const title = 'Site Payment Methods';
export const apiRefs = ['/core/site/payment-methods/create', '/core/site/payment-methods/update', '/core/site/payment-methods/delete', '/core/site/payment-methods/search'];
export const description = 'Manage payment methods specific to sites, including creating, updating, deleting, and searching.';

<MissingTranslationBanner />

## Agregar un medio de pago a un sitio {{ id: 'post-core-site-payment-methods-create', tag: 'POST', label: '/core/site/payment-methods/create' }}

<Row>
    <Col>
        Este servicio permite agregar un medio de pago existente a un sitio. Si el proceso el exitoso, se retorna el identificador del medio de pago asociado.
    
        <ApiReader
            path="/core/site/payment-methods/create"
            method="post"
            api={props.refs}
        />
    </Col>
        <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/core/site/payment-methods/create">
```bash {{title: 'Agregar un medio de pago a un sitio'}}
curl -X "POST" https:\test.placetopay.com\rest\core\site\payment-methods\create \
-H "Content-Type: application/json" \
-d '{
  "auth": {
    "login": "613822f45568191a8cdf4ad2299f6d23",
    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
    "nonce": "NjE1MWQ4MDE5YWViMw==",
    "seed": "2021-09-27T09:41:05-05:00"
  },
  "data": {
    "siteId": 1,
    "customerPaymentId": 1,
    "order": 1,
    "minAmount": 1,
    "maxAmount": 99999999.99,
    "accountType": 1,
    "accountNumber": "123456789900",
    "financialEntity": 1,
    "commissionModel": "P",
    "commissionValue": 1,
    "settings": {
      "merchantCode": "123456",
      "MID": "000468232",
      "RUC": "1234567890147",
      "terminalNumber": "01234567",
      "aggregatorModel": false
    },
    "creditRules": {
      "RM_MC": {
        "C": {
          "1": {
            "minimum": "1"
          },
          "2": {
            "remove": true
          },
          "3": {
            "maximum": "10"
          }
        }
      }
    }
  }
}'
```
```bash {{title: 'Agregar un medio de pago a un sitio (CREDIBANCO)'}}
curl -X "POST" https:\test.placetopay.com\rest\core\site\payment-methods\create \
-H "Content-Type: application/json" \
-d '{
  "auth": {
    "login": "613822f45568191a8cdf4ad2299f6d23",
    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
    "nonce": "NjE1MWQ4MDE5YWViMw==",
    "seed": "2021-09-27T09:41:05-05:00"
  },
  "data": {
    "siteId": 1,
    "customerPaymentId": 1,
    "order": 1,
    "minAmount": 1,
    "maxAmount": 99999999.99,
    "accountType": 1,
    "accountNumber": "123456789900",
    "financialEntity": 1,
    "commissionModel": "P",
    "commissionValue": 1,
    "settings": {
      "username": "username",
      "password": "password",
      "retailCode": "123456789",
      "terminalNumber": "71234567"
    },
    "creditRules": null
  }
}'
```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/core/site/payment-methods/create"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
        <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
```json {{ title: '200: Respuesta exitosa' }}
{
  "status": {
    "status": "OK",
    "reason": "00",
    "message": "La petición se ha procesado correctamente.",
    "date": "2021-09-21T09:34:48-05:00"
  },
  "id": 2
}
```
```json {{ title: '400: Respuesta fallida' }}
{
  "Status": {
    "status": "FAILED",
    "reason": "BR",
    "message": "El campo siteId es obligatorio.",
    "date": "2021-09-21T09:34:48-05:00"
  }
}
```
```json {{ title: '401: Auntenticación fallida' }}
{
  "status": {
    "status": "FAILED",
    "reason": "401",
    "message": "la autenticación no contiene todos los parámetros requeridos (login, tranKey, seed, nonce)",
    "date": "2021-09-21T09:34:48-05:00"
  }
}
```
        </CodeGroup>
    </Col>
</Row>

---
## Actualizar un medio de pago asociado a un sitio {{ id: 'post-core-site-payment-methods-update', tag: 'POST', label: '/core/site/payment-methods/update' }}

<Row>
    <Col>
        Este servicio permite actualizar un medio de pago asociado a un sitio. Si el proceso el exitoso, se retorna el identificador del medio de pago actualizado.
    
        <ApiReader
            path="/core/site/payment-methods/update"
            method="post"
            api={props.refs}
        />
    </Col>
        <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/core/site/payment-methods/update">
```bash {{title: 'Actualización de un medio de pago a un sitio'}}
curl -X "POST" https:\test.placetopay.com\rest\core\site\payment-methods\update \
-H "Content-Type: application/json" \
-d '{
  "auth": {
    "login": "613822f45568191a8cdf4ad2299f6d23",
    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
    "nonce": "NjE1MWQ4MDE5YWViMw==",
    "seed": "2021-09-27T09:41:05-05:00"
  },
  "id": 1,
  "data": {
    "order": 1,
    "minAmount": 1,
    "maxAmount": 99999999.99,
    "accountType": 1,
    "accountNumber": "123456789900",
    "financialEntity": 1,
    "commissionModel": "P",
    "commissionValue": 1,
    "settings": {
      "merchantCode": "123456",
      "MID": "000468232",
      "RUC": "1234567890147",
      "terminalNumber": "01234567",
      "aggregatorModel": false
    },
    "creditRules": null
  }
}'
```
```bash {{title: 'Actualización de un medio de pago a un sitio (CREDIBANCO)'}}
curl -X "POST" https:\test.placetopay.com\rest\core\site\payment-methods\update \
-H "Content-Type: application/json" \
-d '{
  "auth": {
    "login": "613822f45568191a8cdf4ad2299f6d23",
    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
    "nonce": "NjE1MWQ4MDE5YWViMw==",
    "seed": "2021-09-27T09:41:05-05:00"
  },
  "id": 1,
  "data": {
    "order": 1,
    "minAmount": 1,
    "maxAmount": 99999999.99,
    "accountType": 1,
    "accountNumber": "123456789900",
    "financialEntity": 1,
    "commissionModel": "P",
    "commissionValue": 1,
    "settings": {
      "username": "username",
      "password": "password",
      "retailCode": "123456789",
      "terminalNumber": "71234567"
    },
    "creditRules": null
  }
}'
```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/core/site/payment-methods/update"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
        <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
```json {{ title: '200: Respuesta exitosa' }}
{
  "status": {
    "status": "OK",
    "reason": "00",
    "message": "La petición se ha procesado correctamente.",
    "date": "2021-09-21T09:34:48-05:00"
  },
  "id": 2
}
```
```json {{ title: '400: Respuesta fallida' }}
{
  "Status": {
    "status": "FAILED",
    "reason": "BR",
    "message": "El campo siteId es obligatorio.",
    "date": "2021-09-21T09:34:48-05:00"
  }
}
```
```json {{ title: '401: Auntenticación fallida' }}
{
  "status": {
    "status": "FAILED",
    "reason": "401",
    "message": "la autenticación no contiene todos los parámetros requeridos (login, tranKey, seed, nonce)",
    "date": "2021-09-21T09:34:48-05:00"
  }
}
```
        </CodeGroup>
    </Col>
</Row>

---
## Remover un medio de pago asociado a un sitio {{ id: 'post-core-site-payment-methods-delete', tag: 'POST', label: '/core/site/payment-methods/delete' }}

<Row>
    <Col>
        Este servicio permite remover un medio de pago asociado a un sitio. Si el proceso el exitoso, se retorna el identificador del medio de pago eliminado.
    
        <ApiReader
            path="/core/site/payment-methods/delete"
            method="post"
            api={props.refs}
        />
    </Col>
        <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/core/site/payment-methods/delete">
```bash {{title: 'Remover un medio de pago de un sitio'}}
curl -X "POST" https:\test.placetopay.com\rest\core\site\payment-methods\delete \
-H "Content-Type: application/json" \
-d '{
  "auth": {
    "login": "613822f45568191a8cdf4ad2299f6d23",
    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
    "nonce": "NjE1MWQ4MDE5YWViMw==",
    "seed": "2021-09-27T09:41:05-05:00"
  },
  "id": 1
}'
```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/core/site/payment-methods/delete"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
        <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
```json {{ title: '200: Respuesta exitosa' }}
{
  "status": {
    "status": "OK",
    "reason": "00",
    "message": "La petición se ha procesado correctamente.",
    "date": "2021-09-21T09:34:48-05:00"
  },
  "id": 1
}
```
```json {{ title: '400: Respuesta fallida' }}
{
  "Status": {
    "status": "FAILED",
    "reason": "BR",
    "message": "El campo siteId es obligatorio.",
    "date": "2021-09-21T09:34:48-05:00"
  }
}
```
```json {{ title: '401: Auntenticación fallida' }}
{
  "status": {
    "status": "FAILED",
    "reason": "401",
    "message": "la autenticación no contiene todos los parámetros requeridos (login, tranKey, seed, nonce)",
    "date": "2021-09-21T09:34:48-05:00"
  }
}
```
        </CodeGroup>
    </Col>
</Row>

---
## Consulta de medios de pago asociados a un sitio {{ id: 'post-core-site-payment-methods-search', tag: 'POST', label: '/core/site/payment-methods/search' }}

<Row>
    <Col>
        Este servicio permite consultar los médios de págo asociados a un sitio. 
Es posible filtrar los resultados por medio de los parámetros: "id", "name", "code" y "franchise".

> ### Nota 
>
> *No es requerido ingresar todos los parámetros para el filtro.*

Si requiere el uso de paginación personalizada, debe enviar el parámetro 'pagination' junto a los filtros de la busqueda.
    
        <ApiReader
            path="/core/site/payment-methods/search"
            method="post"
            api={props.refs}
        />
    </Col>
        <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/core/site/payment-methods/search">
```bash {{title: 'Consulta de medios de pago'}}
curl -X "POST" https:\test.placetopay.com\rest\core\site\payment-methods\search \
-H "Content-Type: application/json" \
-d '{
  "auth": {
    "login": "613822f45568191a8cdf4ad2299f6d23",
    "tranKey": "bHehjzNcMQVQ1zto0GhmZxjeMhwA+3OlFPbOup16HGc=",
    "nonce": "NjE1MWQ4MDE5YWViMw==",
    "seed": "2021-09-27T09:41:05-05:00"
  },
  "siteId": 1,
  "id": 1,
  "name": "payment method name",
  "code": "ID_VS",
  "franchise": "VISA",
  "pagination": {
    "perPage": 15,
    "currentPage": 1
  }
}'
```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/core/site/payment-methods/search"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
        <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
```json {{ title: '200: Respuesta exitosa' }}
{
  "status": {
    "status": "OK",
    "reason": "00",
    "message": "La petición se ha procesado correctamente.",
    "date": "2021-09-21T09:34:48-05:00"
  },
  "data": [
    {
      "id": 1,
      "customerPaymentId": 1,
      "siteId": 1,
      "code": "RM_MC",
      "name": "MasterCard",
      "minAmount": 100,
      "maxAmount": 999999.99,
      "commissionModel": "F",
      "commissionValue": 1,
      "accountNumber": "123456878890",
      "accountType": 1,
      "franchise": "MASTERCARD",
      "financialEntity": 1,
      "order": 1,
      "disabled": true,
      "settings": null,
      "creditRules": {
        "RM_MC": {
          "C": {
            "1": {
              "minimum": "1"
            },
            "2": {
              "remove": true
            },
            "3": {
              "maximum": "10"
            }
          }
        }
      }
    }
  ],
  "pagination": {
    "total": 30,
    "perPage": 10,
    "currentPage": 1,
    "lastPage": 1
  }
}
```
```json {{ title: '400: Respuesta fallida' }}
{
  "Status": {
    "status": "FAILED",
    "reason": "BR",
    "message": "El campo siteId es obligatorio.",
    "date": "2021-09-21T09:34:48-05:00"
  }
}
```
```json {{ title: '401: Auntenticación fallida' }}
{
  "status": {
    "status": "FAILED",
    "reason": "401",
    "message": "la autenticación no contiene todos los parámetros requeridos (login, tranKey, seed, nonce)",
    "date": "2021-09-21T09:34:48-05:00"
  }
}
```
        </CodeGroup>
    </Col>
</Row>
