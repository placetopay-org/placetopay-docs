import {CodeGroup} from "../../../../../components/mdx";
export const sectionMode = 'nav';
export const apiRefs = ['/gateway/information', '/gateway/interests', '/gateway/balance']

## Information request {{ id: 'information-request', tag: 'POST', label: '/gateway/information' }}

<Row>
    <Col>
        This service provides information about the user's card that is going to be processed, such as what services will be used for it and the types of credit, if applicable, that are available for it. If there are no types of credit, an arrangement is returned. empty and if there are, each type of credit must be iterated with the installments found in the arrangement.

        <ApiReader
            path="/gateway/information"
            method="post"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/gateway/information">
        ```bash {{ title: 'Card' }}
        curl -X "POST" https://api-co-dev.placetopay.ws/gateway/information \
        -H "Content-Type: application/json" \
        -d '{
            "locale": "es_CO",
            "auth": {
                "login":"c51ce410c124a10e0db5e4b97fc2af39",
                "tranKey":"VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=",
                "nonce":"NjE0OWVkODgwYjNhNw==",
                "seed":"2021-09-21T09:34:48-05:00"
            },
            "payment": {
                "reference": "1122334455",
                "description": "Test",
                "amount": {
                    "currency": "USD",
                    "total": 100
                }
            },
            "instrument": {
                "card": {
                    "number": "4110760000000008",
                },
            },
            "ipAddress": "127.0.0.1",
            "userAgent": "Testing"
        }'
        ```

        ```bash {{ title: 'PSE' }}
        curl -X "POST" https://api-co-dev.placetopay.ws/gateway/information \
        -H "Content-Type: application/json" \
        -d '{
            "auth": {
                "login":"c51ce410c124a10e0db5e4b97fc2af39",
                "tranKey":"VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=",
                "nonce":"NjE0OWVkODgwYjNhNw==",
                "seed":"2021-09-21T09:34:48-05:00"
            },
            "locale": "es_CO",
            "payer": {
                "name": "Dr. Wilfredo Cole Sr.",
                "surname": "Corwin",
                "email": "jewell32@abbott.com",
                "documentType": "CC",
                "document": "2504950080",
                "mobile": "3006108300"
            },
            "payment": {
                "reference": "TEST_TRANSACTION",
                "description": "Pago de prueba",
                "amount": {
                    "total": 1000,
                    "currency": "COP"
                }
            },
            "instrument": {
                "redirection": {
                    "paymentMethod": "_PSE_",
                    "returnURL": "https://your-site.com/your-return-path"
                }
            },
            "ipAddress": "127.0.0.1",
            "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36"
        }'
        ```

        ```bash {{ title: 'Botón Bancolombia' }}
        curl -X "POST" https://api-co-dev.placetopay.ws/gateway/information \
        -H "Content-Type: application/json" \
        -d '{
            "auth": {
                "login":"c51ce410c124a10e0db5e4b97fc2af39",
                "tranKey":"VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=",
                "nonce":"NjE0OWVkODgwYjNhNw==",
                "seed":"2021-09-21T09:34:48-05:00"
            },
            "locale": "es_CO",
            "payer": {
                "name": "Dr. Wilfredo Cole Sr.",
                "surname": "Corwin",
                "email": "jewell32@abbott.com",
                "documentType": "CC",
                "document": "2504950080",
                "mobile": "3006108300"
            },
            "payment": {
                "reference": "TEST_TRANSACTION",
                "description": "Pago de prueba",
                "amount": {
                    "total": 1000,
                    "currency": "COP"
                }
            },
            "instrument": {
                "redirection": {
                    "paymentMethod": "BTNBC",
                    "returnURL": "https://your-site.com/your-return-path"
                }
            },
            "ipAddress": "127.0.0.1",
            "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36"
        }'
        ```

        ```bash {{ title: 'Botón Aval' }}
        curl -X "POST" https://api-co-dev.placetopay.ws/gateway/information \
        -H "Content-Type: application/json" \
        -d '{
            "auth": {
                "login": "e3501179e260d9445fb84304ce4268e1",
                "tranKey": "mPKy5sV5flDaEHv+GDx3/gfhJkLCYU8fq4rvfu45nNg=",
                "nonce": "Mnk2ZGhvc25kMDI=",
                "seed": "2024-12-04T00:21:02-05:00"
            },
            "payment": {
                "reference": "TEST_20210526_141005",
                "description": "Cum vitae et consequatur quas adipisci ut rem.",
                "amount": {
                    "currency": "COP",
                    "total": "1000"
                }
            },
            "instrument": {
                "redirection": {
                    "paymentMethod": "BTNAV",
                    "returnURL": "https://your-site.com/your-return-path"
                }
            },
            "locale": "es_CO",
            "ipAddress": "127.0.0.1",
            "userAgent": "Testing"
        }'
        ```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/gateway/information"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
        ```json {{ title: 'Card with installments' }}
            {
                "status": {
                    "status": "OK",
                    "reason": "00",
                    "message": "The request has been successfully processed",
                    "date": "2021-09-21T09:26:11-05:00"
                },
                "provider": "CREDIBANCO",
                "serviceCode": "CR_VS",
                "cardType": "C",
                "cardTypes": [
                    "C",
                    "R",
                    "A"
                ],
                "displayInterest": false,
                "requireOtp": false,
                "requireCvv2": true,
                "threeDS": "optional",
                "credits": [
                    {
                    "description": "Installments",
                    "code": "0",
                    "groupCode": "C",
                    "type": "00",
                    "installments": [
                        1,
                        2,
                        3,
                        4,
                        5,
                        6,
                        7,
                        8,
                        9,
                        10,
                        11,
                        12,
                        13,
                        14,
                        15,
                        16,
                        17,
                        18,
                        19,
                        20,
                        21,
                        22,
                        23,
                        24,
                        25,
                        26,
                        27,
                        28,
                        29,
                        30,
                        31,
                        32,
                        33,
                        34,
                        35,
                        36
                    ]
                    }
                ],
                "requireBalance": false,
            }
        ```

        ```json {{ title: 'Card with credits' }}
        {
            "status": {
                "status": "OK",
                "reason": "00",
                "message": "La petición se ha procesado correctamente",
                "date": "2024-12-04T08:25:15-05:00"
            },
            "provider": "INTERDIN",
            "serviceCode": "ID_DN",
            "cardType": "C",
            "cardTypes": [
                "C",
                "R",
                "A"
            ],
            "displayInterest": true,
            "requireOtp": true,
            "requireCvv2": true,
            "threeDS": "unsupported",
            "credits": [
                {
                    "code": 1,
                    "type": "00",
                    "groupCode": "C",
                    "installments": [
                        1
                    ],
                    "installment": 1,
                    "description": "CORRIENTE"
                },
                {
                    "code": 1,
                    "type": "02",
                    "groupCode": "P",
                    "installments": [
                        3,
                        6,
                        9,
                        12,
                        24
                    ],
                    "installment": 3,
                    "description": "DIFERIDO PROPIO"
                },
                {
                    "code": 1,
                    "type": "03",
                    "groupCode": "X",
                    "installments": [
                        3,
                        6,
                        9,
                        12
                    ],
                    "installment": 3,
                    "description": "PLAN PAGOS ESPECIAL"
                }
            ],
            "hasForwarding": false
        }
        ```

        ```json {{ title: 'PSE' }}
        {
            "status": {
                "status": "OK",
                "reason": "00",
                "message": "La petición se ha procesado correctamente",
                "date": "2024-12-04T08:28:06-05:00"
            },
            "provider": "ACH",
            "serviceCode": "_PSE_",
            "requireRedirection": true,
            "bankList": [
                {
                    "description": "BANCO AV VILLAS",
                    "code": "1052"
                },
                {
                    "description": "BANCOLOMBIA",
                    "code": "1007"
                },
                {
                    "description": "BANCO UNION COLOMBIANO",
                    "code": "1022"
                },
                {
                    "description": "ITAU",
                    "code": "1014"
                },
                {
                    "description": "NEQUI",
                    "code": "1507"
                },
                {
                    "description": "Placetopay Bank",
                    "code": "9999"
                },
                {
                    "description": "SCOTIABANK COLPATRIA S.A",
                    "code": "1019"
                }
            ],
            "cardType": null,
            "cardTypes": null,
            "displayInterest": false,
            "requireOtp": false,
            "requireCvv2": false,
            "threeDS": "unsupported",
            "credits": []
        }
        ```

        ```json {{ title: 'Botón Bancolombia' }}
        {
            "status": {
                "status": "OK",
                "reason": "00",
                "message": null,
                "date": "2024-12-18T11:37:03-05:00"
            },
            "provider": "BANCOLOMBIA",
            "serviceCode": "BTNBC",
            "requireRedirection": true,
            "cardType": null,
            "cardTypes": null,
            "displayInterest": false,
            "requireOtp": false,
            "requireCvv2": false,
            "threeDS": "unsupported",
            "credits": []
        }
        ```

        ```json {{ title: 'Botón Aval' }}
            {
                "status": {
                    "status": "OK",
                    "reason": "00",
                    "message": null,
                    "date": "2024-12-05T00:59:40-05:00"
                },
                "provider": "AVAL",
                "serviceCode": "BTNAV",
                "requireRedirection": true,
                "bankList": [
                    {
                        "id": "1",
                        "code": "0052",
                        "description": "Banco AV Villas"
                    },
                    {
                        "id": "3",
                        "code": "0001",
                        "description": "Banco Bogota"
                    },
                    {
                        "id": "5",
                        "code": "0023",
                        "description": "Banco Occidente"
                    },
                    {
                        "id": "4",
                        "code": "0002",
                        "description": "Banco Popular"
                    }
                ],
                "cardType": null,
                "cardTypes": null,
                "displayInterest": false,
                "requireOtp": false,
                "requireCvv2": false,
                "threeDS": "unsupported",
                "credits": []
            }
        ```
        </CodeGroup>
    </Col>
</Row>

---

## Interest Calculation (Ecuador only) {{ id: 'interests-request', tag: 'POST', label: '/gateway/interests' }}

<Row>
    <Col>
        This service should be consumed if the card requires interest to be displayed (displayInterest set to true) and as an example of this way the values ​​are displayed in the redirection service.

        <ApiReader
            path="/gateway/interests"
            method="post"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/gateway/interests">
```bash {{ title: 'cURL' }}
curl -X "POST" https://api-co-dev.placetopay.ws/gateway/interests \
-H "Content-Type: application/json" \
-d '{
    "locale": "es_CO",
    "auth": {
        "login":"c51ce410c124a10e0db5e4b97fc2af39",
        "tranKey":"VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=",
        "nonce":"NjE0OWVkODgwYjNhNw==",
        "seed":"2021-09-21T09:34:48-05:00"
    },
    "payer": {
        "name": "John",
        "email": "john.doe@example.com"
    },
    "payment": {
        "reference": "1122334455",
        "amount": {
            "currency": "USD",
            "total": 100
        }
    },
    "instrument": {
        "card": {
            "number": "4110760000000008",
            "expiration": "12/20",
            "cvv": "123"
        },
        "credit": {
            "code": "1",
            "type": "02",
            "groupCode": "P",
            "installment": "24"
        }
    },
    "ipAddress": "127.0.0.1",
    "userAgent": "Testing"
}'
```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/gateway/interests"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
```json {{ title: '200' }}
    {
        "status": {
            "status": "OK",
            "reason": "00",
            "message": "La petición se ha procesado correctamente",
            "date": "2021-09-22T16:08:19-05:00"
        },
        "provider": "INTERDIN",
        "values": {
            "original": 1,
            "installment": 0.04,
            "interest": 0.03,
            "total": 1.03
        },
        "conversion": {
            "from": {
            "currency": "COP",
            "total": 3000
            },
            "to": {
            "currency": "USD",
            "total": 1
            },
            "factor": 0.0003333333333333333
        }
    }
```
        </CodeGroup>
    </Col>
</Row>

---

## Get Balance {{ id: 'balance-request', tag: 'POST', label: '/gateway/balance' }}

<Row>
    <Col>
        This service allows you to query balance information. It should be consumed if the payment method requires it (When the 'requireBalance' flag is 'true' in response from the information service).

        <ApiReader
            path="/gateway/balance"
            method="post"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <CodeGroup title="Request" tag="POST" label="/gateway/balance">
```bash {{ title: 'cURL' }}
curl -X "POST" https://api-co-dev.placetopay.ws/gateway/balance \
-H "Content-Type: application/json" \
-d '{
    "locale": "en_CR",
    "auth": {
        "login":"c51ce410c124a10e0db5e4b97fc2af39",
        "tranKey":"VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=",
        "nonce":"NjE0OWVkODgwYjNhNw==",
        "seed":"2021-09-21T09:34:48-05:00"
    },
    "payment": {
        "reference": "1122334455",
        "description": "Test"
        "amount": {
            "currency": "CRC",
            "total": 1000
        }
    },
    "instrument": {
         "card": {
            "number": "4111111111111111",
            "expiration": "12/30"
        },
    },
    "ipAddress": "127.0.0.1",
    "userAgent": "Testing"
}'
```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/gateway/balance"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Response">
```json {{ title: '200' }}
    {
        "status": {
            "status": "OK",
            "reason": "00",
            "message": "The request has been successfully processed",
            "date": "2021-09-22T16:08:19-05:00"
        },
        "provider": 42356.32
    }
```
```json {{ title: '400' }}
    {
        "status": {
            "status": "FAILED",
            "reason": "BR",
            "message": "The instrument.card.expiration field is required.",
            "date": "2024-11-01T07:12:57-05:00"
        }
    }
```
        </CodeGroup>
    </Col>
</Row>

---