import { HeroPattern } from '@/components/HeroPattern'

<HeroPattern />

# AutoPay Charge Types

AutoPay offers three configuration types to adapt to your business model, allowing everything from flat fees to variable amounts based on consumption.

The `recurring.type` property defines the logic applied to determine the final transaction amount.

## Comparison Table

| Type | Business Model | Requires Balance API? | Example |
| :--- | :--- | :--- | :--- |
| **FIXED** | Constant Value | **No** | Memberships, Tuitions, Insurance |
| **TOTAL_BALANCE** | Variable Consumption | **Yes** | Utilities, Post-paid Phone Bills |
| **MINIMUM_BALANCE** | Flexible Payments | **Yes** | Revolving Credits, Credit Cards |

---

## Type Details

### 1. FIXED (Fixed Amount)
The simplest and most common model. The amount to charge is defined **once** when creating the subscription.
* **Behavior:** Always charges the same amount defined at creation.
* **Integration:** Does not require querying your server.
* **Ideal for:** Gyms, software subscriptions (SaaS), school tuitions, monthly insurance premiums, or recurring donations.

### 2. TOTAL_BALANCE (Total Balance)
Designed for merchants where the amount changes from cycle to cycle.
* **Behavior:** Before each charge, AutoPay queries your `/balance` endpoint.
* **Logic:** Takes the value reported in the `amount` field of your API and processes the charge for that exact quantity.
* **Ideal for:** Energy, water, gas bills, or consumption-based phone plans.

### 3. MINIMUM_BALANCE (Minimum Payment)
Designed for financial products that offer payment flexibility to the user.
* **Behavior:** Queries your `/balance` endpoint.
* **Logic:** Charges the value reported in the `min_amount` field of your API.
* **Ideal for:** Credits where the user has authorized the automatic deduction of the minimum payment required to stay current.

<Note>
  **Technical Requirement:** To use `TOTAL_BALANCE` or `MINIMUM_BALANCE`, your server must expose the [Balance Query](/autopay/contracts/balance) endpoint so AutoPay can ask how much to charge.
</Note>