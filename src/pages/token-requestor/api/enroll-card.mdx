export const description = 'enroll-card.';

export const apiRefs = ['/api/enroll-card'];

# EnrollCard

Esta API registra una tarjeta y la convierte en token para que el consumidor pueda utilizar el token para pagos posteriores

---
# Inscribir una tarjeta {{ id: 'enroll-card', tag: 'POST', label: '/api/enroll-card' }}

<Row>
  <Col>
    <ApiReader
      path="/api/enroll-card"
      method="POST"
      api={props.refs}
    />
  </Col>
  <Col sticky>

    <br />
    <CodeGroup title="Solicitud" tag="POST" label="/api/enroll-card">
    ```bash {{ title: 'cURL' }}
    curl -X "POST" https://tsp-dev.placetopay.ws/api/enroll-card \
    -H "Content-Type: application/json" \
    -d '{
      "service": "visa",
      "merchantId": "d5502955e13a4e63aa6e12e6f1d0ab01",
      "clientWalletAccountID": "1b7b8d26",
      "card": {
        "number": "4123700070000045",
        "expiration": "12/23",
        "cvv": "758"
      },
      "locale": "es_CO",
      "ipAddress": "89.24.143.232",
      "payer": {
        "name": "Bill",
        "surname": "Evans",
        "email": "vtstests@visa.com",
        "address": {
          "street": "801MetroCenterBlvd",
          "street2": "801MetroCenterBlvd222",
          "city": "FosterCity",
          "state": "CA",
          "country": "US",
          "postalCode": "94404"
        }
      }
    }'
    ```
    </CodeGroup>
  </Col>
</Row>

<Row>
  <Col>
    <ApiReader
      path="/api/enroll-card"
      method="post"
      type="response"
      api={props.refs}
    />
  </Col>
  <Col sticky>
    <br />
    <CodeGroup title="Respuesta">
    ```json {{ title: '200' }}
    {
      "status": {
        "status": "OK",
        "reason": "00",
        "message": "Operation successfully!",
        "date": "2024-01-02T16:31:20+00:00"
      },
      "data": {
        "requestId": "907932b1-f5bd-4fe2-b05b-cc28a16de9f5",
        "card": {
          "lastFour": "1234"
        },
        "token": {
          "token": "907932b1-f5bd-4fe2-b05b-cc28a16d23456",
          "tokenReference": "907932b1-f5bd-4fe2",
          "status": "ACTIVE",
          "lastDigits": "4321",
          "validUntil": "2023/12/31"
        }
      }
    }
    ```
    ```json {{ title: '400' }}
    {
      "status": {
        "status": "FAILED",
        "message": "Invalid Argument!",
        "reason": "X3",
        "date": "2022-07-27T14:51:27-05:00"
      },
      "data": {
        "message": "Invalid Request",
        "detail": "merchantInfo.argument"
      }
    }
    ```
    ```json {{ title: '401' }}
    {
      "status": {
        "status": "FAILED",
        "message": "Credentials not match",
        "reason": "X3",
        "date": "2022-07-27T14:51:27-05:00"
      },
      "data": []
    }
    ```
    ```json {{ title: '404' }}
    {
      "status": {
        "status": "FAILED",
        "message": "Route not found!",
        "reason": "X3",
        "date": "2022-07-27T14:51:27-05:00"
      },
      "data": []
    }
    ```
    </CodeGroup>
  </Col>
</Row>

