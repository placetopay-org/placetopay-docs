export const description = 'get-token-status.';

export const apiRefs = ['/api/token/status'];


# GetTokenStatus

Este endpoint permite consultar el estado actual de un token de marca. Su funcionalidad es
retornar los datos actualizados del token, evitando intentos fallidos en la generación de
criptogramas y optimizando el procesamiento de pagos.
Antes de consumir esta API debe existir en la plataforma un comercio registrado en la
marca y un token anteriormente dado.

---

<Note type="warning">
    Los códigos de razón actualmente documentados no son definitivos y pueden actualizarse en futuras versiones.
</Note>

# Obtener estado del token {{ id: 'get-token-status', tag: 'POST', label: '/api/token/status' }}

<Row>
  <Col>
    <ApiReader
      path="/api/token/status"
      method="POST"
      api={props.refs}
    />
  </Col>
  <Col sticky>

    <br />
    <CodeGroup title="Solicitud" tag="POST" label="/api/token/status">
    ```bash {{ title: 'cURL' }}
    curl -X "POST" https://token-requestor.placetopay.ws/api/token/status \
    -H "Content-Type: application/json" \
    -d '{
        "auth": {
            "login":"1441d14df19ec88431e513bb990326e1",
            "tranKey":"DGYymv6ohpYwtLWon/iADE/COoo9JXt4jqyk6D006PY=",
            "nonce":"enQ4dXh3YWhkMWM=",
            "seed":"2023-06-21T09:56:06-05:00"
        },
        "merchantId": "2e988305-40bb-4e77-a992-c0dce3303db9",
        "instrument": {
            "brandToken": {
                "id": "6s988305-40bb-4e77-a992-c0dce3527dd8",
            }
        }
    }'
    ```
    </CodeGroup>
  </Col>
</Row>

<Row>
  <Col>
    <ApiReader
      path="/api/token/status"
      method="post"
      type="response"
      api={props.refs}
    />
  </Col>
  <Col sticky>
    <br />
    <CodeGroup title="Respuesta">
    ```json {{ title: '200' }}
        {
        "status": {
            "status": "OK",
            "reason": "00",
            "description": "Token status retrieved successfully!",
        },
        "data": {
            "status": "ACTIVE",
            "expiration": "28/04",
            "artURL": "https:://s3Propio.aws.com/tr/brand/1/logo.png",
            "createdAt": "2025-01-07 20:18:56",
            "updatedAt": "2025-01-20 23:30:09"
        }
    }
    ```
    </CodeGroup>
  </Col>
</Row>
