
import {CodeGroup} from "../../../../components/mdx";
export const sectionMode = 'nav';
export const apiRefs = [
    '/api/admin/merchants/create',
    '/api/admin/merchants/update',
    '/api/admin/merchants/delete',
    '/api/admin/merchants/show',
    '/api/admin/merchants/index',
];

## Creación de comercio {{ id: 'token-requestor-api-admin-merchants-create', tag: 'POST', label: '/api/admin/merchants/create' }}

<Row>
    <Col>
        Esta operación permite registrar un nuevo comercio dentro del entorno de administración del sistema. El servicio está disponible únicamente para usuarios autenticados con permisos asociados y requiere una credencial válida. Esta operación se utiliza principalmente en entornos administrativos, tanto de prueba como de producción, dependiendo de los valores suministrados.

        Una vez creado, el comercio queda registrado en el sistema con su respectiva información.

        <ApiReader
            path="/api/admin/merchants/create"
            method="post"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/api/admin/merchants/create">
            ```bash {{ title: 'Crear comercio' }}
            curl -X "POST" https://token-requestor.placetopay.ws/api/admin/merchants/create \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "f329e676189bb2a447a17ea595153545",
                    "tranKey": "coMTloZknUHnioHIKvJYq5d31fVhOdCrn3kaExSvTGo=",
                    "nonce": "MnFrcmZlYjQ0bXk=",
                    "seed": "2025-07-03T20:28:43-05:00"
                },
                "data": {
                    "name": "ACME Corp",
                    "brand": "ACME Corp BRAND",
                    "mcc": "0742",
                    "websiteURL": "https://acme.com",
                    "consumerId": "c4a2ff00-87b2-4cfb-91e5-abc123456789",
                    "address": {
                        "street": "Direccion del customer",
                        "city": "Medellin",
                        "state": "belen",
                        "country": "CO",
                        "phone": "3172234333",
                        "zipCode": "050031"
                    },
                    "document": {
                        "type": "NIT",
                        "number": "1234567895"
                    },
                    "legalRepresentative": {
                        "documentType": "CC",
                        "documentNumber": "1000000000",
                        "name": "Jane Doe",
                        "surname": "Jane Doe",
                        "email": "Jane@Doe",
                        "phone": "34455"
                    }
                }
            }'
            ```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/api/admin/merchants/create"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
            ```json {{ title: 'Respuesta Exitosa' }}
            {
                "status": {
                    "status": "OK",
                    "reason": "00",
                    "message": "The request has been successfully processed",
                    "date": "2025-07-04T01:58:01+00:00"
                },
                "data": {
                    "id": "9f4e7b7e-0fab-43f1-be72-ea13efe2d745"
                }
            }
            ```
        </CodeGroup>
    </Col>
</Row>

---

## Actualización de comercio {{ id: 'token-requestor-api-admin-merchants-update', tag: 'POST', label: '/api/admin/merchants/update' }}

<Row>
    <Col>
        Esta operación permite modificar los atributos de un comercio existente en el entorno administrativo. Está diseñada para actualizar únicamente los campos enviados en la solicitud, sin alterar los demás valores del comercio. Está disponible solo para usuarios autenticados que cuenten con permisos adecuados de gestión de comercios.

        Cada atributo modificable debe enviarse dentro del objeto data, acompañado del campo obligatorio id que identifica al comercio que se desea actualizar. La operación es segura y controlada, evitando la modificación de campos no autorizados como el merchant o consumer.

        <ApiReader
            path="/api/admin/merchants/update"
            method="post"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/api/admin/merchants/update">
            ```bash {{ title: 'Crear comercio' }}
            curl -X "POST" https://token-requestor.placetopay.ws/api/admin/merchants/update \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "f329e676189bb2a447a17ea595153545",
                    "tranKey": "coMTloZknUHnioHIKvJYq5d31fVhOdCrn3kaExSvTGo=",
                    "nonce": "MnFrcmZlYjQ0bXk=",
                    "seed": "2025-07-03T20:28:43-05:00"
                },
                "id": "9f5db0db-102a-40f8-a1aa-d7735d9fb50a",
                "data": {
                    "name": "ACME Corp Updated",
                    "brand": "ACME Corp BRAND Updated",
                    "mcc": "0743",
                    "websiteURL": "https://acme-updated.com",
                    "address": {
                        "street": "Direccion del customer",
                        "city": "Medellin",
                        "state": "belen",
                        "country": "CO",
                        "phone": "3172234333",
                        "zipCode": "050031"
                    },
                    "legalRepresentative": {
                        "documentType": "CC",
                        "documentNumber": "1000000000",
                        "name": "Jane Doe",
                        "surname": "Jane Doe",
                        "email": "Jane@Doe",
                        "phone": "34455"
                    }
                }
            }'
            ```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/api/admin/merchants/update"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
            ```json {{ title: 'Respuesta Exitosa' }}
            {
                "status": {
                    "status": "OK",
                    "reason": "00",
                    "message": "The request has been successfully processed",
                    "date": "2025-07-04T01:58:01+00:00"
                },
                "data": {
                    "id": "9f4e7b7e-0fab-43f1-be72-ea13efe2d745"
                }
            }
            ```
        </CodeGroup>
    </Col>
</Row>

---

## Eliminación de comercio {{ id: 'token-requestor-api-admin-merchants-delete', tag: 'POST', label: '/api/admin/merchants/delete' }}

<Row>
    <Col>
        Esta operación permite eliminar un comercio registrado en el entorno administrativo del sistema. Está restringida a usuarios autenticados que cuenten con los permisos correspondientes para gestión de comercios. La eliminación está condicionada por su relación con otros recursos.

        En caso de que el comercio tenga sitios asociados, la operación será rechazada y se notificará al cliente que no puede proceder con la eliminación. Solo los comercios sin sitios podrán ser eliminados exitosamente. Esta operación es irreversible.

        <ApiReader
            path="/api/admin/merchants/delete"
            method="post"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/api/admin/merchants/delete">
            ```bash {{ title: 'Eliminar comercio' }}
            curl -X "POST" https://token-requestor.placetopay.ws/api/admin/merchants/delete \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "f329e676189bb2a447a17ea595153545",
                    "tranKey": "coMTloZknUHnioHIKvJYq5d31fVhOdCrn3kaExSvTGo=",
                    "nonce": "MnFrcmZlYjQ0bXk=",
                    "seed": "2025-07-03T20:28:43-05:00"
                },
                "id": "9f5db0db-102a-40f8-a1aa-d7735d9fb50a"
            }'
            ```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/api/admin/merchants/delete"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
            ```json {{ title: 'Respuesta Exitosa' }}
            {
                "status": {
                    "status": "OK",
                    "reason": "00",
                    "message": "The request has been successfully processed",
                    "date": "2025-07-04T01:58:01+00:00"
                }
            }
            ```
        </CodeGroup>
    </Col>
</Row>

---

## Consulta de comercio {{ id: 'token-requestor-api-admin-merchants-show', tag: 'POST', label: '/api/admin/merchants/show' }}

<Row>
    <Col>
        Esta operación permite consultar la información detallada de un comercio previamente registrado en el sistema administrativo. Está disponible exclusivamente para usuarios autenticados que tengan permisos de acceso y visibilidad sobre el recurso.

        La respuesta incluye información básica del comercio.

        Esta operación valida que el identificador suministrado exista y que el usuario solicitante tenga acceso autorizado sobre dicho recurso, ya sea por relación directa o por reglas de exclusión ACL.

        <ApiReader
            path="/api/admin/merchants/show"
            method="post"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/api/admin/merchants/show">
            ```bash {{ title: 'Consultar comercio' }}
            curl -X "POST" https://token-requestor.placetopay.ws/api/admin/merchants/show \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "f329e676189bb2a447a17ea595153545",
                    "tranKey": "coMTloZknUHnioHIKvJYq5d31fVhOdCrn3kaExSvTGo=",
                    "nonce": "MnFrcmZlYjQ0bXk=",
                    "seed": "2025-07-03T20:28:43-05:00"
                },
                "id": "9f5db0db-102a-40f8-a1aa-d7735d9fb50a"
            }'
            ```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/api/admin/merchants/show"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
            ```json {{ title: 'Respuesta Exitosa' }}
            {
                "status": {
                    "status": "OK",
                    "reason": "00",
                    "message": "The request has been successfully processed",
                    "date": "2025-07-04T01:58:01+00:00"
                },
                "data": {
                    "id": "9f5db0db-102a-40f8-a1aa-d7735d9fb50a",
                    "name": "ACME Corp",
                    "brand": "ACME Corp BRAND",
                    "mcc": "0742",
                    "consumer": {
                        "id": "0197f9ea-0277-709b-b9cb-d690d0742c57",
                        "name": "ACME Corp"
                    },
                    "address": {
                        "street": "Direccion del customer",
                        "city": "Medellin",
                        "state": "belen",
                        "country": "CO",
                        "phone": "3172234333",
                        "zipCode": "050031"
                    },
                    "document": {
                        "type": "NIT",
                        "number": "1234567895"
                    },
                    "legalRepresentative": {
                        "documentType": "CC",
                        "document": null,
                        "name": "Jane Doe",
                        "surname": "Jane Doe",
                        "email": "Jane@Doe",
                        "phone": "34455"
                    },
                    "availableFranchises": {
                       "master": "OK",
                       "visa": "OK"
                    },
                    "websiteURL": "https://acme.com",
                    "createdAt": "2025-07-11 15:24:39",
                    "updatedAt": "2025-07-11 15:24:39"
                }
            }
            ```
        </CodeGroup>
    </Col>
</Row>

---

## Listado de comercios {{ id: 'token-requestor-api-admin-merchants-index', tag: 'POST', label: '/api/admin/merchants/index' }}

<Row>
    <Col>
        Esta operación permite obtener un listado de los comercios registrados en el sistema administrativo retornando un conjunto de resultados paginados, con la posibilidad de aplicar múltiples filtros para acotar la búsqueda. Solo puede ser utilizada por credenciales autenticadas y autorizadas, de acuerdo con los permisos de acceso definidos por el sistema.

        El sistema soporta además mecanismos de exclusión por ACL, por lo cual ciertos comercios pueden no aparecer en el listado dependiendo de las reglas de acceso configuradas para la credencial autenticada.

        <ApiReader
            path="/api/admin/merchants/index"
            method="post"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/api/admin/merchants/index">
            ```bash {{ title: 'Listar comercios' }}
            curl -X "POST" https://token-requestor.placetopay.ws/api/admin/merchants/index \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login": "f329e676189bb2a447a17ea595153545",
                    "tranKey": "coMTloZknUHnioHIKvJYq5d31fVhOdCrn3kaExSvTGo=",
                    "nonce": "MnFrcmZlYjQ0bXk=",
                    "seed": "2025-07-03T20:28:43-05:00"
                },
                "filters": {
                    "consumers": ["0197f9ea-0277-709b-b9cb-d690d0742c57"],
                    "name": "ACME Corp",
                    "brand": "ACME Corp Brand",
                    "document": {
                        "type": "NIT",
                        "number": "1234567895"
                    },
                    "createdAt": {
                        "from": "2025-07-01",
                        "to": "2025-07-12"
                    }
                },
                "pagination": {
                    "perPage": 10,
                    "currentPage": 1
                }
            }'
            ```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/api/admin/merchants/index"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
            ```json {{ title: 'Respuesta Exitosa' }}
            {
                "status": {
                    "status": "OK",
                    "reason": "00",
                    "message": "The request has been successfully processed",
                    "date": "2025-07-04T01:58:01+00:00"
                },
                "pagination": {
                    "total": 1,
                    "perPage": 10,
                    "currentPage": 1,
                    "lastPage": 1
                },
                "data": {
                    "id": "9f5db0db-102a-40f8-a1aa-d7735d9fb50a",
                    "name": "ACME Corp",
                    "brand": "ACME Corp BRAND",
                    "document": {
                        "type": "NIT",
                        "number": "1234567895"
                    },
                    "consumer": {
                        "id": "0197f9ea-0277-709b-b9cb-d690d0742c57",
                        "name": "ACME Corp"
                    },
                    "createdAt": "2025-07-11 15:24:39",
                    "updatedAt": "2025-07-11 15:24:39"
                }
            }
            ```
        </CodeGroup>
    </Col>
</Row>
