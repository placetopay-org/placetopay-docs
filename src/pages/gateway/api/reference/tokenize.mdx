export const sectionMode = 'nav';
export const apiRefs = ['/gateway/tokenize', '/invalidate', '/gateway/token']

## Tokenización (tokenize) {{ id: 'tokenize-request', tag: 'POST', label: '/gateway/tokenize' }}

<Row>
    <Col>
        Este servicio permite almacenar un instrumento de pago como: tarjetas de crédito o cuenta bancaria de manera segura, a través de una petición que contenga la información de la misma, se generará un token que puede ser usado en el servicio de procesamiento y para todos los efectos, en PlacetoPay equivale a una tarjeta de crédito o cuenta bancaria, la diferencia es que se envía la estructura token en vez de card o account.

        > Previamente al consumo de este servicio se debe consultar el de información para saber si es necesario o no generar un OTP al cliente y en caso de ser necesario, solicitar el token a la persona y enviarlo en el consumo.

         <Note type="error"> La autenticación 3D Secure (3DS) aplica únicamente a la transacción inicial de tokenización. Las transacciones posteriores realizadas con el token no están autenticadas por 3DS; por lo tanto, ante reclamaciones o contracargos, la responsabilidad recae en el comercio. Considere este escenario dentro de su gestión de riesgo.  En caso de requirir habilitarlo para las transacciones posteriores por favor comunicate con tu comercial asignado para analizar tu caso </Note>

        <ApiReader
            path="/gateway/tokenize"
            method="post"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/gateway/tokenize">
```bash {{ title: 'Tarjeta de crédito' }}
curl -X "POST" https://api-co-dev.placetopay.ws/gateway/tokenize \
-H "Content-Type: application/json" \
-d '{
    "auth": {
        "login": "aabbccdd1234567890aabbccdd123456",
        "tranKey": "ABC123example456trankey+789abc012def3456ABC=",
        "nonce": "NjBjYjc3YTYwZGZhYw==",
        "seed": "2021-06-17T11:26:14-05:00"
    },
    "payer": {
        "name": "John",
        "surname": "Doe",
        "email": "user_email@example.com"
    },
    "instrument": {
        "card": {
            "number": "5180300000000005",
            "expiration": "12/18",
            "cvv": "123",
            "installments": "3"
        }
    },
    "ipAddress": "127.0.0.1",
    "userAgent": "Testing"
}'
```
```bash {{ title: 'Cuenta bancaria' }}
curl -X "POST" https://api-co-dev.placetopay.ws/gateway/tokenize \
-H "Content-Type: application/json" \
-d '{
    "auth": {
        "login": "aabbccdd1234567890aabbccdd123456",
        "tranKey": "ABC123example456trankey+789abc012def3456ABC=",
        "nonce": "NjBjYjc3YTYwZGZhYw==",
        "seed": "2021-06-17T11:26:14-05:00"
    },
    "payer": {
        "name": "John",
        "surname": "Doe",
        "email": "user_email@example.com"
    },
    "instrument": {
        "account": {
            "bankName": "Test Bank",
            "bankCode": "0001234",
            "accountType": "SAV",
            "accountNumber": "4111111111111111"
        }
    },
    "ipAddress": "127.0.0.1",
    "userAgent": "Testing"
}'
```
```bash {{ title: 'Con cobro' }}
curl -X "POST" https://api-co-dev.placetopay.ws/gateway/tokenize \
-H "Content-Type: application/json" \
-d '{
    "auth": {
        "login": "aabbccdd1234567890aabbccdd123456",
        "tranKey": "ABC123example456trankey+789abc012def3456ABC=",
        "nonce": "NjBjYjc3YTYwZGZhYw==",
        "seed": "2021-06-17T11:26:14-05:00"
    },
    "payer": {
        "name": "John",
        "surname": "Doe",
        "email": "user_email@example.com"
    },
    "instrument": {
        "card": {
            "number": "5180300000000005",
            "expiration": "12/18",
            "cvv": "123",
            "installments": "3"
        }
    },
    "payment": {
        "reference": "TEST_PAYMENT_12345",
        "amount": {
            "currency": "COP",
            "total": "100"
        }
    },
    "ipAddress": "127.0.0.1",
    "userAgent": "Testing"
}'
```
```bash {{ title: 'Con Otp' }}
curl -X "POST" https://api-co-dev.placetopay.ws/gateway/tokenize \
-H "Content-Type: application/json" \
-d '{
    "auth": {
        "login": "aabbccdd1234567890aabbccdd123456",
        "tranKey": "ABC123example456trankey+789abc012def3456ABC=",
        "nonce": "NjBjYjc3YTYwZGZhYw==",
        "seed": "2021-06-17T11:26:14-05:00"
    },
    "payer": {
        "name": "John",
        "surname": "Doe",
        "email": "user_email@example.com"
    },
    "instrument": {
        "card": {
            "number": "5180300000000005",
            "expiration": "12/18",
            "cvv": "123",
            "installments": "3"
        },
        "otp": "123456"
    },
    "ipAddress": "127.0.0.1",
    "userAgent": "Testing"
}'
```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/gateway/tokenize"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
```json {{ title: '200' }}
{
    "status": {
        "status": "OK",
        "reason": "00",
        "message": "La petición se ha procesado correctamente",
        "date": "2021-06-17T11:29:37-05:00"
    },
    "provider": "CREDIBANCO",
    "instrument": {
        "token": {
            "token": "faketoken12f233bd8f5d42138d681bf07ea8295429df07a4af287703e30c891",
            "subtoken": "fakesubtoken00005",
            "franchise": "master",
            "franchiseName": "Mastercard",
            "lastDigits": "0005",
            "validUntil": "2018-12-31"
        }
    }
}
```
```json {{ title: 'Con Información adicional' }}
{
    "status": {
        "status": "OK",
        "reason": "00",
        "message": "La petición se ha procesado correctamente",
        "date": "2021-06-17T11:29:37-05:00"
    },
    "provider": "CREDIBANCO",
    "instrument": {
        "token": {
            "token": "faketoken12f233bd8f5d42138d681bf07ea8295429df07a4af287703e30c891",
            "subtoken": "fakesubtoken00005",
            "franchise": "master",
            "franchiseName": "Mastercard",
            "lastDigits": "0005",
            "validUntil": "2018-12-31"
        }
    },
    "additional": {
        "bin": "411076",
    }
}
```
```json {{ title: 'Con Otp validado' }}
{
    "status": {
        "status": "OK",
        "reason": "00",
        "message": "La petición se ha procesado correctamente",
        "date": "2021-06-17T11:29:37-05:00"
    },
    "provider": "INTERDIN",
    "instrument": {
        "token": {
            "token": "faketoken12f233bd8f5d42138d681bf07ea8295429df07a4af287703e30c891",
            "subtoken": "fakesubtoken00005",
            "franchise": "master",
            "franchiseName": "Mastercard",
            "lastDigits": "0005",
            "validUntil": "2018-12-31"
        },
        "otp": "fakesignature1234567890abcdef"
    }
}
```
        </CodeGroup>
    </Col>
</Row>

---

## Tokenización (invalidate) {{ id: 'tokenize-invalidate-request', tag: 'POST', label: '/invalidate' }}

<Row>
    <Col>
        Este servicio permite invalidar y eliminar un token asociado a una tarjeta de crédito.
        <ApiReader
            path="/invalidate"
            method="post"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/invalidate">
```bash {{ title: 'cURL' }}
curl -X "POST" https://api-co-dev.placetopay.ws/invalidate \
-H "Content-Type: application/json" \
-d '{
    "locale": "es_CO",
    "auth": {
        "login":"aabbccdd1234567890aabbccdd123456",
        "tranKey":"ABC123example456trankey+789abc012def3456ABC=",
        "nonce":"NjE0OWVkODgwYjNhNw==",
        "seed":"2021-09-21T09:34:48-05:00"
    },
    "instrument": {
        "token": {
            "token": "faketoken12f233bd8f5d42138d681bf07ea8295429df07a4af287703e30c891"
        }
    }
}'
```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/invalidate"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
```json {{ title: '200' }}
{
    "status": {
        "status": "OK",
        "reason": "00",
        "message": "La petición se ha procesado correctamente",
        "date": "2021-06-17T11:29:37-05:00"
    }
}
```
        </CodeGroup>
    </Col>
</Row>

---

## Consultar Tokenización {{ id: 'token-search-request', tag: 'POST', label: '/gateway/token' }}

<Row>
    <Col>
        Este servicio permite buscar una tokenización mediante el valor del token o subtoken.
        <ApiReader
            path="/gateway/token"
            method="post"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/gateway/token">
```bash {{ title: 'Token' }}
curl -X "POST" https://api-co-dev.placetopay.ws/gateway/token \
-H "Content-Type: application/json" \
-d '{
    "locale": "es_CO",
    "auth": {
        "login":"aabbccdd1234567890aabbccdd123456",
        "tranKey":"ABC123example456trankey+789abc012def3456ABC=",
        "nonce":"NjE0OWVkODgwYjNhNw==",
        "seed":"2021-09-21T09:34:48-05:00"
    },
    "instrument": {
        "token": {
            "token": "faketoken12f233bd8f5d42138d681bf07ea8295429df07a4af287703e30c891",
        }
    }
}'
```

```bash {{ title: 'Subtoken' }}
curl -X "POST" https://api-co-dev.placetopay.ws/gateway/token \
-H "Content-Type: application/json" \
-d '{
    "locale": "es_CO",
    "auth": {
        "login":"aabbccdd1234567890aabbccdd123456",
        "tranKey":"ABC123example456trankey+789abc012def3456ABC=",
        "nonce":"NjE0OWVkODgwYjNhNw==",
        "seed":"2021-09-21T09:34:48-05:00"
    },
    "instrument": {
        "token": {
            "subtoken": "fakesubtoken00005"
        }
    }
}'
```

```bash {{ title: 'Completo' }}
curl -X "POST" https://api-co-dev.placetopay.ws/gateway/token \
-H "Content-Type: application/json" \
-d '{
    "locale": "es_CO",
    "auth": {
        "login":"aabbccdd1234567890aabbccdd123456",
        "tranKey":"ABC123example456trankey+789abc012def3456ABC=",
        "nonce":"NjE0OWVkODgwYjNhNw==",
        "seed":"2021-09-21T09:34:48-05:00"
    },
    "instrument": {
        "token": {
            "token": "faketoken12f233bd8f5d42138d681bf07ea8295429df07a4af287703e30c891",
            "subtoken": "fakesubtoken00005"
        }
    }
}'
```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/gateway/token"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
```json {{ title: '200 - Card' }}
{
    "status": {
        "status": "OK",
        "reason": "00",
        "message": "La petición se ha procesado correctamente",
        "date": "2021-06-17T11:29:37-05:00"
    },
    "data": {
        "id": 1,
        "type": "card",
        "token": "faketoken12f233bd8f5d42138d681bf07ea8295429df07a4af287703e30c891",
        "subtoken": "fakesubtoken00005",
        "franchise": "visa",
        "franchiseName": "Visa",
        "issuerName": "TESTING",
        "lastDigits": "1111",
        "validUntil": "12/29",
        "owner": "John Doe",
        "bin": "411111",
        "accountType": null,
    }
}
```
```json {{ title: '200 - ACH Account' }}
{
    "status": {
        "status": "OK",
        "reason": "00",
        "message": "La petición se ha procesado correctamente",
        "date": "2021-06-17T11:29:37-05:00"
    },
    "data": {
        "id": 1,
        "type": "account",
        "token": "faketoken12f233bd8f5d42138d681bf07ea8295429df07a4af287703e30c891",
        "subtoken": "fakesubtoken00005",
        "franchise": "ach",
        "franchiseName": "ACH",
        "issuerName": "TESTING",
        "lastDigits": "1111",
        "validUntil": "12/29",
        "owner": "John Doe",
        "bin": null,
        "accountType": "SAV",
    }
}
```
        </CodeGroup>
    </Col>
</Row>