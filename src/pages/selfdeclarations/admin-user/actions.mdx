# Acciones
El administrador tendrá acceso a varios módulos que le permitirán manejar el sistema, crear y administrar otros usuarios, a su vez el usuario podrá ejecutar diferentes acciones.

<Note>
    Es de resaltar que el administrador no podrá crear, anula, autorizar o pagar los impuestos que se declaren. El usuario administrador solo podrá visualizar y descargar declaraciones, según la configuración por defecto. La configuración podrá cambiarse para añadirle o quitarle permisos a los usuarios administradores.
</Note>

A continuación se explica como funciona el sistema sin modificar los permisos y cómo a su vez se pueden editar dichos permisos para cambiar la configuración que el sistema tiene por defecto.

## Empresas
El módulo empresas permite administrar las organizaciones y los usuarios declarantes que pertenecen a estas, igualmente se pueden definir los permisos que dichos usuarios tendrán dentro de la empresa.
<img src="/Selfdeclarations/Admin_user/companies.png"/>

Las acciones son:

### Crear

Para crear una empresa dentro del sistema dar clic en **Crear empresa** ubicado en la parte superior derecha del módulo, arriba de la tabla o listado.

A continuación se abrirá el formulario con los datos para realizar el registro de la empresa. Se deben ingresar todos los datos solicitados y finalizar oprimiendo **Guardar**.
<img src="/Selfdeclarations/Admin_user/companies_options_create.png"/>

**Es importante resaltar:**

- *Una empresa puede tener varios tipos de declaraciones asociadas*
- *Una empresa que se encuentre inactiva no permite hacer uso de las funcionalidades de la plataforma*
- *Dos empresas no pueden tener dentro del sistema el mismo número de documento*

### Ver
La acción **Ver** mostrará información detallada de la empresa y permitirá ejecutar otras acciones.

Para ver un registro presionar la acción **Ver**, que se encuentra ubicada en la columna **"Opciones"** de la tabla o listado.

<img src="/Selfdeclarations/Admin_user/companies_options_view.png"/>
Se mostrará la información básica de la empresa y se dispondrá de unas pestañas desde las que se puede: crear otra empresa, editar una ya creada, crear archivos de autorización asociar usuarios e incluir declarantes para la empresa (Estas acciones se explicarán más adelante).
<img src="/Selfdeclarations/Admin_user/companies_options_view_tabs.png"/>

**Crear archivos de autorización:** Este tipo de documento le permite a los administradores del sistema crear y administrar usuarios. Dicho archivo debe ser tipo: pdf, doc, docx, xls, xlsx, jpeg, jpg, bmp, png o tiff.

Cuando se asosia un usuario a una empresa es posible adicionar un documento que soporte la vinculación de dicho usuario a la organización, para esto se puede seleccionar el archivo soporte.

### Editar
Esta acción permitirá modificar los datos que se ingresaron al crear la empresa.

Para editar un registro dar clic en **Editar**, que se encuentra en la columna de **"Opciones"** de la tabla o listado.
<img src="/Selfdeclarations/Admin_user/companies_options_edit.png"/>

Se abrirá el mismo formulario usado para crear la empresa, con los campos ya diligenciados, allí mismo se podrán modificar y guardar nuevamente los cambios.

### Asociar Usuario Autorizado
Esta acción permite definir los usuarios que tendrán acceso a determinadas funciones dentro de la empresa. Para asociar un usuario a la empresa, este se debe crear previamente en el módulo Usuarios autorizados.

Para vincular un usuario a la empresa que previamente fue creado en el sistema, hacer clic en **Usuario autorizado** ubicado en la columna **"Opciones"** de la tabla o listado.
<img src="/Selfdeclarations/Admin_user/companies_options_assoc_bidder.png"/>

Se abrirá el listado con los usuarios que ya se encuentran asociados

Para asociar un usuario es necesario presionar el botón **Asociar usuario autorizado**.

Se habilitará el formulario para agregar el usuario, desde el mismo formulario se puede definir la función o posición que tendrá el usuario dentro de la empresa. Ya sea revisor fiscal, contador publico, entre otros. Además se podrá determinar si el usuario tiene o no permisos para autorizar las declaraciones de esa empresa.

Se ingresa la información y se guarda el registro dando clic en **Guardar**.
<img src="/Selfdeclarations/Admin_user/companies_options_assoc_bidder_form.png"/>

<Note>
    Cabe resaltar que desde aquí se le asocian a un usuario todas las declaraciones sobre las cuales debe participar dentro de una empresa.
</Note>

<Note>
    También es importante anotar que la misma cantidad de declarantes que se tengan en la parametrización de las declaraciones en el campo **Número de autorizaciones necesarias** es necesario asociar a la empresa la misma cantidad de usuarios con privilegios de **autorizador de declaraciones** con el cargo que le corresponda como lo pueden ser:

    - *Revisor fiscal y/o.*
    - *Contador Público.*
    - *Representante legal.*

    En este mismo orden se podria proceder a firmar la declaración para poder realizar el pago por un representante legal a no ser que solo se configure en el **Número de autorizaciones necesarias** una sola persona donde podría pagar cualquiera que tenga los privilegios de **autorizador de declaraciones**, de lo contrario el sistema no permitiría realizar el pago por el declarante.
</Note>

Una vez guardado el registro el sistema enviará un correo electrónico al usuario, desde el cual el usuario deberá ingresar y hacer clic en **Completar el registro**.

<img src="/Selfdeclarations/Admin_user/asso_bidder_registration_email.png"/>
El usuario debe ingresar la información para el registro y crear una contraseña. La contraseña le permitirá iniciar sesión y también será solicitada cuando realice acciones en las declaraciones de la empresa. Se aclara que el usuario no podrá ingresar al sistema hasta que no esté asociado al menos en una empresa. Para finalizar el usuario presiona **Completar Registro**.

Si el usuario ya se encontraba asociado a una empresa, no se le solicitará la creación de otra contraseña cuando complete el registro, sino que lo enviará a iniciar sesión con la contraseña que creó cuando se asoció a una empresa por primera vez.
<img src="/Selfdeclarations/Admin_user/asso_bidder_registration_form.png"/>

Si regresamos al listado de los usuarios ya asociados podremos ver otras acciones disponibles para dichos usuarios dentro de la empresa y estas son:
<img src="/Selfdeclarations/Admin_user/companies_assoc_bidder_options.png"/>

- **Restablecer contraseña:** Al dar clic en esta acción se enviará un correo electrónico a la dirección de correo asociada al usuario con el cual se podrá restablecer la contraseña.
- **Activar/Desactivar usuario:** Esta acción desactiva las funciones de un usuario dentro de la empresa, si dicho usuario está asociado a otras empresas podrá seguir cumpliendo sus funciones en las empresas en las que no esté desactivado.
- **Ver detalle de usuario:** Esta acción mostrará una ventana con los datos principales del usuario asociado y sus permisos dentro de la empresa.
- **Editar registro:** Esta acción permitirá al usuario modificar los datos o los permisos del usuario asociado.
- **Eliminar registro:** Esta acción solo estará disponible si el usuario no ha completado el registro. Con está opción se eliminará el registro y no permitirá al usuario finalizar el proceso, así haya recibido el correo electrónico.

### Eliminar Registro

Esta opción permite desasociar de una empresa a un usuario autorizado.

Para eliminar un registro dar clic en la acción **Eliminar Registro**, que se encuentra en la columna **"Opciones"** de la tabla o listado.

<img src="/Selfdeclarations/Admin_user/companies_options_delete.png"/>
Al presionar **Eliminar Registro** saldrá un mensaje de alerta para confirmar la acción, al dar clic en **Confirmar** se eliminará el registro seleccionado.

## Usuarios autorizados
Este módulo permite administrar los usuarios que serán, posteriormente, asociados a las empresas.
<img src="/Selfdeclarations/Admin_user/bidders.png"/>

Dentro del módulo se pueden realizar la siguientes funciones:

### Crear
Para crear usuarios declarantes o autorizados dirigirse a la parte superior derecha y oprimir **Crear usuario autorizado**.

El sistema habilitará el formulario para registrar los datos del usuario.
<img src="/Selfdeclarations/Admin_user/bidders_create_form.png"/>

Una vez diligenciados los datos dar clic en **guardar** para crear el usuario. Tener en cuenta que no se podrá acceder a los usuarios creados hasta que estos no sean asociados a una empresa.

### Restablecer contraseña
Esta opción estará disponible para todos los usuarios creados, pero si se restablece la contraseña a un usuario que aún no se encuentra asociado a una empresa, éste no podrá ingresar hasta que sea asociado.

Para restablecer la contraseña el usuario dar clic en la opción **Restablecer contraseña**, ubicada en el campo **"Opciones"** de la tabla o listado.
<img src="/Selfdeclarations/Admin_user/bidders_options.png"/>

Oprimir **confirmar** en la ventana emergente de alerta.

Se enviará un correo electrónico a la dirección asociada del usuario y con la opción **Restablecer contraseña**.

El sistema abrirá un formulario, ingresar la información y dar clic en el botón **Confirmar restablecimiento de contraseña**.

### Ver
Permite acceder a la información detallada del usuario. Se accede desde Ver, ubicada en el campo "Opciones" de la tabla o listado.
<img src="/Selfdeclarations/Admin_user/bidders_options.png"/>

### Editar
Esta acción permite modificar los datos con los que se creó inicialmente el usuario. Cuando un usuario se bloquee por exceso de intentos en el ingreso de contraseña, por ejemplo, este se podrá desbloquear desde el campo estado del usuario.

Se puede acceder dando click en la acción **editar (lápiz)**, que está en el campo **"Opciones"** de la tabla o listado.

<img src="/Selfdeclarations/Admin_user/bidders_options.png"/>
<img src="/Selfdeclarations/Admin_user/bidders_options_edit_form.png"/>

### Eliminar
Esta acción permitirá eliminar un usuario creado siempre y cuando este no esté asociado a una empresa, cuando el usuario se asocie a una empresa esta opción se deshabilitará.

Para eliminar un registro se debe dar clic en la acción **Eliminar registro**, que está en la columna de **"Opciones"** de la tabla o listado.

<img src="/Selfdeclarations/Admin_user/bidders_options.png"/>
Al dar clic en la acción, saldrá un mensaje de alerta para confirmar la acción. Se da click en **Confirmar** para completar la eliminación del registro seleccionado.

## Cargar archivos
Este módulo permite crear, a través de un archivo plano, un grupo de usuarios autorizados o empresas.

<img src="/Selfdeclarations/Admin_user/file_uploads.png"/>
Para cargar un archivo se accede a la opción **Cargar archivo plano**.

Se abrirá el formulario desde le cual se puede elegir el archivo a cargar. Los requisitos del documento variarán si se requiere crear empresas o usuarios.
<img src="/Selfdeclarations/Admin_user/load_file_form.png"/>

Se selecciona el archivo que deberá contener los siguientes campos de acuerdo con lo que se vaya a crear:

- **Registro de usuarios:**
    - COMPANY_DOCUMENT_TYPE: Tipo de identificación empresa
    - COMPANY_DOCUMENT: Número de identificación empresa
    - STATUS: Estado del registro
    - DOCUMENT_TYPE: Tipo de documento
    - DOCUMENT: Número de documento
    - NAME: Nombre del usuario autorizado
    - SURNAME: Apellido del usuario autorizado
    - EMAIL: Correo del usuario autorizado
    - TELEPHONE: Teléfono
    - ADDRESS: Dirección
    - INCOME_TYPE: Tipos de rentas a administrar
    - BIDDER_POSITION: Cargo/Posición
    - PROFESSIONAL_CARD: Tarjeta profesional del usuario autorizado
- **Registro de empresas:**
    - STATUS: Estado del registro
    - DOCUMENT_TYPE: Tipo de documento
    - DOCUMENT: Número de documento
    - LEGAL_NAME: Razón Social
    - COMMERCIAL_NAME: Nombre comercial
    - TELEPHONE: Teléfono
    - ADDRESS: Dirección
    - ITY: Ciudad
    - STATE: Departamento
    - COUNTRY: País
    - INCOME_TYPE: Tipos de rentas a administrar

<Note>
    Los archivos siempre deberán ser tipo: csv o tsv.
</Note>

Para finalizar el proceso se oprime **Cargar**. Si el archivo cumple con las condiciones especificadas, el sistema creará los registros.

## Listado de declaraciones
En el listado de declaraciones se podrán encontrar los tipos de declaraciones que las empresas han creado, estos listados tendrán disponibles las mismas acciones.

<img src="/Selfdeclarations/Admin_user/all_incomes_taxes_lists.png"/>

<Note>
    El administrador no tiene permisos para crear, editar, aprobar, ni pagar declaraciones. El administrador solo podrá ver y descargar en PDF las declaraciones.
</Note>

<img src="/Selfdeclarations/Admin_user/all_incomes_company_register.png"/>

### Ver
Dentro de la acción **Ver** el administrador podrá acceder a información más detallada de las declaraciones.

Para acceder dar clic en **Ver**, ubicado en la columna **"Opciones"** de la tabla o listado.
<img src="/Selfdeclarations/Admin_user/all_incomes_options.png"/>

En **Ver** se pueden observar varias pestañas con información de la declaración.

- **Impuesto registro empresa:** Aquí se encuentra información detallada de la declaración como: estado,total a pagar,entre otros.
    <img src="/Selfdeclarations/Admin_user/all_incomes_options_view_company_register.png"/>

- **Listado Autorizadores:** en esta opción se verán los usuarios que autorizaron la declaración.
    <img src="/Selfdeclarations/Admin_user/all_incomes_options_view_signers.png"/>

- **Listado Acciones:** Aquí se podrán ver todos los movimientos que ha tenido la empresa, por ejemplo quién y cuándo se creó la declaración, quienes la autorizaron, cuando y quien la pagó, entre otros.
    <img src="/Selfdeclarations/Admin_user/all_incomes_options_view_actions.png"/>

### Descargar
Esta opción permite descargar la declaración en formato PDF, se puede ejecutar dando clic en **Descargar**, que está en columna **"Opciones"** de la tabla o listado.
<img src="/Selfdeclarations/Admin_user/all_incomes_options.png"/>

## Parametrización
Este módulo permite al administrador configurar a su gusto los parámetros que tiene el sistema. Es importante tener en cuenta que esta configuración será aplicada a todas las empresas asociadas, es decir que todas las empresas tendrán la misma parametrización y al realizar modificaciones se afectan todas las compañías.

### Ajustes general
Aquí se podrán configurar los parámetros generales, tales como:

- **Tipo de moneda:** La moneda que el sistema maneja.
- **Tiempo de auto-desbloqueo de usuario:** El tiempo en el que un usuario bloqueado se desbloquea automáticamente.
- **Tiempo de bloqueo por inactividad:** Después de permanecer inactivo dentro del sistema por este tiempo estimado, el sistema cerrará la sesión automáticamente.
- **Intentos permitidos de autenticación para bloqueo de cuenta:** Este es el número de intentos que tendrán los usuarios al inicio de sesión para autenticarse, en caso de superar el número de intentos se bloqueará automáticamente la cuenta.
- **Número de intentos de cargue de archivos:** Este campo representa el número de intentos que se tendrán para cargar un archivo.
- **Número de días para habilitar el cambio de contraseña:** Después de restablecer una contraseña, no se podrá restablecer otra vez hasta que transcurran los días parametrizados en este campo.
- **Número de días para expiración de contraseña:** Al transcurrir este número de días se solicitará por seguridad cambio de contraseña a los usuarios.
- **Longitud máxima y mínima de caracteres de contraseña:** Esta opción permite definir la longitud mínima y máxima de las contraseñas.
- **Número de contraseñas a recordar:** Este número de contraseñas son las que el sistema almacenará en la base de datos con el fin de que, al restablecer contraseña, no se utilice la misma contraseña utilizada anteriormente.
- **Condiciones de contraseña:** Estas son las condiciones que deben cumplir las contraseñas para que el sistema las admita.

<img src="/Selfdeclarations/Admin_user/settings_configurations.png"/>

### Declaraciones
Desde aquí se podrán ver y modificar los tipos de declaraciones o impuestos que el sistema soporta.

<img src="/Selfdeclarations/Admin_user/settings_incomes.png"/>

- **Ver:**
    Para ver un registro hacer clic en **Ver**, en la columna de **"Opciones"** de la tabla o listado. Al presionar **Ver** se abrirá una pantalla con dos pestañas. En la primera se podrá ver la información principal del tipo de declaración o impuesto.
    <img src="/Selfdeclarations/Admin_user/settings_incomes_options_view_incomes.png"/>

    En la segunda pestaña se podrá ver el listado de empresas que están relacionadas con el impuesto seleccionado.
    <img src="/Selfdeclarations/Admin_user/settings_incomes_options_view_companies.png"/>

- **Editar:**
    Esta opción permite cambiar los datos básicos de los impuestos y su configuración, como puede ser: el cambio de estado, el número de autorizaciones, si tiene multicrédito, entre otros. Para editar un registro presionar **Editar**, en la columna de **"Opciones"** de la tabla o listado, se abrirá una pantalla en la que pueden ver y modificar campos, para guardar los cambios realizados dar clic en **Guardar**.
    <img src="/Selfdeclarations/Admin_user/settings_incomes_options_edit_screen.png"/>

    En este módulo está disponible la opción de multicrédito para los impuestos o declaraciones. Al habilitarlo se desplegará un menú como se muestra en la siguiente imagen.
    <img src="/Selfdeclarations/Admin_user/settings_incomes_options_edit_multicredit.png"/>

    Al habilitar el campo **Multi-crédito** se generará un registro vacío en el cual se deben diligenciar los campos y posteriormente guardar los cambios; Para añadir más de un concepto se debe dar clic en el botón **Agregar**, el cual habilitará otro registro. Al finalizar la edición se debe dar clic en el botón **Guardar** para aplicar los cambios.

### Tipos de documento
Esta opción permite añadir, modificar y eliminar todos los tipos de documentos que el sistema maneja, con excepción de la cédula de ciudadanía y el NIT que solo podrán ser modificados.

<img src="/Selfdeclarations/Admin_user/settings_doc_types.png"/>
Dentro de este módulo se podrán ejecutar las siguientes acciones:

- **Crear:**
    Esta acción permite crear un nuevo tipo de documento dentro del sistema. Para crear un registro dar clic en **Crear Tipos de Documentos**, ubicado en la parte superior derecha, arriba de la tabla o listado.

    Se abrirá el formulario de creación, en el que se debe ingresar nombre, alias y se podrá escoger como por defecto o no. Para finalizar se guarda el tipo de documento.
    <img src="/Selfdeclarations/Admin_user/settings_doc_types_options_create_form.png"/>

- **Ver:**
    Esta opción abrirá una pantalla desde la cual se podrán ejecutar otras acciones (crear, editar y eliminar) y también se verán los datos detallados del registro. Para ver un registro se presiona **Ver**, en la columna **"Opciones"** de la tabla o listado.
    <img src="/Selfdeclarations/Admin_user/settings_doc_types_options_view_screen.png"/>

- **Editar:**
    Permite modificar la información que se ingresó en tipo de documento al momento de su creación. Para editar un registro dar clic en **Editar**, que está en la columna de **"Opciones"** de la tabla o listado. Se abrirá el formulario desde el que se podrán modificar los datos y para guardar los cambios desde el botón **Guardar**.
    <img src="/Selfdeclarations/Admin_user/settings_doc_types_options_edit_form.png"/>

- **Eliminar:**
    Esta opción borrará por completo el tipo de documento del sistema, con excepción de Cédula de ciudadanía y NIT que no pueden eliminarse. Para eliminar un registro dar clic en **Eliminar**, en la columna **"Opciones"** de la tabla o listado. Se habilitará un mensaje de alerta para confirmar la acción, al confirmar se elimina el registro. Tener en cuenta que para que el sistema permita eliminar un tipo de documento este no puede estar asociado a un usuario.
    <img src="/Selfdeclarations/Admin_user/delete_warning_message.png"/>

### Cargos/Posiciones
Este módulo permite administrar los cargos que tendrán los usuarios dentro de las empresas.
<img src="/Selfdeclarations/Admin_user/settings_positions.png"/>

Se podrán ejecutar las siguientes acciones:

- **Crear:**
    Permite crear cargos o posiciones que los usuarios desempeñarán dentro de las empresas a las que estén asociados. Para crear un registro oprimir **Crear Posiciones**, que se encuentra en la parte superior derecha, arriba de la tabla o listado.

    Se abrirá una pantalla con el formulario para la creación de las posiciones. Para finalizar se ingresan los datos y se da clic en Guardar.
    <img src="/Selfdeclarations/Admin_user/settings_positions_options_create_form.png"/>

- **Ver:**
    Permite ver el detalle del cargo o posición. Hacer clic en **Ver**, en la columna **"Opciones"** de la tabla o listado. Se abrirá una pantalla con dos pestañas. En la primera se visualizará la información básica del registro y en la segunda se podrán ver los cargos que ocupan los usuarios en las empresas.
    <img src="/Selfdeclarations/Admin_user/settings_positions_options_view_position.png"/>
    <img src="/Selfdeclarations/Admin_user/settings_positions_options_view_bidders.png"/>

- **Editar:**
    Permite modificar la información básica que se ingresó en la creación del registro. Desde la opción **Editar**, que está en **"Opciones"** de la tabla o listado.
    <img src="/Selfdeclarations/Admin_user/settings_positions_options_edit_form.png"/>

- **Eliminar:**
    Permite borrar una posición o cargo en el sistema, siempre y cuando ningún usuario esté ocupando ese cargo en alguna empresa. Para eliminar un registro dar clic **Eliminar**, ubicado en la columna **"Opciones"** de la tabla o listado. Saldrá un mensaje de alerta para confirmar la acción, una vez se confirma el registro queda eliminado.

## Seguridad
### Usuarios administradores
Este módulo permite manejar los usuarios administradores, incluyendo el propio usuario. Las funcionalidades son las mismas y se administran igual que las previamente mencionadas en **Usuario Autorizado**.
<img src="/Selfdeclarations/Admin_user/security_users.png"/>

Las acciones son las siguientes:

- **Crear:**
    Para crear un registro se da clic en **Crear Usuario**, ubicado en la parte superior derecha, arriba de la tabla o listado.

    Se abrirá una pantalla con el formulario para la creación del usuario, se ingresan los datos y para finalizar se oprime Guardar.
    <img src="/Selfdeclarations/Admin_user/security_users_options_create_form.png"/>

    <Note>
        Se aclara que el sistema no permite crear dos usuarios con el mismo correo electrónico.
    </Note>

- **Restablecer Contraseña:**
    Para restablecer una contraseña seleccionar la opción **Restablecer Contraseña**, en la columna **"Opciones"** de la tabla o listado. Aparecerá un mensaje de alerta que solicita la confirmación de la acción.
    Para terminar se presiona **Confirmar**. Posteriormente se enviará un correo electrónico a la dirección asociada para ejecutar el cambio de contraseña.

- **Ver:**
    Para ver un registro se da clic en **Ver**, en la columna **"Opciones"** de la tabla o listado. Se abrirá una pantalla con varias pestañas. En la primera pestaña se podrá ver la información básica del usuario. En la segunda pestaña se le podrán asignar los roles y los permisos que tendrá el usuario.
    <img src="/Selfdeclarations/Admin_user/security_users_options_view_users.png"/>
    <img src="/Selfdeclarations/Admin_user/security_users_options_view_roles.png"/>

- **Editar:**
    Para editar un registro hacer clic en **Editar**, ubicado en **"Opciones"** de la tabla o listado. Se abrirá una pantalla en la que se podrán modificar los datos con los que se creó el usuario.
    <img src="/Selfdeclarations/Admin_user/security_users_options_edit_form.png"/>

- **Eliminar:**
    Esta acción no estará disponible para el usuario administrador por defecto, cualquier otro usuario administrador creado se podrá eliminar posteriormente. Para eliminar un registro hacer clic **Eliminar**, en la columna **"Opciones"** de la tabla o listado. Aparecerá un mensaje de alerta para confirmar la solicitud. Para finalizar se debe seleccionar el botón **Confirmar**.


### Clientes API
Este módulo le permitirá a los clientes externos integrarse con la plataforma de autodeclaraciones, por medio del consumo de un servicio web. Cualquier usuario se puede integrar en el sistema por medio de la interfaz, a través de archivos planos o por medio del servicio web(API).
<img src="/Selfdeclarations/Admin_user/security_api.png"/>

- **Crear:**
    Para crear un usuario API se ingresa por **Crear Clientes API**, que está en la parte superior derecha, arriba de la tabla o listado.

    Se abrirá el formulario para la creación del cliente API, se debe ingresar la información solicitada y para finalizar hacer clic en **Guardar**.
    <img src="/Selfdeclarations/Admin_user/security_api_create_form.png"/>

    Al guardar la información se enviará un correo electrónico con la información para acceder a los servicios (usuario y contraseña). Dentro del correo encontrará la opción **Nuestra API** donde podrá ingresar y consumir los servicios web.
    <img src="/Selfdeclarations/Admin_user/security_api_create_email.png"/>

- **Restablecer Contraseña:**
    Esta acción permitirá generar nuevos datos de autenticación para el usuario, estos se enviarán al correo electrónico de igual forma que se hizo en la creación del usuario. Para **Restablecer Contraseña** dar clic dicha opción, la cual está ubicada en **"Opciones"** en la tabla o listado.

- **Ver:**
    Esta acción permite visualizar más información del registro. Esta opción abrirá una pantalla con dos pestañas. En la primera pestaña se podrá ver la información detallada del registro, y en la segunda pestaña se podrán administrar los permisos que tendrá el usuario dentro del servicio web API. Para ver el detalle de un usuario API dar clic en **Ver**, ubicada en la columna **"Opciones"** en la tabla o listado.
    <img src="/Selfdeclarations/Admin_user/security_api_view_tab1.png"/>
    <img src="/Selfdeclarations/Admin_user/security_api_view_tab2.png"/>

- **Editar:**
    Esta opción permite modificar los datos que se ingresaron cuando se creó el usuario. Para editar un usuario se da clic en la acción **Editar**, que está en la columna **"Opciones"** en la tabla o listado.
    <img src="/Selfdeclarations/Admin_user/security_api_edit_form.png"/>

### Roles y permisos
Este módulo permite administrar los diferentes tipos de roles y sus permisos. Es importante resaltar que solo los usuarios administradores pueden tener estos roles con sus respectivos permisos, los usuarios declarantes no pueden tener asignados estos roles dentro del sistema.
<img src="/Selfdeclarations/Admin_user/security_roles_permissions.png"/>

- **Crear:**
    Para crear un registro se da clic en **Crear Roles**, que está en la parte superior derecha, arriba de la tabla o listado. Se abrirá una pantalla en la que se solicitan los datos para la creación del rol. Después de ingresar los datos se guarda la información para completar la creación.
    <img src="/Selfdeclarations/Admin_user/security_roles_permissions_options_create_form.png"/>

- **Ver:**
    Esta opción permite realizar las diferentes acciones. Para ver un registro se debe dar clic en la acción **Ver**, que está en la columna **"Opciones"** de la tabla o listado. Se abrirá una pantalla con varias pestañas:

        - En la primera pestaña se podrá ver al detalle la información básica del rol.
        <img src="/Selfdeclarations/Admin_user/security_roles_permissions_options_view_rol.png"/>

        - En la segunda pestaña estarán disponibles las acciones para:
            - **Agregar un permiso:** Se deberá dar click en el buscador que está al lado del botón **Agregar**, después seleccionar el o los permisos, y a continuación dar click en el botón **Agregar**. Al dar click en el botón se guardarán los cambios automáticamente y se visualizarán los permisos agregados en los registros de la tabla o listado.
            - **Desactivar o activar un permiso del rol:** En la columna **"Opciones"** hay una acción llamada **¿Denegar?**, al dar click en esa acción se deshabilita ese permiso dentro rol y la acción cambia a **¿Habilitar?** y al darle click se activa de nuevo el permiso del rol.
            - **Eliminar un permiso:** Esta acción, a diferencia de la anterior, no activa y desactiva, sinó que borra el permiso de los usuarios. Esta acción es recomendable cuando se sabe que ese usuario no va a volver a necesitar ese permiso de nuevo, si se sabe que el permiso posiblemente se va a volver a necesitar pronto es mejor utilizar la acción de **¿Deshabilitar?/¿Habilitar?**
        <img src="/Selfdeclarations/Admin_user/security_roles_permissions_options_view_permissions.png"/>

        - En la tercera pestaña se muestran todos los usuarios que están asociados a ese rol.
        <img src="/Selfdeclarations/Admin_user/security_roles_permissions_options_view_users.png"/>

## Registro de acciones
Este módulo le permite al usuario ver con detalle todas las acciones que se realicen en el sistema por cualquier tipo de usuario,por ejemplo lo que un usuario realizó en el sistema, en qué momento, si realizó cambios, consultas, entre otros.
<img src="/Selfdeclarations/Admin_user/history_logs_records.png"/>

En este módulo se podrán ejecutar la siguientes acciones:

- **Ver:**
    Se podrá ver más detalle la información del registro haciendo clic en **Ver**, ubicado en la columna **"Opciones"** de la tabla o listado.
    <img src="/Selfdeclarations/Admin_user/history_logs_records_options_view_screen.png"/>

- **Exportar a CSV:**
    El usuario podrá descargar un archivo tipo CSV en el que se encuentran todos los registros de las acciones ejecutadas en el sistema. Para exportar el archivo dar clic en **Exportar a CSV**, que se encuentra en la parte inferior de la pantalla, debajo de la tabla.
    <img src="/Selfdeclarations/Admin_user/history_logs_records_options_export.png"/>

- **Eliminar:**
    Esta opción permitirá al usuario eliminar todo el historial completo de las acciones realizadas. Para eliminar todo el historial dar clic en **Eliminar**, que se encuentra en la parte inferior de la pantalla, debajo de la tabla.
    <img src="/Selfdeclarations/Admin_user/history_logs_records_options_delete.png"/>

    Al presionar **Eliminar** se generará un mensaje de alerta para confirmar la acción, si el usuario está seguro de la decisión se debe confirmar la solicitud.
