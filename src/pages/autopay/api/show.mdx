export const apiRefs = ['/api/client/show']

## Consultar un AutoPago {{ id: 'show-autopay', tag: 'POST', label: '/api/client/show' }}
Este endpoint permite consultar el estado e información actualizada relacionada con el autopago.

<Row>
    <Col>
        <ApiReader
            path="/api/client/show"
            method="POST"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Solicitud" tag="POST" label="/api/client/show">
            ```bash {{ title: 'General' }}
            curl -X "POST" {{baseURl}}/api/client/show \
            -H "Content-Type: application/json" \
            -d '{
                "auth": {
                    "login":"aabbccdd1234567890aabbccdd123456",
                    "tranKey":"ABC123example456trankey+789abc012def3456ABC=",
                    "nonce":"enQ4dXh3YWhkMWM=",
                    "seed":"2023-06-21T09:56:06-05:00"
                },
                "id": "ac1cc9ce-83fe-42d7-9708-f6dd5461c89e",
                "locale": "es_ES"
        }'
            ```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/api/client/show"
            method="POST"
            type="response"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
            ```json {{ title: '200: Autopago pendiente de aceptación' }}
            {
                "status": {
                    "status": "PENDING",
                    "reason": "-?",
                    "description": "La petición se encuentra pendiente",
                    "date": "2023-06-21T09:56:06-05:00"
                },
                "data": {
                    "id": "328eb09a-363f-48a6-a16e-51c5a58b89ec",
                    "subscription": {
                        "reference": "12345",
                        "description": "Ejemplo de descripción",
                        "recurring": {
                            "periodicity": "D",
                            "interval": "1",
                            "nextPayment": "2025-08-24",
                            "maxPeriods": 1,
                            "dueDate ": "2025-12-24"
                        }
                    },
                    "createdAt": "2021-09-24T10:02:17-05:00",
                    "expiration": "2022-12-15T00:00:00-05:00",
                    "returnUrl": "https://dnetix.co/p2p/client",
                    "cancelUrl": "https://dnetix.co/p2p/client",
                    "skipResult": false
                }
            }
            ```
            ```json {{ title: '200: Saldo de la factura o monto mínimo' }}
            {
                "status": {
                    "status": "APPROVED",
                    "reason": "00",
                    "description": "La petición se ha procesado correctamente",
                    "date":"2023-06-21T09:56:06-05:00"
                },
                "data": {
                    "id": "328eb09a-363f-48a6-a16e-51c5a58b89ec",
                    "chargeType": "TOTAL_BALANCE", || MINIMUM_BALANCE
                    "subscriptor": {
                        "document": "911111111",
                        "documentType": "CC",
                        "name": "john",
                        "surname": "doe",
                        "email": "john@doe.com",
                        "mobile": "+573111111111"
                    },
                    "subscription": {
                        "reference": "12345",
                        "description": "Ejemplo de descripción",
                        "recurring": {
                            "periodicity": "D",
                            "interval": "1",
                            "nextPayment": "2025-08-24",
                            "maxPeriods": 1,
                            "dueDate ": "2025-12-24"
                        }
                    },
                    "additional": {
                        "customerAccountNumber": "1232312323"
                    },
                    "acceptedAt": "2021-09-24T10:02:17-05:00",
                    "createdAt": "2021-09-24T10:02:17-05:00",
                    "expiration": "2022-12-15T00:00:00-05:00",
                    "returnUrl": "https://dnetix.co/p2p/client",
                    "cancelUrl": "https://dnetix.co/p2p/client",
                    "skipResult": false
                }
            }
            ```
            ```json {{ title: '200: Monto fijo' }}
            {
                "status": {
                    "status": "APPROVED"
                    "reason": "00",
                    "description": "La petición se ha procesado correctamente",
                    "date":"2023-06-21T09:56:06-05:00"
                },
                "data": {
                    "id": "328eb09a-363f-48a6-a16e-51c5a58b89ec",
                    "chargeType": "FIXED",
                    "subscriptor": {
                        "document": "911111111",
                        "documentType": "CC",
                        "name": "john",
                        "surname": "doe",
                        "email": "john@doe.com",
                        "mobile": "+573111111111"
                    },
                    "subscription": {
                        "reference": "12345",
                        "description": "Ejemplo de descripción",
                        "amount": {
                            "currency": "USD",
                            "total": 10
                        },
                        "recurring": {
                            "periodicity": "D",
                            "interval": "1",
                            "nextPayment": "2025-08-24",
                            "maxPeriods": 1,
                            "dueDate ": "2025-12-24"
                        }
                    },
                    "acceptedAt": "2021-09-24T10:02:17-05:00",
                    "createdAt": "2021-09-24T10:02:17-05:00",
                    "expiration": "2022-12-15T00:00:00-05:00",
                    "returnUrl": "https://dnetix.co/p2p/client",
                    "cancelUrl": "https://dnetix.co/p2p/client",
                    "skipResult": false
                }
        }
            ```
```json {{ title: '200: Monto mínimo + monto fijo adicional' }}
            {
                "status": {
                    "status": "APPROVED",
                    "reason": "00",
                    "description": "La petición se ha procesado correctamente",
                    "date":"2023-06-21T09:56:06-05:00"
                },
                "data": {
                    "id": "328eb09a-363f-48a6-a16e-51c5a58b89ec",
                    "chargeType": "MINIMUM_PLUS_BALANCE"
                    "subscriptor": {
                        "document": "911111111",
                        "documentType": "CC",
                        "name": "john",
                        "surname": "doe",
                        "email": "john@doe.com",
                        "mobile": "+573111111111"
                    },
                    "subscription": {
                        "reference": "12345",
                        "description": "Ejemplo de descripción",
                        "amount": {
                            "currency": "USD",
                            "total": 1
                        },
                        "recurring": {
                            "periodicity": "D",
                            "interval": "1",
                            "nextPayment": "2025-08-24",
                            "maxPeriods": 1,
                            "dueDate ": "2025-12-24"
                        }
                    },
                    "acceptedAt": "2021-09-24T10:02:17-05:00",
                    "createdAt": "2021-09-24T10:02:17-05:00",
                    "expiration": "2022-12-15T00:00:00-05:00",
                    "returnUrl": "https://dnetix.co/p2p/client",
                    "cancelUrl": "https://dnetix.co/p2p/client",
                    "skipResult": false
                }
            }
            ```
            ```json {{ title: '200: Autopago Cancelado' }}
            {
                "status": {
                    "status": "REJECTED",
                    "reason": "?C",
                    "description": "El autopago ha sido cancelado por el usuario",
                    "date":"2023-06-21T09:56:06-05:00"
                },
                "data": {
                    "id": "328eb09a-363f-48a6-a16e-51c5a58b89ec",
                    "chargeType": "MINIMUM_PLUS_BALANCE"
                    "subscriptor": {
                        "document": "911111111",
                        "documentType": "CC",
                        "name": "john",
                        "surname": "doe",
                        "email": "john@doe.com",
                        "mobile": "+573111111111"
                    },
                    "subscription": {
                        "reference": "12345",
                        "description": "Ejemplo de descripción",
                        "amount": {
                            "currency": "USD",
                            "total": 1
                        },
                        "recurring": {
                            "periodicity": "D",
                            "interval": "1",
                            "nextPayment": "2025-08-24",
                            "maxPeriods": 1,
                            "dueDate ": "2025-12-24"
                        }
                    },
                    "additional": {
                        "customerAccountNumber": "1232312323"
                    },
                    "acceptedAt": "2021-09-24T10:02:17-05:00",
                    "createdAt": "2021-09-24T10:02:17-05:00",
                    "expiration": "2022-12-15T00:00:00-05:00",
                    "returnUrl": "https://dnetix.co/p2p/client",
                    "cancelUrl": "https://dnetix.co/p2p/client",
                    "skipResult": false
                }
            }
            ```
            ```json {{ title: '400: Respuesta fallida' }}
            {
                "status": {
                    "status": "FAILED",
                    "reason": "BR",
                    "message": "El campo id es obligatorio.",
                    "date":"2023-06-21T09:56:06-05:00"
                }
            }
            ```

            ```json {{ title: '404: Recurso no encontrado' }}
            {
                "status": {
                    "status": "FAILED",
                    "reason": "BR",
                    "message": "No existen coincidencias.",
                    "date":"2023-06-21T09:56:06-05:00"
                }
            }
            ```

            ```json {{ title: '401: Autenticación fallida' }}
            {
                "status": {
                    "status": "FAILED",
                    "reason": "401",
                    "message": "la autenticación no contiene todos los parámetros requeridos (login, tranKey, seed, nonce)",
                    "date": "2021-09-21T09:34:48-05:00"
               }
            }
            ```
        </CodeGroup>
    </Col>
</Row>

