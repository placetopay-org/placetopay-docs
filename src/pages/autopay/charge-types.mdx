import { HeroPattern } from '@/components/HeroPattern'

<HeroPattern />

# Tipos de Cobro en AutoPay

AutoPay ofrece tres tipos de configuración para adaptarse a tu modelo de negocio, permitiendo desde cobros planos hasta montos variables basados en consumo.

La propiedad `recurring.type` define qué lógica se aplicará para determinar el monto final de la transacción.

## Tabla comparativa

| Tipo | Modelo de Negocio | ¿Requiere API Balance? | Ejemplo |
| :--- | :--- | :--- | :--- |
| **FIXED** | Valor constante | **No** | Membresías, Colegiaturas, Seguros |
| **TOTAL_BALANCE** | Consumo Variable | **Sí** | Servicios Públicos, Telefonía Post-pago |
| **MINIMUM_BALANCE** | Pagos Flexibles | **Sí** | Créditos Rotativos, Tarjetas de Crédito |

---

## Detalle de los tipos

### 1. FIXED (Monto fijo)
Es el modelo más sencillo y común. El valor a cobrar se define **una única vez** al momento de crear la suscripción.
* **Comportamiento:** Cobra siempre el mismo importe definido en la creación.
* **Integración:** No requiere consultar tu servidor.
* **Ideal para:** Gimnasios, suscripciones de software (SaaS), colegiaturas escolares, seguros mensuales o donaciones recurrentes.

### 2. TOTAL_BALANCE (Saldo total)
Diseñado para comercios donde el monto cambia ciclo a ciclo.
* **Comportamiento:** Antes de cada cobro, AutoPay consulta tu endpoint `/balance`.
* **Lógica:** Toma el valor reportado en el campo `amount` de tu API y procesa el cobro por esa cantidad exacta.
* **Ideal para:** Facturas de energía, agua, gas o planes de telefonía basados en consumo.

### 3. MINIMUM_BALANCE (Pago mínimo)
Diseñado para productos financieros que ofrecen flexibilidad de pago al usuario.
* **Comportamiento:** Consulta tu endpoint `/balance`.
* **Lógica:** Cobra el valor reportado en el campo `min_amount` de tu API.
* **Ideal para:** Créditos donde el usuario ha autorizado el descuento automático del pago mínimo exigible para mantenerse al día.

<Note>
  **Requisito Técnico:** Para usar `TOTAL_BALANCE` o `MINIMUM_BALANCE`, es obligatorio que tu servidor exponga el endpoint [Consultar Balance](/autopay/contracts/balance) para que AutoPay pueda preguntarte cuánto cobrar.
</Note>