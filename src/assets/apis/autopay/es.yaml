openapi: 3.0.0
info:
  title: BETA - API de AutoPay - Solicitud de Balance
  version: 1.0.0
paths:
  /autopay/balance:
    post:
      summary: Obtener balance
      operationId: post-balance
      parameters:
        - schema:
            type: string
            example: application/json;charset=UTF-8
          in: header
          name: Content-Type
      responses:
        "200":
          description: Respuesta satisfactoria con el monto a cobrar al usuario
          content:
            application/json:
              schema:
                type: object
                required: [ status, id, amount ]
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
                  id:
                    $ref: '#/components/schemas/AutoPayId'
                  amount:
                    $ref: "../base/es.yaml#/components/schemas/Amount"
                  min_amount:
                    $ref: "../base/es.yaml#/components/schemas/Amount"
        "4XX":
          description: Error en la solicitud.
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
      description: 'Este endpoint devuelve un monto pendiente de cobro y el monto mínimo requerido para ejecutar el auto pago.'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [ reference, id ]
              properties:
                reference:
                  type: string
                  description: Referencia del AutoPago proporcionada por el cliente/comercio, esta referencia debe ser unica activa por comercio.
                  example: "ACC00012345"
                  maxLength: 32
                id:
                  $ref: '#/components/schemas/AutoPayId'
  /autopay/settlement:
    post:
      summary: Asentar un AutoPago
      operationId: post-settlement
      parameters:
        - schema:
            type: string
            example: application/json;charset=UTF-8
          in: header
          name: Content-Type
      responses:
        "200":
          description: Autopago registrado correctamente.
          content:
            application/json:
              schema:
                type: object
                required: [ status, id ]
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
                  id:
                    $ref: '#/components/schemas/AutoPayId'
        "4XX":
          description: Error en la solicitud.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Status'
      description: 'Este endpoint registra y retorna únicamente el estado de la notificación (settlement).'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [ reference, id, transaction ]
              properties:
                reference:
                  type: string
                  description: Referencia del AutoPago proporcionada por el cliente/comercio, esta referencia debe ser unica activa por comercio.
                  minLength: 32
                  maxLength: 32
                  example: "ACC00012345"
                id:
                  $ref: '#/components/schemas/AutoPayId'
                transaction:
                  description: "Datos de la transacción"
                  type: "object"
                  properties:
                    status:
                      type: object
                      description: Estructura para definir el estado del autopago
                      x-internal: false
                      properties:
                        status:
                          type: string
                          enum: [ APPROVED ]
                          example: APPROVED
                          description: Estado del autopago. Solo se asentarán los pagos aprobados.
                        reason:
                          type: string
                          enum:
                            - '00'
                          description: Razón del estado de la petición. (consulte en [Códigos de razón](/autopay/codes))
                          example: '00'
                        message:
                          type: string
                          description: Mensaje para aclarar el estado.
                          example: "Respuesta satisfactoria"
                        date:
                          type: string
                          format: date-time
                          description: Fecha y hora en la que se generó la respuesta.
                          example: "2025-09-29T17:09:29-05:00"
                      required:
                        - status
                        - reason
                        - message
                    date:
                      type: "string"
                      format: date-time
                      description: "Fecha de creación (ISO 8601 con zona). Ej: `2021-09-20T21:51:59-05:00`."
                    transactionDate:
                      type: "string"
                      format: date-time
                      description: "Fecha de procesamiento en el proveedor (puede diferir de date)."
                    internalReference:
                      type: "number"
                      description: "Referencia interna."
                      minimum: 1
                    reference:
                      type: "string"
                      description: "Referencia del comercio."
                      minLength: 1
                      maxLength: 64
                    paymentMethod:
                      type: "string"
                      description: "Formato convencional: procesador_franquicia (ej: `ID_VS` para Interdin Visa, `DF_MS` para Datafast Mastercard), pueden existir excepciones."
                      minLength: 5
                      maxLength: 5
                    franchise:
                      type: "string"
                      description: "Franquicia / marca."
                      enum:
                        - "visa"
                        - "visa_electron"
                        - "amex"
                        - "master"
                        - "codensa"
                        - "diners"
                        - "jbc"
                        - "discover"
                        - "ris"
                        - "credencial"
                        - "comfama"
                        - "colsubsidio"
                        - "falabella"
                        - "elo"
                        - "somos"
                        - "tuya"
                        - "exito"
                        - "alkosto"
                        - "maestro"
                        - "mefia"
                        - "ath_card"
                        - "ath"
                        - "athmv"
                        - "bancolombia"
                        - "cooperativa"
                        - "debito"
                        - "pagoefectivo"
                        - "cafam"
                        - "efecty"
                        - "gana"
                        - "masterpass"
                        - "ppd"
                        - "pse"
                        - "safetypay"
                        - "supergiros"
                        - "visa_checkout"
                        - "procesa"
                        - "comfandi"
                        - "ach"
                        - "telered"
                        - "aval"
                        - "dilo"
                        - "banco_bogota"
                        - "ebt"
                        - "alia"
                        - "deuna"
                    franchiseName:
                      type: "string"
                      description: "Nombre mostrado de la franquicia."
                      minLength: 1
                    issuerName:
                      type: "string"
                      description: "Nombre del emisor."
                      minLength: 1
                      nullable: true
                    amount:
                      $ref: "../base/es.yaml#/components/schemas/Amount"
                    conversion:
                      $ref: "../base/es.yaml#/components/schemas/AmountConversion"
                    authorization:
                      type: "string"
                      description: "Código de autorización."
                      minLength: 1
                      nullable: true
                    receipt:
                      type: "string"
                      description: "Recibo / comprobante."
                      maxLength: 16
                      nullable: true
                    type:
                      type: "string"
                      description: "Tipo de operación."
                      minLength: 1
                      enum:
                        - 'AUTH_ONLY'
                    refunded:
                      type: "boolean"
                      description: "Indicador reembolsada."
                    lastDigits:
                      type: "string"
                      description: "Últimos dígitos de cuenta."
                      minLength: 2
                      nullable: true
                    provider:
                      type: "string"
                      description: "Código del procesador/proveedor."
                      enum:
                        - "CREDIBANCO"
                        - "REDEBAN"
                        - "INTERDIN"
                        - "DATAFAST"
                        - "TUYA-DIRECT"
                        - "BRASPAG"
                        - "TRANSERVER"
                        - "SABRE"
                        - "EVERTEC"
                        - "ACH"
                        - "ATH-AVALNET"
                        - "SUPERGIROS"
                        - "TECNICARD"
                        - "MEDIANET"
                        - "AUSTRO"
                        - "COMFANDI"
                        - "PAYSTUDIO"
                        - "FLAMINGO"
                        - "ATH-MOVIL"
                        - "EBUS"
                        - "BANCOLOMBIA"
                        - "PAGOEFECTIVO"
                        - "PROCESA"
                        - "TELERED"
                        - "AVAL"
                        - "DILO"
                        - "BANCO_BOGOTA"
                        - "BANET"
                        - "DEUNA"
                    discount:
                      type: "string"
                      description: "Información de descuento aplicada (si existe)."
                    processorFields:
                      type: "object"
                      description: "Campos crudos del procesador."
                      properties:
                        id:
                          type: "string"
                          description: "Id procesador."
                          maxLength: 64
                        b24:
                          type: "string"
                          description: "Campo extra."
                          maxLength: 64
                    additional:
                      type: "object"
                      description: |
                        Ver más en [Datos adicionales](/gateway/additional-data)
                  required:
                    - "status"
                    - "provider"
                    - "internalReference"
                    - "reference"
                    - "paymentMethod"
                    - "franchise"
                    - "franchiseName"
                    - "amount"
                    - "authorization"
                    - "receipt"
                    - "type"
                    - "refunded"
                    - "processorFields"
  /autopay/webhook:
    post:
      summary: Recepción de notificaciones AutoPay
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WebhookEvent'
      responses:
        "200":
          description: El webhook fue recibido correctamente.
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
        "4XX":
          description: Ha ocurrido un error al recibir el Webhook.
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: "#/components/schemas/Status"
  /autopay/search:
    post:
      summary: Listar autopagos
      operationId: post-search
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - auth
              properties:
                auth:
                  $ref: '#/components/schemas/Authentication'
                filters:
                  type: object
                  description: Criterios de filtrado para la búsqueda.
                  properties:
                    reference:
                      type: string
                      description: Referencia del AutoPago proporcionada por el cliente/comercio, esta referencia debe ser unica activa por comercio.
                      example: "ACC00012345"
                      maxLength: 32
                    id:
                      $ref: '#/components/schemas/AutoPayId'
                      nullable: true
                    chargeTypes:
                      type: array
                      description: Filtrar por uno o varios tipos de cargo. Ver más en [Tipos de cargo](/autopay/charge-types)
                      example:  "['FIXED', 'TOTAL_BALANCE']"
                      enum:
                        - TOTAL_BALANCE
                        - MINIMUM_BALANCE
                        - FIXED
                      items:
                        $ref: '#/components/schemas/ChargeType'
                    status:
                      type: array
                      description: Estados del AutoPago incluidos en el filtro.
                      enum:
                        - FAILED
                        - REJECTED
                        - APPROVED
                      items:
                        type: string
                      example: "[ 'APPROVED' ]"
                    createdAt:
                      type: object
                      description: Rango de fechas de creación (ISO 8601, solo fecha).
                      properties:
                        from:
                          type: string
                          example: "2025-09-01"
                          format: date Y-m-d

                        to:
                          type: string
                          example: "2025-09-30"
                          format: date Y-m-d
                pagination:
                  $ref: '#/components/schemas/PaginationRequest'
                locale:
                  $ref: '#/components/schemas/Locale'
      responses:
        "200":
          description: Solicitud exitosa
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
                  data:
                    description: Lista de autopagos que cumplen con los criterios de búsqueda.
                    type: array
                    items:
                      $ref: '#/components/schemas/AutoPay'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
  /autopay/cancel:
    post:
      summary: Cancelar un autopago
      operationId: post-search
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - auth
                - id
              properties:
                auth:
                  $ref: '#/components/schemas/Authentication'
                id:
                  $ref: '#/components/schemas/AutoPayId'
                locale:
                  $ref: '#/components/schemas/Locale'
      responses:
        "200":
          description: Solicitud exitosa
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
                  id:
                    $ref: '#/components/schemas/AutoPayId'
        "4XX":
          description: Solicitud inválida
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
  /autopay/transactions:
    post:
      summary: Listar transacciones de un autopago
      operationId: post-search
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - auth
                - id
              properties:
                auth:
                  $ref: '#/components/schemas/Authentication'
                id:
                  $ref: '#/components/schemas/AutoPayId'
                filters:
                  type: object
                  description: Criterios de filtrado para la búsqueda.
                  properties:
                    internalReference:
                      type: string
                      description: Referencia interna de la transacción en placetopay proporcionada por la pasarela en el momento del pago.
                      example: "ACC00012345"
                      maxLength: 32
                    status:
                      type: array
                      description: Estados de la transacción.
                      enum:
                        - OK
                        - FAILED
                        - REJECTED
                        - APPROVED
                        - APPROVED_PARCIAL
                      items:
                        type: string
                      example: "[ 'APPROVED' ]"
                    amount:
                      type: "object"
                      description: "Estructura que contiene la información acerca del pago de la transacción."
                      required:
                        - "currency"
                        - "total"
                      properties:
                        currency:
                          type: "string"
                          description: |
                            Código alfabético de la moneda a usar (ISO 4217 alpha code)
                          enum:
                            - "USD"
                            - "COP"
                            - "CRC"
                            - "EUR"
                            - "CAD"
                            - "AUD"
                            - "GBP"
                            - "MXN"
                            - "CLP"
                          example: "COP"
                          minLength: 3
                          maxLength: 3
                        total:
                          type: "number"
                          example: 2000
                          description: |
                            Valor total en la moneda base indicada
                    createdAt:
                      type: object
                      description: Rango de fechas de creación (ISO 8601, solo fecha).
                      properties:
                        from:
                          type: string
                          example: "2025-09-01"
                          format: date Y-m-d
                        to:
                          type: string
                          example: "2025-09-30"
                          format: date Y-m-d
                pagination:
                  $ref: '#/components/schemas/PaginationRequest'
                locale:
                  $ref: '#/components/schemas/Locale'
      responses:
        "200":
          description: Solicitud exitosa
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
                  data:
                    description: Lista de transacciones del autopago que cumplen con los criterios de búsqueda.
                    type: array
                    items:
                      $ref: '../base/es.yaml#/components/schemas/Transaction'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
  /autopay/session:
    post:
      summary: Crear sesión (CreateRequest)
      operationId: post-autopay-session
      description: Solicita la creación de la sesión, retorna el identificador y la URL de procesamiento.
      x-internal: false
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RedirectRequest'
      responses:
        '200':
          description: Solicitud exitosa
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
                  requestId:
                    type:
                      - string
                      - number
                      - integer
                    example: 1
                    description: Id de la petición
                  processUrl:
                    type: "string"
                    format: "uri"
                    maxLength: 250
                    description: "URL a la cual se debe enviar al cliente para continuar el proceso, está es proporcionada por el servicio"
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
  /autopay/session/{requestId}:
    parameters:
      - schema:
          type: string
        name: requestId
        example: 1
        description: Id de la petición. Se debe enviar en el path de la consulta.
        in: path
        required: true
    post:
      summary: Consultar sesión (getSessionInformation)
      operationId: post-autopay-session-requestId
      responses:
        '200':
          description: Respuesta exitosa
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RedirectInformation'
      description: |
        Obtiene la información de la sesión, si en la sesión hay transacciones se muestra el detalle de las mismas.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - auth
              properties:
                auth:
                  $ref: '#/components/schemas/Authentication'

components:
  schemas:
    AutoPay:
      type: object
      required:
        - id
        - status
        - subscription
        - createdAt
      properties:
        id:
          $ref: '#/components/schemas/AutoPayId'
        status:
          $ref: '#/components/schemas/StatusAutoPay'
        payer:
          $ref: '../base/es.yaml#/components/schemas/Person'
        buyer:
          $ref: '../base/es.yaml#/components/schemas/Person'
        subscription:
          type: object
          required:
            - reference
            - description
            - recurring
          description: Estructura que contiene la información acerca de la suscripción asociada al AutoPago.
          properties:
            reference:
              type: "string"
              minLength: 1
              maxLength: 32
              description: Referencia
            description:
              type: "string"
              maxLength: 250
              description: Descripción
            amount:
              $ref: "../base/es.yaml#/components/schemas/Amount"
              description: |
                Solo presente cuando el tipo de cargo sea `FIXED`.
                - `FIXED`: monto recurrente a cobrar.
            recurring:
              $ref: "#/components/schemas/Recurring"
        additional:
          type: object
          description: Información adicional.
          properties:
            customerAccountNumber:
              type: string
              description: Identificador único que el comercio asigna a un cliente para identificar su cuenta interna
              example: "12345"
            dueDay:
              type: string
              $ref: '../checkout/es.yaml#/components/schemas/AutopayDueDay'
            sessionId:
              type: string
              description: Identificador de la sessión en CORE
              example: "defe7220-2203-3bf1-af97-fcf4cebb18af"
        createdAt:
          type: string
          format: date-time
          description: Fecha de creación del AutoPago.
          example: "2021-09-24T10:02:17-05:00"
        updatedAt:
          type: string
          format: date-time
          description: Fecha de la última actualización del AutoPago.
          example: "2021-09-24T10:02:17-05:00"
    ChargeType:
      type: string
      enum:
        - TOTAL_BALANCE
        - MINIMUM_BALANCE
        - FIXED
      example: TOTAL_BALANCE
      description: Tipo de cargo del autopago. Ver más en [Tipos de cargo](/autopay/charge-types).
    AutoPayId:
      type: string
      format: uuid
      description: Identificador único del autopago confirmado en el registro de la notificación.
      minLength: 36
      maxLength: 36
      example: "2972c13d-6315-4da3-80d7-64c24eb232ad"
    Recurring:
      type: object
      description: Parámetros de recurrencia. En caso de no enviarse en la solicitud de creación, el sistema podrá solicitarlos al usuario en el momento de la redirección.
      required:
        - type
      properties:
        type:
          $ref: '#/components/schemas/ChargeType'
        periodicity:
          type: string
          description: Periodicidad del cobro. D=Diario, W=Semanal, M=Mensual, Y=Anual.
          enum: [ D, W, M, Y ]
          example: M
        interval:
          type: string
          description: Cada cuántos períodos se realiza el cobro (ej. "1" = cada mes si periodicidad=M).
          pattern: '^[1-9][0-9]*$'
          example: "1"
        dueDate:
          type: string
          format: date Y-m-d
          description: Fecha de vencimiento de la recurrencia
          example: '2026-02-30'
        startDate:
          type: string
          format: date Y-m-d
          description: Fecha de inicio de la recurrencia
          example: '2025-10-30'
        nextPayment:
          type: string
          description: Fecha a partir de la cual inicia el cobro.
          format: date Y-m-d
          example: "2025-11-30"
    WebhookEvent:
      type: object
      required: [ id, type, date, signature, reference ]
      x-conditional: [ additional ]
      properties:
        id:
          type: string
          format: uuid
          description: Identificador único del AutoPago
          minLength: 36
          maxLength: 36
          example: "2972c13d-6315-4da3-80d7-64c24eb232ad"
        type:
          type: string
          enum:
            - AUTOPAY_CREATED
            - AUTOPAY_UPDATED
            - AUTOPAY_CANCELED
            - AUTOPAY_TRANSACTION_FAILED
          description: "Tipo de evento notificado. Ver más en [Eventos Webhook](/autopay/contracts/webhook#event-types)."
        date:
          type: string
          format: date-time
          description: Fecha y hora en la que se lanzó por primera vez el evento. En formato ISO 8601.
          example: "2025-09-29T17:09:29-05:00"
        signature:
          type: string
          description: Firma digital del contenido del webhook para validación. Ver más en [Validación de Webhooks](/autopay/contracts/webhook#validating-webhooks).
          example: "sha256:a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s"
        reference:
          type: string
          description: Referencia del AutoPago proporcionada por el cliente/comercio, esta referencia debe ser unica activa por comercio.
          example: "ACC00012345"
          maxLength: 32
        additional:
          type: object
          description: Objeto que contiene información relevante para identificar el autopago e información del evento.
          x-conditional:
            transactionID
          properties:
            transactionID:
              type: string
              minLength: 32
              description: Identificador del pago ejecutado. Puede venir cuando el evento es AUTOPAY_TRANSACTION_FAILED.
              example: "CFed8XTioVhyG3CGHhJrpgpyM8k1phj3"
    Status:
      title: Status
      type: object
      description: Estructura para definir estados de respuestas
      x-internal: false
      properties:
        status:
          type: string
          enum:
            - OK
            - FAILED
            - REJECTED
          description: Estado de la petición.
        reason:
          type: string
          enum:
            - 100
            - 101
            - 102
            - 103
            - 104
            - '00'
            - BR
            - X3
            - XH
            - ?-
            - '05'
            - NF
          description: Razón del estado de la petición. (consulte en [Códigos de razón](/autopay/codes))
          example: '00'
        message:
          type: string
          description: Mensaje para aclarar el estado.
          example: "Respuesta satisfactoria"
        date:
          type: string
          format: date-time
          description: Fecha y hora en la que se generó la respuesta.
          example: "2025-09-29T17:09:29-05:00"
      required:
        - status
        - reason
        - message
    StatusAutoPay:
      title: Status
      type: object
      description: Estructura para definir el estado del autopago
      x-internal: false
      properties:
        status:
          type: string
          enum: [ APPROVED, REJECTED, FAILED ]
          example: APPROVED
          description: Estado del autopago.
        reason:
          type: string
          enum:
            - 100
            - 101
            - 102
            - 103
            - 104
            - '00'
            - BR
            - X3
            - XH
            - ?-
            - '05'
            - NF
          description: Razón del estado de la petición. (consulte en [Códigos de razón](/autopay/codes))
          example: '00'
        message:
          type: string
          description: Mensaje para aclarar el estado.
          example: "Respuesta satisfactoria"
        date:
          type: string
          format: date-time
          description: Fecha y hora en la que se generó la respuesta.
          example: "2025-09-29T17:09:29-05:00"
      required:
        - status
        - reason
    Pagination:
      title: Pagination
      type: object
      description: Estructura que contiene la información de la paginación.
      required:
        - total
        - perPage
        - currentPage
        - lastPage
      properties:
        total:
          type: integer
          example: 30
          minimum: 1
          description: Número total de registros encontrados en la consulta.
        perPage:
          type: integer
          default: 15
          example: 10
          minimum: 1
          description: Número de registros por página
        currentPage:
          type: integer
          default: 1
          minimum: 1
          example: 1
          description: Página actual
        lastPage:
          type: integer
          minimum: 1
          example: 1
          description: Ultima página disponible
    Locale:
      type: "string"
      description: "Idioma de la respuesta."
      example: "es_ES"
    PaginationRequest:
      title: Pagination
      type: object
      description: Estructura que contiene la información de la paginación.
      properties:
        perPage:
          type: integer
          default: 15
          example: 10
          minimum: 1
          description: Número de registros por página
        currentPage:
          type: integer
          default: 1
          minimum: 1
          example: 1
          description: Página actual
    Authentication:
      required:
        - login
        - tranKey
        - nonce
        - seed
      title: "Autenticación"
      type: "object"
      properties:
        login:
          type: "string"
          description: Identificador del **sitio**
        tranKey:
          type: "string"
          description: Credencial **tranKey** generado. Ver más en [Autenticación](/autopay/authentication/#how-to-generate-your-authentication)
        nonce:
          type: "string"
          description: Valor **aleatorio** para cada solicitud codificado en **Base64**.
        seed:
          type: "string"
          description: Fecha **actual**, la cual se genera en formato **ISO 8601**.
      description: "Estructura que contiene la información de autenticación del *sitio* generada de acuerdo al WSSE
        UsernameToken Profile 1.1. Ver más en [Autenticación](/autopay/authentication)."
    RedirectRequest:
      title: CreateSessionRequest
      type: object
      description: |
        Información para crear una sesión.
      required:
        - auth
        - type
        - autopay
        - ipAddress
        - userAgent
        - returnUrl
      properties:
        auth:
          $ref: '#/components/schemas/Authentication'
        type:
          type: string
          description: |
            Parámetro usado para sesiones de tipos adicionales
            Usar `autopay` para generar una sesión de Autopago.
          enum:
            - autopay
          example: autopay
        autopay:
          $ref: '../checkout/es.yaml#/components/schemas/AutopayRequest'
          x-conditional:
            - id
            - amount
        buyer:
          $ref: '../checkout/es.yaml#/components/schemas/Person'
          description: |
            Datos del usuario **buyer**, se refiere al usuario que está comprando un producto o servicio.
        payer:
          $ref: '../checkout/es.yaml#/components/schemas/Person'
          description: |
            Datos del usuario **payer**, se refiere al dueño del medio de pago o usuario que pagó el monto solicitado.
        fields:
          $ref: '../checkout/es.yaml#/components/schemas/Fields'
        paymentMethod:
          type: string
          description: |
            Se usa para restringir los medios de pago disponibles en el checkout.
            Se pueden enviar múltiples códigos separados por comas.
          example: visa
        cancelUrl:
          type: string
          description: |
            URL de cancelación, el usuario es redirigido a esta url cuando decide no continuar con el proceso.
          example: 'https://commerce.test/cancel'
        skipResult:
          type: boolean
          description: |
            Si se envía `true`, cuando el usuario finalice el proceso no se mostrará la página de resultado de la sesión, en su lugar será redirigido a la `returnUrl`.
          default: false
        noBuyerFill:
          type: boolean
          description: |
            Por defecto, los datos enviados como `buyer` son pre-llenados en la interfaz de Checkout para agilizar el proceso de pago, si este parámetro se envía como `true` entonces no se realizará este pre-llenado.
          default: false
        ipAddress:
          $ref: '../checkout/es.yaml#/components/schemas/IpAddress'
        userAgent:
          $ref: '../checkout/es.yaml#/components/schemas/UserAgent'
        returnUrl:
          $ref: '../checkout/es.yaml#/components/schemas/ReturnUrl'
        locale:
          $ref: '../checkout/es.yaml#/components/schemas/Locale'
    RedirectInformation:
      title: RedirectInformation
      type: object
      description: |
        Estructura de respuesta a una solicitud para una información de transacción.
      required:
        - status
      properties:
        status:
          $ref: '#/components/schemas/Status'
        requestId:
          type: string
          example: 1
          description: Id de la petición
        request:
          type: object
          description: Contiene la información con la cual se realizó la solicitud de creación/actualización de la sesión de autopagos.
          properties:
            payment:
              $ref: '../checkout/es.yaml#/components/schemas/PaymentRequest'
            expiration:
              $ref: '../checkout/es.yaml#/components/schemas/Expiration'
            ipAddress:
              $ref: '../checkout/es.yaml#/components/schemas/IpAddress'
            userAgent:
              $ref: '../checkout/es.yaml#/components/schemas/UserAgent'
            returnUrl:
              $ref: '../checkout/es.yaml#/components/schemas/ReturnUrl'
            locale:
              $ref: '../checkout/es.yaml#/components/schemas/Locale'
            buyer:
              $ref: '../checkout/es.yaml#/components/schemas/Person'
              description: |
                Datos del usuario **comprador**, hace referencia al usuario que está comprando un producto o un servicio.

                **Cuando se crea una sesión**: Se puede enviar si conoces al usuario que está realizando la suscripción, pues ayuda a completar la información de la sesión.   
                Si se envía este dato, el usuario tendrá sus datos personales pre-diligenciados y podrá cambiarlos en Checkout.
            payer:
              $ref: '../checkout/es.yaml#/components/schemas/Person'
              description: |
                Datos del usuario **pagador**, hace referencia al dueño del medio de pago o usuario que pagó o pagará el monto solicitado.

                **Cuando se crea una sesión**: Sólo se debe usar cuando quieres "forzar" los datos del usuario que completará el proceso.   
                Si se envía este dato, el usuario tendrá sus datos personales pre-diligenciados pero **no podrá cambiarlos**.
            subscription:
              $ref: '../checkout/es.yaml#/components/schemas/SubscriptionRequest'
            fields:
              $ref: '../checkout/es.yaml#/components/schemas/Fields'
            paymentMethod:
              type: string
              description: |
                Se usa para restringir los métodos de pago disponibles en checkout.
                Se pueden enviar varios códigos separados por coma.
                Ver más en [Métodos de pago](/checkout/payment-methods)

                EJ: `visa,master,pse`
              example: visa
            cancelUrl:
              type:
                - string
              description: |
                URL de cancelación, a esta url se redirige al usuario cuando decide no continuar con el proceso.
                Ocurre cuando el usario da click en _No deseo continuar_
              example: 'https://commerce.test/cancel'
            skipResult:
              type: boolean
              description: Si se envía `true`, cuando el usuario finalice el proceso no se mostrará la página de resultado de sesión, en su lugar será redireccionado al `returnUrl`. Ver más en [Omitir resultado](/checkout/skip-result)
              default: false
            noBuyerFill:
              type: boolean
              description: Por defecto los datos enviados como `buyer` se pre-diligencian en la interfaz de Checkout para agilizar el proceso de pago, si se envía este parámetro como `true` entonces no se hará este pre diligenciamiento.
              default: false
            type:
              type: string
              description: Parámetro usado para sesiones de tipos adicionales
              enum:
                - autopay
              example: autopay
            metadata:
              $ref: '../checkout/es.yaml#/components/schemas/Metadata'
            autopay:
              $ref: '../checkout/es.yaml#/components/schemas/AutopayRequest'
        autopay:
          oneOf:
            - type: array
              description: Estructura con la información de los intentos de creación o actualización de un autopago dentro de la misma sesión.
              title: "array[Autopay]"
              items:
                $ref: '../checkout/es.yaml#/components/schemas/Autopay'
        payment:
          description: Estructura con la información de la transacción registrada. Para autopagos este valor es **null**.
          type: array
          items:
            $ref: '../checkout/es.yaml#/components/schemas/Transaction'
        subscription:
          description: Estructura que contiene información para el método de pago suscripción. Para autopagos este valor es **null**.
          $ref: '../checkout/es.yaml#/components/schemas/SubscriptionResponse'