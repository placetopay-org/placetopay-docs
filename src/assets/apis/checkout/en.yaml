openapi: 3.1.0
info:
  title: PlacetoPay WebCheckout
  version: '1.0'
  description: |
    WebCheckout es una página web prediseñada, optimizada y alojada en Placetopay que le permite aceptar pagos en línea de forma rápida y segura desde dispositivos móviles y de escritorio. Puedes aceptar pagos únicos, pagos recurrentes, pagos mixtos y suscribir medios de pago.

    Webcheckout te permite:

    * **Diseño personalizado:** Puedes personalizar los nombres, logos y colores de tu empresa.
    * **Diferentes idiomas y monedas:** Aceptar pagos en multiples idiomas y monedas.
    * **Adaptado a diferentes resoluciones:** Diseño receptivo para diferentes dispositivos.
    * **Wallet PlacetoPay:** WebCheckout cuenta con su propia billetera que le permite a usuarios guardar medios de pago frecuentes brindando mayor seguridad y facilidad en el proceso de pago.
    * **Seguridad de la información:** Lineamientos PCI que garantizan seguridad en la captura y procesamiento de la información sensible de tarjetas.
    * **Pagos avanzados:** Pagos con Impuestos, pagos mixtos, suscripciones, cobros recurrentes, promociones y más...

    <!-- theme: info -->
    > #### Acerca de HTTPS
    >
    > Para hacer uso de este servicio es necesario que tu sistema soporte comunicación con la versión 1.2 del protocolo TLS.
  contact:
    url: 'https://www.evertecinc.com/pasarela-de-pagos-e-commerce/'
    name: PlacetoPay by Evertec
  summary: Usa WebCheckout para aceptar pagos en línea de forma sencilla y segura
servers:
  - description: 'Sandbox (CO, PR, CR, PA)'
    url: 'https://checkout-test.placetopay.com/'
  - url: 'https://checkout-test.placetopay.ec/'
    description: SandBox EC
  - url: 'https://checkout.placetopay.com'
    description: 'Producción (CO, PR, CR, PA)'
  - url: 'https://checkout.placetopay.ec'
    description: Producción (EC)
paths:
  /api/session:
    post:
      summary: Crear sesión (CreateRequest)
      operationId: post-api-session
      description: Requests the creation of the session returns the identifier and the processing URL.
      x-internal: false
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RedirectRequest'
            examples:
              Crear Sesión simple:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '1122334455'
                    description: Prueba
                    amount:
                      currency: USD
                      total: 100
                  expiration: '2021-12-30T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              'Crear sesión de preautorización ':
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  type: checkin
                  payment:
                    reference: '1122334455'
                    description: Prueba
                    amount:
                      currency: USD
                      total: 100
                  expiration: '2021-12-30T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Crear sesión con pago mixto:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '1122334455'
                    description: Prueba
                    amount:
                      currency: USD
                      total: 100
                    allowPartial: true
                  expiration: '2021-12-30T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Crear sesión con impuestos:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '331122'
                    description: Reference
                    amount:
                      currency: USD
                      total: 500
                      taxes:
                        - kind: stateTax
                          amount: 16.13
                        - kind: municipalTax
                          amount: 11.21
                        - kind: reducedStateTax
                          amount: 10.21
                  expiration: '2021-12-30T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Crear sesión con dispersión:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '331122'
                    description: Reference
                    amount:
                      currency: USD
                      total: 500
                    dispersion:
                      - agreement: '1299'
                        agreementType: MERCHANT
                        amount:
                          currency: USD
                          total: 200
                      - agreement: ''
                        agreementType: MERCHANT
                        amount:
                          currency: USD
                          total: 300
                  expiration: '2021-12-30T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Crear sesión suscripción:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  subscription:
                    reference: '331122'
                    description: Una suscripción de prueba
                  expiration: '2021-12-31T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Crear sesión con recurrencia:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '331122'
                    description: Pago con recurrencia
                    amount:
                      currency: USD
                      total: 100
                    recurring:
                      periodicity: D
                      interval: '1'
                      nextPayment: '2021-12-30'
                      maxPeriods: '12'
                  expiration: '2022-12-15T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Crear sesión con modificadores:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '331122'
                    description: Pago con modificadores
                    amount:
                      currency: UYU
                      total: 2000
                    modifiers:
                      - type: FEDERAL_GOVERNMENT
                        code: 17934
                        additional:
                          invoice: '112233'
                  expiration: '2022-12-15T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Crear sesión con detalles:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '331122'
                    description: Reference
                    amount:
                      currency: USD
                      total: 500
                      details:
                        - kind: tip
                          amount: 11
                        - kind: subtotal
                          amount: 11
                  expiration: '2021-12-30T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Crear sesión con pago y subscripción:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payer:
                    document: '1122334455'
                    documentType: CC
                    name: John
                    surname: Doe
                    company: Evertec
                    email: johndoe@app.com
                    mobile: '+5731111111111'
                  payment:
                    reference: '12345'
                    description: Prueba de pago y subscripción
                    amount:
                      currency: COP
                      total: 2000
                    subscribe: true
                  fields:
                    - keyword: _processUrl_
                      value: 'https://checkout.redirection.test/session/1/a592098e22acc709ec7eb30fc0973060'
                      displayOn: none
                  expiration: '2019-08-24T14:15:22Z'
                  returnUrl: 'https://commerce.test/return'
                  cancelUrl: 'https://commerce.test/cancel'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
                  skipResult: false
                  noBuyerFill: false
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
                  requestId:
                    type: integer
                  processUrl:
                    type: string
              examples:
                Respuesta:
                  value:
                    status:
                      status: OK
                      reason: PC
                      message: The request has been processed successfully
                      date: '2021-11-30T15:08:27-05:00'
                    requestId: 1
                    processUrl: 'https://checkout-co.placetopay.com/session/1/cc9b8690b1f7228c78b759ce27d7e80a'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
              examples:
                Respuesta:
                  value:
                    status:
                      status: FAILED
                      reason: 401
                      message: Authentication failed 102
                      date: '2021-11-30T15:12:25-05:00'
    parameters: []
  '/api/session/{requestId}':
    parameters:
      - schema:
          type: string
        name: requestId
        in: path
        required: true
    post:
      summary: Consultar sesión (getRequestInformation)
      operationId: post-api-session-requestId
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RedirectInformation'
              examples:
                Aprobado:
                  value:
                    requestId: 1
                    status:
                      status: APPROVED
                      reason: '00'
                      message: The petition has been successfully approved
                      date: '2021-11-30T15:49:47-05:00'
                    request:
                      locale: es_CO
                      payer:
                        document: '1033332222'
                        documentType: CC
                        name: Name
                        surname: LastName
                        email: dnetix1@app.com
                        mobile: '3111111111'
                        address:
                          postalCode: '12345'
                      payment:
                        reference: '1122334455'
                        description: Prueba
                        amount:
                          currency: USD
                          total: 1000
                        allowPartial: false
                        subscribe: false
                      fields:
                        - keyword: _processUrl_
                          value: 'https://test.placetopay.com/redirection/session/1/cb0f71a1f1ecdfab3ac345d3d670b097'
                          displayOn: none
                      returnUrl: 'https://redirection.test/home'
                      ipAddress: 127.0.0.1
                      userAgent: PlacetoPay Sandbox
                      expiration: '2021-12-30T00:00:00-05:00'
                    payment:
                      - status:
                          status: APPROVED
                          reason: '00'
                          message: Aprobada
                          date: '2021-11-30T15:49:36-05:00'
                        internalReference: 1
                        paymentMethod: visa
                        paymentMethodName: Visa
                        issuerName: 'JPMORGAN CHASE BANK, N.A.'
                        amount:
                          from:
                            currency: USD
                            total: 1000
                          to:
                            currency: USD
                            total: 1000
                          factor: 1
                        authorization: '000000'
                        reference: '1122334455'
                        receipt: '241516'
                        franchise: DF_VS
                        refunded: false
                        processorFields:
                          - keyword: merchantCode
                            value: '7200076413'
                            displayOn: none
                          - keyword: terminalNumber
                            value: PT312002
                            displayOn: none
                          - keyword: credit
                            value:
                              code: '0'
                              type: '00'
                              groupCode: C
                              installments: 0
                            displayOn: none
                          - keyword: totalAmount
                            value: 1000
                            displayOn: none
                          - keyword: iceAmount
                            value: 0
                            displayOn: none
                          - keyword: bin
                            value: '411111'
                            displayOn: none
                          - keyword: expiration
                            value: '1229'
                            displayOn: none
                          - keyword: lastDigits
                            value: '1111'
                            displayOn: none
                    subscription: null
                Pendiente:
                  value:
                    requestId: 1
                    status:
                      status: PENDING
                      reason: PT
                      message: La petición se encuentra pendiente
                      date: '2021-11-30T15:45:57-05:00'
                    request:
                      locale: es_CO
                      payer:
                        document: '1033332222'
                        documentType: CC
                        name: Name
                        surname: lastName
                        email: dnetix1@app.com
                        mobile: '3111111111'
                        address:
                          postalCode: '12345'
                      payment:
                        reference: '1122334455'
                        description: Prueba
                        amount:
                          currency: USD
                          total: 1000
                        allowPartial: false
                        subscribe: false
                      fields:
                        - keyword: _processUrl_
                          value: 'https://test.placetopay.com/redirection/session/1/e0dfb6c7d6ab964b2377c825aef56a63'
                          displayOn: none
                      returnUrl: 'https://dnetix.co/p2p/client'
                      ipAddress: 127.0.0.1
                      userAgent: PlacetoPay Sandbox
                      expiration: '2021-12-30T00:00:00-05:00'
                    payment: null
                    subscription: null
                Rechazado:
                  value:
                    requestId: 1
                    status:
                      status: REJECTED
                      reason: XN
                      message: Se ha rechazado la petición
                      date: '2021-11-30T16:44:24-05:00'
                    request:
                      locale: es_CO
                      payer:
                        document: '1033332222'
                        documentType: CC
                        name: Name
                        surname: LastName
                        email: dnetix@app.com
                        mobile: '31111111111'
                        address:
                          postalCode: '12345'
                      payment:
                        reference: '331122'
                        description: Reference
                        amount:
                          currency: USD
                          total: 500
                        allowPartial: false
                        subscribe: false
                        dispersion:
                          - reference: '331122'
                            description: Reference
                            amount:
                              currency: USD
                              total: 200
                            allowPartial: false
                            subscribe: false
                            agreement: '26'
                            agreementType: AIRLINE
                          - reference: '331122'
                            description: Reference
                            amount:
                              currency: USD
                              total: 300
                            allowPartial: false
                            subscribe: false
                            agreementType: MERCHANT
                      fields:
                        - keyword: _processUrl_
                          value: 'https://test.placetopay.com/redirection/session/1/1dfbaf16c76c6ee83a63a956d704a9d1'
                          displayOn: none
                      returnUrl: 'https://redirection.test/home'
                      ipAddress: 127.0.0.1
                      userAgent: PlacetoPay Sandbox
                      expiration: '2021-12-30T00:00:00-05:00'
                    payment:
                      - status:
                          status: REJECTED
                          reason: '65'
                          message: '65'
                          date: '2021-11-30T16:22:19-05:00'
                        internalReference: 1
                        paymentMethod: visa
                        paymentMethodName: Visa
                        issuerName: 'CAIXA D''ESTALVIS UNIO DE CAIXES DE MANLLEU, SABADE'
                        amount:
                          from:
                            currency: USD
                            total: 500
                          to:
                            currency: USD
                            total: 500
                          factor: 1
                        authorization: '000000'
                        reference: '331122'
                        franchise: TS_VS
                        refunded: false
                        processorFields:
                          - keyword: totalAmount
                            value: 500
                            displayOn: none
                          - keyword: lastDigits
                            value: '6853'
                            displayOn: none
                        dispersion:
                          - status:
                              status: REJECTED
                              reason: '65'
                              message: '65'
                              date: '2021-11-30T16:34:17-05:00'
                            internalReference: 2
                            amount:
                              from:
                                currency: USD
                                total: 200
                              to:
                                currency: USD
                                total: 200
                              factor: 1
                            authorization: '000000'
                            franchise: TS_VS
                            refunded: false
                            agreement: 26
                            agreementType: AIRLINE
                          - status:
                              status: REJECTED
                              reason: '?C'
                              message: Pago abortado por el usuario
                              date: '2021-11-30T16:34:17-05:00'
                            internalReference: 3
                            amount:
                              from:
                                currency: USD
                                total: 300
                              to:
                                currency: USD
                                total: 300
                              factor: 1
                            authorization: '000000'
                            receipt: '000000'
                            franchise: ID_VS
                            refunded: false
                            agreementType: MERCHANT
                    subscription: null
                Expirado parcialmente:
                  value:
                    requestId: 1
                    status:
                      status: PARTIAL_EXPIRED
                      reason: PX
                      message: La petición esta expirada o cancelada y se han realizado pagos
                      date: '2023-03-09T17:10:34-05:00'
                    request:
                      locale: es_CO
                      payer:
                        document: '111111111'
                        documentType: CC
                        name: Diego
                        surname: Calle
                        email: dnetix@yopmail.com
                        mobile: '+573111111111'
                      payment:
                        reference: '331122'
                        description: Reference
                        amount:
                          currency: USD
                          total: 500
                        allowPartial: false
                        subscribe: false
                        dispersion:
                          - reference: '331122'
                            description: Reference
                            amount:
                              currency: USD
                              total: 200
                            allowPartial: false
                            subscribe: false
                            agreement: '111'
                            agreementType: MERCHANT
                          - reference: '331122'
                            description: Reference
                            amount:
                              currency: USD
                              total: 300
                            allowPartial: false
                            subscribe: false
                            agreementType: MERCHANT
                      fields:
                        - keyword: _processUrl_
                          value: 'https://checkout.redirection.test/session/750/20e2eb0d4681a916549e95ed49a11080'
                          displayOn: none
                      returnUrl: 'https://redirection.test/home'
                      ipAddress: 127.0.0.1
                      userAgent: PlacetoPay Sandbox
                      expiration: '2023-03-09T23:09:14.946Z'
                    payment:
                      - amount:
                          to:
                            total: 500
                            currency: USD
                          from:
                            total: 500
                            currency: USD
                          factor: 1
                        status:
                          date: '2023-03-09T17:10:14-05:00'
                          reason: '61'
                          status: APPROVED_PARTIAL
                          message: 'Negada, Monto excede el máximo definido por la Entidad Financiera en el archivo de Tarjetahabientes'
                        receipt: '110000857921'
                        refunded: false
                        franchise: EB_VS
                        reference: '331122'
                        dispersion:
                          - amount:
                              to:
                                total: 200
                                currency: USD
                              from:
                                total: 200
                                currency: USD
                              factor: 1
                            status:
                              date: '2023-03-09T17:10:14-05:00'
                              reason: '00'
                              status: APPROVED
                              message: Aprobada
                            receipt: '110000857921'
                            refunded: false
                            franchise: EB_VS
                            agreementType: MERCHANT
                            authorization: '614761'
                            internalReference: 421692
                          - amount:
                              to:
                                total: 300
                                currency: USD
                              from:
                                total: 300
                                currency: USD
                              factor: 1
                            status:
                              date: '2023-03-09T17:10:14-05:00'
                              reason: '61'
                              status: REJECTED
                              message: 'Negada, Monto excede el máximo definido por la Entidad Financiera en el archivo de Tarjetahabientes'
                            receipt: '421693'
                            refunded: false
                            franchise: EB_VS
                            agreementType: MERCHANT
                            authorization: '000000'
                            internalReference: 421693
                        issuerName: 'BANCO DE GUAYAQUIL, S.A.'
                        authorization: '614761'
                        paymentMethod: visa
                        processorFields:
                          - value: '4549106521651'
                            keyword: merchantCode
                            displayOn: none
                          - value: '19371021'
                            keyword: terminalNumber
                            displayOn: none
                          - value: '411076'
                            keyword: bin
                            displayOn: none
                          - value: 200
                            keyword: totalAmount
                            displayOn: none
                          - value: '0057'
                            keyword: lastDigits
                            displayOn: none
                          - value: eeacbe4f36c8f8117fc4d7ab47fa366f
                            keyword: id
                            displayOn: none
                          - value: '61'
                            keyword: b24
                            displayOn: none
                        internalReference: 421691
                        paymentMethodName: Visa
                    subscription: null
                Aprobado Parcialmente:
                  value:
                    requestId: 1
                    status:
                      status: APPROVED_PARTIAL
                      reason: P0
                      message: La petición está parcialmente aprobada
                      date: '2023-03-09T17:29:13-05:00'
                    request:
                      locale: es_CO
                      payer:
                        document: '111111111'
                        documentType: CC
                        name: Antonino
                        surname: Pan y queso
                        email: root13@app.com
                        mobile: '+573111111111'
                      payment:
                        reference: GAD_1675183488
                        description: Pago GAD Municipal de Cuenca
                        amount:
                          currency: COP
                          total: 10000
                        allowPartial: true
                        subscribe: false
                      fields:
                        - keyword: _processUrl_
                          value: 'https://checkout.redirection.test/session/751/cfe5a789a27feca7fe211bd400db354d'
                          displayOn: none
                      returnUrl: 'https://mysite.com/response/32120'
                      ipAddress: 127.0.0.1
                      userAgent: PlacetoPay Sandbox
                      expiration: '2023-03-09T23:28:43.775Z'
                    payment:
                      - amount:
                          to:
                            total: 1.05
                            currency: USD
                          from:
                            total: 5000
                            currency: COP
                          factor: 0.00021
                        status:
                          date: '2023-03-09T17:29:03-05:00'
                          reason: '00'
                          status: APPROVED
                          message: Aprobada
                        receipt: '110000288071'
                        refunded: false
                        franchise: EB_VS
                        reference: GAD_1675183488
                        issuerName: 'JPMORGAN CHASE BANK, N.A.'
                        authorization: '614761'
                        paymentMethod: visa
                        processorFields:
                          - value: '4549106521651'
                            keyword: merchantCode
                            displayOn: none
                          - value: '19371021'
                            keyword: terminalNumber
                            displayOn: none
                          - value: '411111'
                            keyword: bin
                            displayOn: none
                          - value: '1111'
                            keyword: lastDigits
                            displayOn: none
                          - value: 74a6ef63ea0d1fcc78f4c471b0ae7f3d
                            keyword: id
                            displayOn: none
                          - value: '00'
                            keyword: b24
                            displayOn: none
                        internalReference: 421694
                        paymentMethodName: Visa
                    subscription: null
      description: |
        Obtiene la información de la sesión, si en la sesión hay transacciones se muestra el detalle de las mismas.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - auth
              properties:
                auth:
                  $ref: '#/components/schemas/Authentication'
            examples:
              Ejemplo:
                value:
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
          application/xml:
            schema:
              description: ''
              type: object
              properties:
                auth:
                  type: object
                  properties:
                    login:
                      type: string
                      minLength: 1
                    tranKey:
                      type: string
                      minLength: 1
                    nonce:
                      type: string
                      minLength: 1
                    seed:
                      type: string
                      minLength: 1
                  required:
                    - login
                    - tranKey
                    - nonce
                    - seed
              required:
                - auth
  /api/reverse:
    post:
      summary: Reversar pago (ReversePayment)
      operationId: post-api-reverse
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - auth
                - internalReference
              properties:
                auth:
                  $ref: '#/components/schemas/Authentication'
                internalReference:
                  $ref: '#/components/schemas/InternalReference'
            examples:
              Ejemplo:
                value:
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  internalReference: 1
      description: |
        Permite revertir un pago aprobado con el código de referencia interna `internalReference`.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
                  payment:
                    $ref: '#/components/schemas/PaymentResponse'
                    x-stoplight:
                      id: u0n1j8obyxfv3
              examples:
                Aprobada:
                  value:
                    status:
                      status: APPROVED
                      reason: '00'
                      message: Aprobada
                      date: '2021-12-07T16:01:19-05:00'
                    payment:
                      status:
                        status: APPROVED
                        reason: '00'
                        message: Aprobada
                        date: '2021-12-07T16:01:18-05:00'
                      internalReference: 1
                      paymentMethod: visa
                      paymentMethodName: Visa
                      issuerName: 'JPMORGAN CHASE BANK, N.A.'
                      amount:
                        from:
                          currency: USD
                          total: 100
                        to:
                          currency: USD
                          total: 100
                        factor: 1
                      authorization: '123456'
                      reference: '12345'
                      receipt: '230955511860'
                      franchise: PS_VS
                      refunded: false
                      processorFields:
                        - keyword: merchantCode
                          value: '1465675'
                          displayOn: none
                        - keyword: terminalNumber
                          value: '00990099'
                          displayOn: none
                        - keyword: credit
                          value:
                            code: '1'
                            type: '00'
                            groupCode: C
                            installments: 1
                          displayOn: none
                        - keyword: totalAmount
                          value: 52
                          displayOn: none
                        - keyword: interestAmount
                          value: 0
                          displayOn: none
                        - keyword: installmentAmount
                          value: 0
                          displayOn: none
                        - keyword: iceAmount
                          value: 0
                          displayOn: none
                        - keyword: bin
                          value: '411111'
                          displayOn: none
                        - keyword: expiration
                          value: '1223'
                          displayOn: none
                        - keyword: lastDigits
                          value: '1111'
                          displayOn: none
                        - keyword: id
                          value: a10fe0690cfe557283310ba90746e159
                          displayOn: none
                        - keyword: b24
                          value: '00'
                          displayOn: none
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
              examples:
                Ejemplo:
                  value:
                    status:
                      status: FAILED
                      reason: BR
                      message: La transacción ya ha sido reversada
                      date: '2021-12-07T16:03:41-05:00'
  /api/notify:
    post:
      summary: Notificar Pago
      operationId: post-api-notify
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                auth:
                  $ref: '#/components/schemas/Authentication'
                internalReference:
                  type:
                    - string
                    - number
                    - integer
                  description: |
                    Referencia interna de la transacción a reversar que se encuentra en el listado de transacciones del getRequestInformation (payment).
                reference:
                  type: string
                  description: Referencia del pago
                signature:
                  type: string
                  description: Firma de la transacción almacenada en core
            examples:
              Ejemplo:
                value:
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  internalReference: 1
                  reference: '12345'
                  signature: 3ccbae73d6a5bb1be7e00f9a2cfc3cc7cd95a311
      description: Permite solicitar el cambio de estado de una transacción que se encuentre en estado pendiente
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
              examples:
                Aprobada:
                  value:
                    status:
                      status: OK
                      reason: null
                      message: null
                      date: '2021-12-07T16:27:56-05:00'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
              examples:
                Firma inválida:
                  value:
                    status:
                      status: FAILED
                      reason: 0
                      message: Firma inválida
                      date: '2021-12-07T16:24:20-05:00'
      x-internal: true
    parameters: []
  /api/collect:
    post:
      summary: Cobro usando token (Collect)
      operationId: post-api-collect
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentRequest'
              examples:
                Aprobado:
                  value:
                    requestId: 1
                    status:
                      status: APPROVED
                      reason: '00'
                      message: The petition has been successfully approved
                      date: '2021-11-30T15:49:47-05:00'
                    request:
                      locale: es_CO
                      payer:
                        document: '1033332222'
                        documentType: CC
                        name: Name
                        surname: LastName
                        email: dnetix1@app.com
                        mobile: '3111111111'
                        address:
                          postalCode: '12345'
                      payment:
                        reference: '1122334455'
                        description: Prueba
                        amount:
                          currency: USD
                          total: 100
                        allowPartial: false
                        subscribe: false
                      returnUrl: 'https://redirection.test/home'
                      ipAddress: 127.0.0.1
                      userAgent: PlacetoPay Sandbox
                      expiration: '2021-12-30T00:00:00-05:00'
                    payment:
                      - status:
                          status: APPROVED
                          reason: '00'
                          message: Aprobada
                          date: '2021-11-30T15:49:36-05:00'
                        internalReference: 1
                        paymentMethod: visa
                        paymentMethodName: Visa
                        issuerName: 'JPMORGAN CHASE BANK, N.A.'
                        amount:
                          from:
                            currency: USD
                            total: 100
                          to:
                            currency: USD
                            total: 100
                          factor: 1
                        authorization: '000000'
                        reference: '1122334455'
                        receipt: '241516'
                        franchise: DF_VS
                        refunded: false
                        processorFields:
                          - keyword: lastDigits
                            value: '1111'
                            displayOn: none
                    subscription: null
                Pendiente:
                  value:
                    requestId: 1
                    status:
                      status: PENDING
                      reason: PT
                      message: La petición se encuentra pendiente
                      date: '2021-11-30T15:45:57-05:00'
                    request:
                      locale: es_CO
                      payer:
                        document: '1033332222'
                        documentType: CC
                        name: Name
                        surname: lastName
                        email: dnetix1@app.com
                        mobile: '3111111111'
                        address:
                          postalCode: '12345'
                      payment:
                        reference: '1122334455'
                        description: Prueba
                        amount:
                          currency: USD
                          total: 100
                        allowPartial: false
                        subscribe: false
                      returnUrl: 'https://dnetix.co/p2p/client'
                      ipAddress: 127.0.0.1
                      userAgent: PlacetoPay Sandbox
                      expiration: '2021-12-30T00:00:00-05:00'
                    payment: null
                    subscription: null
                Rechazado:
                  value:
                    requestId: 1
                    status:
                      status: REJECTED
                      reason: XN
                      message: Se ha rechazado la petición
                      date: '2021-11-30T16:44:24-05:00'
                    request:
                      locale: es_CO
                      payer:
                        document: '1033332222'
                        documentType: CC
                        name: Name
                        surname: LastName
                        email: dnetix@app.com
                        mobile: '31111111111'
                        address:
                          postalCode: '12345'
                      payment:
                        reference: '331122'
                        description: Reference
                        amount:
                          currency: USD
                          total: 500
                        allowPartial: false
                        subscribe: false
                      returnUrl: 'https://redirection.test/home'
                      ipAddress: 127.0.0.1
                      userAgent: PlacetoPay Sandbox
                      expiration: '2021-12-30T00:00:00-05:00'
                    payment:
                      - status:
                          status: REJECTED
                          reason: '65'
                          message: '65'
                          date: '2021-11-30T16:22:19-05:00'
                        internalReference: 1
                        paymentMethod: visa
                        paymentMethodName: Visa
                        issuerName: 'CAIXA D''ESTALVIS UNIO DE CAIXES DE MANLLEU, SABADE'
                        amount:
                          from:
                            currency: USD
                            total: 100
                          to:
                            currency: USD
                            total: 100
                          factor: 1
                        authorization: '000000'
                        reference: '331122'
                        franchise: TS_VS
                        refunded: false
                        processorFields:
                          - keyword: lastDigits
                            value: '1111'
                            displayOn: none
                    subscription: null
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CollectRequest'
            examples:
              Cobro con token simple:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '1122334455'
                    description: Prueba
                    amount:
                      currency: USD
                      total: 100
                  instrument:
                    token:
                      token: e07ca9986cf0ecac8a557fa11c07bf37ea35e9e3e3a4180c49
                  expiration: '2021-12-30T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Cobro con token a una preautorización:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '1122334455'
                    description: Prueba
                    amount:
                      currency: USD
                      total: 100
                  type: checkin
                  instrument:
                    token:
                      token: e07ca9986cf0ecac8a557fa11c07bf37ea35e9e3e3a4180c49
                  expiration: '2021-12-30T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Cobro con  bolsillo de tarjeta:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '1122334455'
                    description: Prueba
                    amount:
                      currency: USD
                      total: 100
                  instrument:
                    pocket: 10
                    token:
                      token: e07ca9986cf0ecac8a557fa11c07bf37ea35e9e3e3a4180c49
                  expiration: '2021-12-30T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
      description: |
        Permite realizar cobros sin la intervención del usuario usando medios de pago previamente suscritos.
      x-internal: false
  /api/transaction:
    post:
      summary: Acciones de transacción (TransactionPayment)
      operationId: post-api-transaction
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentRequest'
              examples:
                Checkout:
                  value:
                    status:
                      status: APPROVED
                      reason: '00'
                      message: Aprobada
                      date: '2021-11-30T09:36:00-05:00'
                    payment:
                      status:
                        status: APPROVED
                        reason: '00'
                        message: Aprobada
                        date: '2021-11-30T09:35:59-05:00'
                      internalReference: 643
                      paymentMethod: visa
                      paymentMethodName: Visa
                      issuerName: 'JPMORGAN CHASE BANK, N.A.'
                      amount:
                        from:
                          currency: USD
                          total: 500
                        to:
                          currency: USD
                          total: 500
                        factor: 1
                      authorization: '550044'
                      reference: '1122334455'
                      receipt: '499435368733'
                      franchise: PS_VS
                      refunded: false
                Reauthorization:
                  value:
                    status:
                      status: APPROVED
                      reason: '00'
                      message: Aprobada
                      date: '2021-11-30T09:26:50-05:00'
                    payment:
                      status:
                        status: APPROVED
                        reason: '00'
                        message: Aprobada
                        date: '2021-11-30T09:26:49-05:00'
                      internalReference: 642
                      paymentMethod: visa
                      paymentMethodName: Visa
                      issuerName: 'JPMORGAN CHASE BANK, N.A.'
                      amount:
                        from:
                          currency: USD
                          total: 500
                        to:
                          currency: USD
                          total: 500
                        factor: 1
                      authorization: '883327'
                      reference: '1122334455'
                      receipt: '657093859996'
                      franchise: PS_VS
                      refunded: false
                Reverse:
                  value:
                    status:
                      status: APPROVED
                      reason: '00'
                      message: Aprobada
                      date: '2021-11-30T09:37:46-05:00'
                    payment:
                      status:
                        status: APPROVED
                        reason: '00'
                        message: Aprobada
                        date: '2021-11-30T09:37:46-05:00'
                      internalReference: 644
                      paymentMethod: visa
                      paymentMethodName: Visa
                      issuerName: 'JPMORGAN CHASE BANK, N.A.'
                      amount:
                        from:
                          currency: USD
                          total: 500
                        to:
                          currency: USD
                          total: 1000
                        factor: 1
                      authorization: '550044'
                      reference: '1122334455'
                      receipt: '499435368733'
                      franchise: PS_VS
                      refunded: false
      description: 'Permite realizar operaciones básicas de preauthorización como `checkout`, `reauthorization`, (No aplica para Puerto Rico)  por otro lado también permite revertir un pago aprobado con el código de referencia interna `reverse`.'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TransactionActionRequest'
            examples:
              Checkout:
                value:
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  internalReference: 640
                  amount:
                    currency: USD
                    total: '500'
                  action: checkout
              Reauthorization:
                value:
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  internalReference: 640
                  amount:
                    currency: USD
                    total: '500'
                  action: reauthorization
              Reverse:
                value:
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  internalReference: 123
                  action: reverse
        description: ''
      x-internal: false
  /api/instrument/invalidate:
    post:
      summary: Invalidar Token (InstrumentInvalidateRequest)
      responses:
        '200':
          $ref: '#/components/responses/StatusResponse'
        '400':
          $ref: '#/components/responses/StatusResponse'
      operationId: post-api-instrument-invalidate
      description: Permite invalidar un token ya existente del sitio. Esto hará que el token o el subtoken ya no se pueda usar.
      requestBody:
        $ref: '#/components/requestBodies/InstrumentInvalidateRequest'
components:
  schemas:
    Person:
      description: Structure that reflects the information of a person involved in a transaction.
      type: object
      title: Person
      properties:
        document:
          type: string
          minLength: 1
          description: |
            Identification document
            
            e.g.: `1017111222`
          example: '1122334455'
        documentType:
          type: string
          minLength: 1
          example: CC
          description: |
            Document type identifier. View options in [Document Types](/en/checkout/document-types)
            
            e.g.: `CC` for "Cédula de Ciudadanía" in Colombia.
        name:
          type: string
          minLength: 1
          description: | 
            Name of the person or company
            
            e.g.: `Juan José`
          example: John
        surname:
          type: string
          minLength: 1
          description: |
            Last name of the person. Does not apply when the type of document corresponds to that of a company
            
            e.g.: `Peréz Pinzon`
          example: Doe
        company:
          type: string
          description: |
            Name of the company to which the person belongs
            
            e.g.: `Placetopay`
          example: Evertec
        email:
          type: string
          minLength: 1
          example: johndoe@app.com
          description: |
            Email of the user or company
            
            e.g.: `juan.perez@example.com`
        mobile:
          type: string
          minLength: 1
          description: |
            User or company phone number
            
            e.g.: `+573214445566`
          example: '+573214445566'
        address:
          type: object
          description: | 
            Structure to attach address or address information
          properties:
            country:
              type: string
              minLength: 1
              description: |
                Country of domicile
                
                e.g.: `Colombia`
              example: Colombia
            state:
              type: string
              minLength: 1
              description: |
                Domicile department
                
                e.g.: `Antioquia`
              example: Antioquia
            city:
              type: string
              minLength: 1
              description: |
                City of residence
                
                e.g.: `Medellín`
              example: Medellín
            postalCode:
              type: string
              minLength: 1
              description: |
                Postal code of the address
                
                e.g.: `050012`
              example: '55555'
            street:
              type: string
              minLength: 1
              description: |
                Home address
                
                e.g.: `Calle 12 #33a-12, Apto 101`
              example: Calle falsa 123
            phone:
              type: string
              minLength: 1
              description: |
                Home phone number
                
                e.g.: `+573214445566`
              example: '+573111111111'
    PaymentRequest:
      title: PaymentRequest
      type: object
      description: |
        Requested payment information.
      required:
        - reference
        - description
        - amount
      properties:
        reference:
          type: string
          description: |
            Unique payment reference. Maximum of 32 characters   
            e.g.: `PAYMENT_0001_ABC`
          example: '12345'
        description:
          type: string
          description: |
            Description of the process to be carried out   
            e.g.: `Consumo mes de Mayo`
          example: Consumo mes de Mayo
        amount:
          $ref: '#/components/schemas/Amount'
        allowPartial:
          type: boolean
          description: |
            Defines if the amount to be charged can be paid in several transactions.
            When set to `true` the user will be able to complete the payment in multiple transactions.
          default: false
        shipping:
          $ref: '#/components/schemas/Person'
          description: |
            Structure to relate shipping information.
        items:
          type: array
          items:
            $ref: '#/components/schemas/Item'
          description: |
            Structure to relate products or items in the process.
        fields:
            $ref: '#/components/schemas/Fields'
        recurring:
          $ref: '#/components/schemas/Recurring'
        subscribe:
          type: boolean
          description: |
            When `true` is sent, a subscription payment session is generated.
            
            In the payment process, the user can choose whether or not to save his payment method to be used in future charges..
          default: false
        dispersion:
          type: array
          description: |
            When defined, a scatter payment session is generated.
            The generated payment can be divided into different destinations according to the given conditions.
          items:
            $ref: '#/components/schemas/DispersionDetail'
        modifiers:
          type: array
          items:
            $ref: '#/components/schemas/Modifiers'
          description: |
            Structure to define modifiers in the collection.
            
            Applies to tax laws in specific countries.
      examples:
        - reference: '12345'
          description: Payment test
          amount:
            currency: COP
            total: 2000
            taxes:
              - kind: valueAddedTax
                amount: 1000
                base: 0
            details:
              - kind: discount
                amount: 1000
          allowPartial: false
          shipping:
            document: '1122334455'
            documentType: CC
            name: John
            surname: Doe
            company: Evertec
            email: johndoe@app.com
            mobile: '+5731111111111'
            address:
              street: Calle falsa 123
              city: Medellín
              state: Poblado
              postalCode: '55555'
              country: Colombia
              phone: '+573111111111'
          items:
            - sku: '12345'
              name: product_1
              category: physical
              qty: '1'
              price: 1000
              tax: 0
          fields:
            - keyword: _test_field_value_
              value: _test_field_
              displayOn: approved
          recurring:
            periodicity: D
            interval: '1'
            nextPayment: '2019-08-24'
            maxPeriods: 1
            'dueDate ': '2019-09-24'
            'notificationUrl ': 'https://checkout.placetopay.com'
          subscribe: false
          dispersion:
            - agreement: '1299'
              agreementType: MERCHANT
              amount:
                currency: USD
                total: 200
          modifiers:
            - type: FEDERAL_GOVERNMENT
              code: 17934
              additional:
                invoice: '123345'
    Amount:
      title: Amount
      type: object
      x-internal: false
      description: |
        Information on the amount to be collected
      properties:
        currency:
          type: string
          example: COP
          description: |
            Alphabetical code of the currency to be used (ISO 4217 alpha code)
            e.g.: `USD`
        total:
          type: number
          example: 2000
          description: |
            Total value in the indicated base currency   
            e.g.: `1000` equals _one thousand dollars_
        taxes:
          description: |
            Structure to define taxes in the payment process.
          type: array
          items:
            $ref: '#/components/schemas/Taxes'
        details:
          description: |
            Structure to define additional details of the amount in the payment process.
          type: array
          items:
            $ref: '#/components/schemas/Details'
    NameValuePair:
      title: NameValuePair
      description: |
        Structure to relate additional data in the process.
      type: object
      properties:
        keyword:
          type: string
          minLength: 1
          description: |
            Identifier or index of the data to be attached.   
            e.g.: `cmsInvoiceId`
          example: '1111'
        value:
          type:
            - string
            - object
            - array
            - number
            - boolean
          minLength: 1
          description: |
            Value of the data to be attached.   
            e.g.: `ID_2233`
          example: lastDigits
        displayOn:
          type: string
          minLength: 1
          description: |
            Indicates under what conditions the attached data is displayed. See more in [Additional Fields](/en/checkout/additional-fields)
            
            One of: `none`, `payment`, `receipt`, `both`, `approved`.
          example: none
      examples:
        - value: '468232'
          keyword: merchantCode
          displayOn: none
        - value:
            code: '1'
            type: '03'
            groupCode: X
            installments: 3
          keyword: credit
          displayOn: none
        - value: 2056
          keyword: totalAmount
          displayOn: none
        - value: 685.33
          keyword: installmentAmount
          displayOn: none
    Recurring:
      type: object
      description: |
        Structure to indicate the frequency of a recurring charge.
      properties:
        periodicity:
          type: string
          description: |
            Frequency of collection  
            `D` Día, `M` Mes, `Y` Año
          enum:
            - D
            - M
            - Y
          example: D
        interval:
          type:
            - number
          minLength: 1
          description: |
            Interval associated with the periodicity   
            e.g.: for `15` days.
          example: '1'
          maxLength: 127
        nextPayment:
          type: string
          description: |
            next payment date   
            e.g.: `2019-08-24`
          format: date
          example: '2019-08-24'
        maxPeriods:
          type:
            - number
          description: |
            Maximum number of periods. Use `-1` in case there is no limit      
            e.g.: `12` for a maximum of 12 charges
          example: 1
          minLength: -1
          maxLength: 32767
        dueDate:
          type: string
          format: date
          description: |
            Recurrence Due Date   
            e.g.: `2019-09-24`
          example: '2019-09-24'
        notificationUrl:
          type: string
          description: |
            URL in which the service will notify each time a charge is made  
            e.g.: `https://merchant.com/notification`
          example: 'https://checkout.placetopay.com'
      examples:
        - periodicity: D
          interval: '1'
          nextPayment: '2019-08-24'
          maxPeriods: 1
          'dueDate ': '2019-09-24'
          'notificationUrl ': 'https://checkout.placetopay.com'
    Item:
      description: Possesses a collection of element structures.
      title: Item
      type: object
      properties:
        sku:
          type: string
          description: |
            Item SKU.   
            e.g.: `SKU-12345`
          example: 'SKU-12345'
        name:
          type: string
          minLength: 1
          description: |
            Article name.   
            e.g.: `Manta de lana`
          example: product_1
        category:
          type: string
          minLength: 1
          description: |
            Article category. One of: `digital` `physical`
          enum:
            - digital
            - physical
          example: physical
        qty:
          type: number
          description: |
            Number of articles of this type.   
            e.g.: `23`
          example: '1'
        price:
          type: number
          description: |
            Total cost of the article.   
            e.g.: `1400`
          example: 1400
        tax:
          type: number
          description: |
            Item Tax Amount.   
            e.g.: `100`
    Taxes:
      title: Taxes
      type: object
      description: |
        Structure to define information about a tax.
      examples:
        - kind: valueAddedTax
          amount: 1000
          base: 0
      properties:
        kind:
          type: string
          description: |
            Tax type identifier
            
            One of: `valueAddedTax` `exciseDuty` `ice` `airportTax` `stateTax` `reducedStateTax` `municipalTax`.
          enum:
            - valueAddedTax
            - exciseDuty
            - ice
            - airportTax
            - stateTax
            - reducedStateTax
            - municipalTax
          example: valueAddedTax
        amount:
          type:
            - number
          description: |
            Full amount of tax   
            e.g.: `200`
        base:
          type:
            - number
          description: |
            Base amount on which the tax is calculated   
            e.g.: `1000`
    Details:
      title: Details
      type: object
      description: |
        Structure to store information about a detail.
      x-internal: false
      examples:
        - kind: discount
          amount: 1000
      properties:
        kind:
          type: string
          description: |
            Detail Type Identifier. 
            One of:  `discount` `additional` `vatDevolutionBase` `shipping` `handlingFee` `insurance` `giftWrap` `subtotal` `fee` `tip` `airline` `interests`
          example: discount
          enum:
            - discount
            - additional
            - vatDevolutionBase
            - shipping
            - handlingFee
            - insurance
            - giftWrap
            - subtotal
            - fee
            - tip
            - airline
            - interests
        amount:
          type:
            - number
          description: |
            Total amount of detail
            
            e.g.: `200`
    SubscriptionRequest:
      title: SubscriptionRequest
      type: object
      description: |
        When sent, a subscription session is generated.
        
        The user registers a means of payment so that later charges are made on that means of payment.
      properties:
        reference:
          $ref: '#/components/schemas/Reference'
        description:
          $ref: '#/components/schemas/Description'
        fields:
          $ref: '#/components/schemas/Fields'
    RedirectRequest:
      title: RedirectRequest
      type: object
      description: |
        Structure that contains all the information about the transaction to be processed.
      required:
        - auth
        - payment
        - expiration
        - ipAddress
        - userAgent
        - returnUrl
      properties:
        auth:
          $ref: '#/components/schemas/Authentication'
        payment:
          $ref: '#/components/schemas/PaymentRequest'
        expiration:
          $ref: '#/components/schemas/Expiration'
        ipAddress:
          $ref: '#/components/schemas/IpAddress'
        userAgent:
          $ref: '#/components/schemas/UserAgent'
        returnUrl:
          $ref: '#/components/schemas/ReturnUrl'
        locale:
          $ref: '#/components/schemas/Locale'
        buyer:
          $ref: '#/components/schemas/Person'
          description: |
            User data **buyer**, refers to the user who is buying a product or service.
            
            **When a session is created**: It can be sent if you know the user who is making the purchase, as it helps to complete the session information.
            If this data is sent, the user will have their personal data pre-filled and will be able to change them at Checkout.
        payer:
          $ref: '#/components/schemas/Person'
          description: |
            Data of the user **payer**, refers to the owner of the means of payment or user who paid the requested amount.
            
            **When a session is created**: It should only be used when you want to "force" the data of the user who will complete the process.
            If this data is sent, the user will have their personal data pre-filled but **will not be able to change them**.
        subscription:
          $ref: '#/components/schemas/SubscriptionRequest'
        fields:
          $ref: '#/components/schemas/Fields'
        paymentMethod:
          type: string
          description: |
            It is used to restrict the payment methods available at checkout.
            Multiple codes can be sent separated by commas.
            See more in [Payment methods](/en/checkout/payment-methods)

            e.g.: `visa,master,pse`
          example: visa
        cancelUrl:
          type:
            - string
          description: |
            Cancellation URL, the user is redirected to this url when he decides not to continue with the process.
            Occurs when the user clicks on _I don't want to continue_

            e.g.: `https://merchant.com/cancel`
          example: 'https://commerce.test/cancel'
        skipResult:
          type: boolean
          description: |
            If `true` is sent, when the user finishes the process the session result page will not be displayed, instead they will be redirected to the `returnUrl`
          default: false
        noBuyerFill:
          type: boolean
          description: |
            By default, the data sent as `buyer` is pre-filled in the Checkout interface to speed up the payment process, if this parameter is sent as `true` then this pre-fill will not be done.
          default: false
        type:
          type: string
          description: |
            Parameter used for pre-authorization type sessions

            Only `checkin` is supported to generate a pre-authorization session
          enum:
            - checkin
          example: checkin
      x-examples:
        'Crear sesión básica':
          locale: es_CO
          payer:
            name: Diego
            surname: osorio
            email: diego.calle4@placetopay.com
            documentType: CC
            document: '1036949824'
            mobile: '3102903560'
          payment:
            reference: '331122'
            description: Example basic payment
            amount:
              currency: USD
              total: 100
            allowPartial: false
          expiration: '2021-06-31T00:00:00-05:00'
          returnUrl: 'https://mysite.com/response/3210'
          ipAddress: 127.0.0.1
          userAgent: PlacetoPay Sandbox
        Crear sesión checkin:
          locale: es_CO
          type: checkin
          payer:
            name: Diego
            surname: osorio
            email: diego.calle4@placetopay.com
            documentType: CC
            document: '1036949824'
            mobile: '3102903560'
          payment:
            reference: '331122'
            description: Example basic payment
            amount:
              currency: USD
              total: 100
            allowPartial: false
          expiration: '2021-06-31T00:00:00-05:00'
          returnUrl: 'https://mysite.com/response/3210'
          ipAddress: 127.0.0.1
          userAgent: PlacetoPay Sandbox
      x-internal: false
      examples:
        - locale: es_CO
          auth:
            login: c51ce410c124a10e0db5e4b97fc2af39
            tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
            nonce: NjE0OWVkODgwYjNhNw==
            seed: '2021-09-21T09:34:48-05:00'
          payer:
            document: '1122334455'
            documentType: CC
            name: John
            surname: Doe
            company: Evertec
            email: johndoe@app.com
            mobile: '+5731111111111'
            address:
              street: Calle falsa 123
              city: Medellín
              state: Poblado
              postalCode: '55555'
              country: Colombia
              phone: '+573111111111'
          buyer:
            document: '1122334455'
            documentType: CC
            name: John
            surname: Doe
            company: Evertec
            email: johndoe@app.com
            mobile: '+5731111111111'
            address:
              street: Calle falsa 123
              city: Medellín
              state: Poblado
              postalCode: '55555'
              country: Colombia
              phone: '+573111111111'
          payment:
            reference: '12345'
            description: Payment test
            amount:
              currency: COP
              total: 2000
              taxes:
                - kind: valueAddedTax
                  amount: 1000
                  base: 0
              details:
                - kind: discount
                  amount: 1000
            allowPartial: false
            shipping:
              document: '1122334455'
              documentType: CC
              name: John
              surname: Doe
              company: Evertec
              email: johndoe@app.com
              mobile: '+5731111111111'
              address:
                street: Calle falsa 123
                city: Medellín
                state: Poblado
                postalCode: '55555'
                country: Colombia
                phone: '+573111111111'
            items:
              - sku: '12345'
                name: product_1
                category: physical
                qty: '1'
                price: 1000
                tax: 0
            fields:
              - keyword: _test_field_value_
                value: _test_field_
                displayOn: approved
            recurring:
              periodicity: D
              interval: '1'
              nextPayment: '2019-08-24'
              maxPeriods: 1
              'dueDate ': '2019-09-24'
              'notificationUrl ': 'https://checkout.placetopay.com'
            subscribe: false
            dispersion:
              - agreement: '1299'
                agreementType: MERCHANT
                amount:
                  currency: USD
                  total: 200
            modifiers:
              - type: FEDERAL_GOVERNMENT
                code: 17934
                additional:
                  invoice: '123345'
          subscription:
            reference: '12345'
            description: Example description
            fields:
              keyword: '1111'
              value: lastDigits
              displayOn: none
          fields:
            - keyword: _processUrl_
              value: 'https://checkout.redirection.test/session/1/a592098e22acc709ec7eb30fc0973060'
              displayOn: none
          paymentMethod: visa
          expiration: '2019-08-24T14:15:22Z'
          returnUrl: 'https://commerce.test/return'
          cancelUrl: 'https://commerce.test/cancel'
          ipAddress: 127.0.0.1
          userAgent: PlacetoPay Sandbox
          skipResult: false
          noBuyerFill: false
          type: checkin
    Authentication:
      description: |
        Site authentication. See more in [Authentication](/en/checkout/authentication)
      type: object
      title: Authentication
      examples:
        - auth:
            login: 'c51ce410c124a10e0db5e4b97fc2af39'
            tranKey: 'VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE='
            nonce: 'NjE0OWVkODgwYjNhNw=='
            seed: '2021-09-21T09:34:48-05:00'
      properties:
        login:
          type: string
          minLength: 1
          description: |
            Site identifier.
        tranKey:
          type: string
          minLength: 1
          description: |
            Generated tranKey credential.
            See more in [Authentication](/en/checkout/authentication)
        nonce:
          type: string
          minLength: 1
          description: |
            Random value for each Base64 encoded request.
        seed:
          type: string
          minLength: 1
          description: |
            Current date, which is generated in ISO 8601 format.
    Status:
      title: Status
      description: |
        Structure that contains the response information about a request or payment, and reports the current status of the same.
      type: object
      properties:
        status:
          type: string
          minLength: 1
          description: Status of a request or payment
          example: APPROVED
          enum:
            - APPROVED
            - PENDING
            - REJECTED
            - APPROVED_PARTIAL
            - PARTIAL_EXPIRED
            - FAILED
        reason:
          type:
            - string
            - number
            - 'null'
          description: |
            Reason Code Provided.
          example: '00'
        message:
          type:
            - string
            - 'null'
          minLength: 1
          description: |
            Description of the reason code.
          example: The petition has been successfully approved
        date:
          type: string
          minLength: 1
          format: date-time
          description: |
            Date and time when the payment status is generated.
          example: '2022-07-27T14:51:27-05:00'
    Transaction:
      title: Transaction
      type: object
      description: |
        Structure containing information about the payment process of the transaction in PlacetoPay.
      examples:
        - status:
            status: APPROVED
            reason: '00'
            message: The petition has been successfully approved
            date: '2022-07-27T14:51:27-05:00'
          internalReference: 12345
          reference: '12345'
          paymentMethod: visa
          paymentMethodName: Visa
          issuerName: 'JPMORGAN CHASE BANK, N.A.'
          amount:
            from:
              'currency ': COP
              'total ': 10000
            to:
              'currency ': COP
              'total ': 10000
            factor: 1
          receipt: '052617800175'
          franchise: PS_VS
          refunded: false
          authorization: '965960'
          processorFields:
            - keyword: '1111'
              value: lastDigits
              displayOn: none
            - value:
                code: '1'
                type: '03'
                groupCode: X
                installments: 3
              keyword: credit
              displayOn: none
            - value: 2056
              keyword: totalAmount
              displayOn: none
          dispersion: null
          agreement: null
          agreementType: null
          discount:
            base: 3000
            code: '17934'
            type: FRANCHISE
            amount: 1000
          subscription: null
      properties:
        status:
          $ref: '#/components/schemas/Status'
        internalReference:
          type: integer
          description: |
            Internal referral at PlacetoPay.
          example: 12345
        reference:
          type: string
          description: |
            Reference sent by the merchant for the transaction.
          example: '12345'
        paymentMethod:
          type: string
          description: |
            Code of the payment method used.
          example: visa
        paymentMethodName:
          type: string
          description: |
            Name of the payment method used.
          example: Visa
        issuerName:
          type: string
          description: |
            Issuer or processor name.
          example: 'JPMORGAN CHASE BANK, N.A.'
        amount:
          $ref: '#/components/schemas/AmountConversion'
        receipt:
          type: string
          description: |
            Transaction receipt number.
          example: '052617800175'
        franchise:
          type: string
          description: |
            Excess of the card used.
          example: PS_VS
        refunded:
          type: boolean
          description: It is used to define if the transaction has been reversed
          default: false
        authorization:
          type: string
          description: |
            Authorization code.
          example: '965960'
        processorFields:
          type: array
          description: Structure that may vary over time depending on the information available for the means of payment.
          items:
            $ref: '#/components/schemas/NameValuePair'
        dispersion:
          type: array
            - 'null'
          description: Structure containing scattering information
          items:
            $ref: '#/components/schemas/TransactionDispersion'
        agreement:
          type:
            - integer
            - 'null'
            - string
            - number
          description: Transaction recipient identifier. For the main site of the transaction.
          example: 186
        agreementType:
          type:
            - string
            - 'null'
          description: Dispersion type
          enum:
            - MERCHANT
            - AIRLINE
          example: MERCHANT
        discount:
          type:
            - object
            - 'null'
          properties:
            base:
              type:
                - string
                - number
              example: 3000
            code:
              type: string
              example: '17934'
            type:
              type: string
              example: FRANCHISE
            amount:
              type:
                - number
                - string
              example: 1000
        subscription:
          type:
            - string
            - 'null'
    TransactionDispersion:
      title: Transaction Dispersion
      x-stoplight:
        id: sc9t9q5yfgeuj
      type: object
      description: |
        Structure containing information about the sparse transaction process.
      examples:
        - status:
            status: APPROVED
            reason: '00'
            message: The petition has been successfully approved
            date: '2022-07-27T14:51:27-05:00'
          agreement: null
          agreementType: null
          authorization: '965960'
          receipt: '052617800175'
          amount:
            from:
              'currency ': COP
              'total ': 10000
            to:
              'currency ': COP
              'total ': 10000
            factor: 1
          refunded: false
          paymentMethod: visa
      properties:
        status:
          $ref: '#/components/schemas/Status'
        agreement:
          type:
            - integer
            - 'null'
            - string
            - number
          description: Transaction recipient identifier. For the main site of the transaction.
          example: 186
        agreementType:
          type:
            - string
            - 'null'
          description: Dispersion type
          enum:
            - MERCHANT
            - AIRLINE
          example: MERCHANT
        authorization:
          type:
            - string
            - 'null'
          description: |
            Authorization code.
          example: '965960'
        receipt:
          type:
            - string
            - 'null'
          description: |
            Transaction receipt number.
          example: '052617800175'
        amount:
          $ref: '#/components/schemas/AmountConversion'
        refunded:
          type: boolean
          description: It is used to define if the transaction has been reversed
          default: false
        paymentMethod:
          type: string
          description: |
            Code of the payment method used.
          example: visa
    AmountConversion:
      title: AmountConversion
      type: object
      description: |
        Structure to define the conversion factor and values.
      properties:
        from:
          $ref: '#/components/schemas/AmountBase'
        to:
          $ref: '#/components/schemas/AmountBase'
        factor:
          type:
            - number
            - string
          example: 1
          description: Conversion factor
    AmountBase:
      title: AmountBase
      type: object
      description: |
        Structure that represents a quantity that defines the currency and the total.
      properties:
        'currency ':
          type: string
          description: |
            Currency according to ISO 4217 (alphabetic code).
          example: COP
        'total ':
          type:
            - number
            - string
          description: |
            Total value.
          example: 10000
    SubscriptionResponse:
      title: SubscriptionResponse
      type: object
      description: |
        Structure containing information for the subscription payment method.
      examples:
        - status:
            status: OK
            reason: '00'
            message: The petition has been successfully approved
            date: '2022-07-27T14:51:27-05:00'
          type: token
          instrument:
            - keyword: token
              value: a3bfc8e2afb9ac5583922eccd6d2061c1b0592b099f04e352a894f37ae51cf1a
              displayOn: none
            - keyword: subtoken
              value: '8740257204881111'
              displayOn: none
            - keyword: franchise
              value: visa
              displayOn: none
            - keyword: franchiseName
              value: Visa
              displayOn: none
            - keyword: issuerName
              value: 'JPMORGAN CHASE BANK, N.A.'
              displayOn: none
            - keyword: lastDigits
              value: '1111'
              displayOn: none
            - keyword: validUntil
              value: '2029-12-31'
              displayOn: none
            - keyword: installments
              value: null
              displayOn: none
      properties:
        status:
          $ref: '#/components/schemas/Status'
        type:
          type: string
          description: Defines type of subscription that is returned
          example: token
          enum:
            - token
            - cuenta
        instrument:
          type: array
          items:
            $ref: '#/components/schemas/NameValuePair'
    RedirectInformation:
      title: RedirectInformation
      type: object
      description: |
        Response structure to a request for transaction information.
      properties:
        requestId:
          type:
            - string
            - number
            - integer
          example: 1
          description: Request id
        status:
          $ref: '#/components/schemas/Status'
        request:
          $ref: '#/components/schemas/RedirectRequest'
        payment:
          type: array
            - 'null'
          items:
            $ref: '#/components/schemas/Transaction'
        subscription:
          $ref: '#/components/schemas/SubscriptionResponse'
      examples:
        - requestId: 1
          status:
            status: APPROVED
            reason: '00'
            message: The petition has been successfully approved
            date: '2022-07-27T14:51:27-05:00'
          request:
            locale: es_CO
            payer:
              document: '1122334455'
              documentType: CC
              name: John
              surname: Doe
              company: Evertec
              email: johndoe@app.com
              mobile: '+5731111111111'
              address:
                street: Calle falsa 123
                city: Medellín
                state: Poblado
                postalCode: '55555'
                country: Colombia
                phone: '+573111111111'
            buyer:
              document: '1122334455'
              documentType: CC
              name: John
              surname: Doe
              company: Evertec
              email: johndoe@app.com
              mobile: '+5731111111111'
              address:
                street: Calle falsa 123
                city: Medellín
                state: Poblado
                postalCode: '55555'
                country: Colombia
                phone: '+573111111111'
            payment:
              reference: '12345'
              description: Payment test
              amount:
                currency: COP
                total: 2000
                taxes:
                  - kind: valueAddedTax
                    amount: 1000
                    base: 0
                details:
                  - kind: discount
                    amount: 1000
              allowPartial: false
              shipping:
                document: '1122334455'
                documentType: CC
                name: John
                surname: Doe
                company: Evertec
                email: johndoe@app.com
                mobile: '+5731111111111'
                address:
                  street: Calle falsa 123
                  city: Medellín
                  state: Poblado
                  postalCode: '55555'
                  country: Colombia
                  phone: '+573111111111'
              items:
                - sku: '12345'
                  name: product_1
                  category: physical
                  qty: '1'
                  price: 1000
                  tax: 0
              fields:
                - keyword: _test_field_value_
                  value: _test_field_
                  displayOn: approved
              recurring:
                periodicity: D
                interval: '1'
                nextPayment: '2019-08-24'
                maxPeriods: 1
                'dueDate ': '2019-09-24'
                'notificationUrl ': 'https://checkout.placetopay.com'
              subscribe: false
              dispersion:
                - agreement: '1299'
                  agreementType: MERCHANT
                  amount:
                    currency: USD
                    total: 200
              modifiers:
                - type: FEDERAL_GOVERNMENT
                  code: 17934
                  additional:
                    invoice: '123345'
            subscription:
              reference: '12345'
              description: Example description
              fields:
                keyword: '1111'
                value: lastDigits
                displayOn: none
            fields:
              - keyword: _processUrl_
                value: 'https://checkout.redirection.test/session/1/a592098e22acc709ec7eb30fc0973060'
                displayOn: none
            paymentMethod: visa
            expiration: '2019-08-24T14:15:22Z'
            returnUrl: 'https://commerce.test/return'
            cancelUrl: 'https://commerce.test/cancel'
            ipAddress: 127.0.0.1
            userAgent: PlacetoPay Sandbox
            skipResult: false
            noBuyerFill: false
            type: checkin
          payment:
            - status:
                status: APPROVED
                reason: '00'
                message: The petition has been successfully approved
                date: '2022-07-27T14:51:27-05:00'
              internalReference: 12345
              reference: '12345'
              paymentMethod: visa
              paymentMethodName: Visa
              issuerName: 'JPMORGAN CHASE BANK, N.A.'
              amount:
                from:
                  'currency ': COP
                  'total ': 10000
                to:
                  'currency ': COP
                  'total ': 10000
                factor: 1
              receipt: '052617800175'
              franchise: PS_VS
              refunded: false
              authorization: '965960'
              processorFields:
                - keyword: '1111'
                  value: lastDigits
                  displayOn: none
              dispersion: null
              agreement: null
              agreementType: null
              discount:
                base: 3000
                code: '17934'
                type: FRANCHISE
                amount: 1000
              subscription: null
          subscription:
            status:
              status: OK
              reason: '00'
              message: The petition has been successfully approved
              date: '2022-07-27T14:51:27-05:00'
            type: token
            instrument:
              - keyword: token
                value: a3bfc8e2afb9ac5583922eccd6d2061c1b0592b099f04e352a894f37ae51cf1a
                displayOn: none
              - keyword: subtoken
                value: '8740257204881111'
                displayOn: none
              - keyword: franchise
                value: visa
                displayOn: none
              - keyword: franchiseName
                value: Visa
                displayOn: none
              - keyword: issuerName
                value: 'JPMORGAN CHASE BANK, N.A.'
                displayOn: none
              - keyword: lastDigits
                value: '1111'
                displayOn: none
              - keyword: validUntil
                value: '2029-12-31'
                displayOn: none
              - keyword: installments
                value: null
                displayOn: none
    Instrument:
      title: Instrument
      type: object
      description: |
        Structure containing the details of a subscribed means of payment.
      required:
        - token
      properties:
        token:
          $ref: '#/components/schemas/SimpleToken'
        pocket:
          type:
            - string
          description: |
            Wallet code. Applies to Cards in Uruguay

            Possible values:   
            `10` Savings account en UYU
            `20` current account en UYU
            `80` Savings account en USD
            `90` current account en USD
          example: '10'
          enum:
            - '10'
            - '20'
            - '80'
            - '90'
    InstrumentInvalidate:
      title: InstrumentInvalidate
      description: |
        Información del Token a invalidar.
      type:
        - object
      required:
        - token
      properties:
        token:
          description: |
            Información de un medio de pago "tokenizado". Se debe tokenizar con una sesión de suscripción.
            Debe contener el `token` o el `subtoken`, ambas representaciones válidas de un medio de pago tokenizado.
          type:
            - object
          properties:
            token:
              $ref: '#/components/schemas/InstrumentTokenToken'
            subtoken:
              $ref: '#/components/schemas/InstrumentTokenSubToken'
    InstrumentTokenToken:
      type:
        - number
      description: |
        Representation of the means of payment.

        e.g.: `a3bfc8e2afb9ac5583922eccd6d2061c1b0592b0...`
      example: a3bfc8e2afb9ac5583922eccd6d2061c1b0592b099f04e352a894f37ae51cf1a
    InstrumentTokenSubToken:
      type:
        - string
      description: |
        Numerical representation of the means of payment. It is used in cases where the token is required to be numeric.
        The last 4 digits are the same as the last 4 digits of the credit card.

        e.g.: `8740257204881112`
      example: '8740257204881112'
    SimpleToken:
      title: SimpleToken
      type:
        - object
      description: |
        Information of a "tokenized" means of payment. It must be tokenized with a subscription session.
        It must contain the `token` or the `subtoken`, both valid representations of a tokenized means of payment.
      properties:
        token:
          $ref: '#/components/schemas/InstrumentTokenToken'
        subtoken:
          $ref: '#/components/schemas/InstrumentTokenSubToken'
        installments:
          type:
            - integer
          description: |
            Number of installments in which the collection is requested. Applies to Colombia.
            
            e.g.: `2` for 2 installments.
          example: null
        cvv:
          type:
            - string
          description: |
            Card Security Code. If the user is present in the collection process, it is recommended to attach this information.
            
            e.g.: `123`
          example: '123'
      examples:
        - token: a3bfc8e2afb9ac5583922eccd6d2061c1b0592b099f04e352a894f37ae51cf1a
          subtoken: '8740257204881112'
          installments: null
          cvv: '123'
    CollectRequest:
      title: CollectRequest
      type: object
      description: |
        Allows payments to be made without user intervention using previously subscribed means of payment.
      required:
        - auth
        - payment
        - instrument
        - ipAddress
        - userAgent
        - payer
      properties:
        auth:
          $ref: '#/components/schemas/Authentication'
        payment:
          $ref: '#/components/schemas/PaymentRequest'
        instrument:
          $ref: '#/components/schemas/Instrument'
        ipAddress:
          $ref: '#/components/schemas/IpAddress'
        userAgent:
          $ref: '#/components/schemas/UserAgent'
        payer:
          $ref: '#/components/schemas/Person'
          description: |
            Data of the user **payer**, refers to the owner of the means of payment or user who paid the requested amount.
        buyer:
          $ref: '#/components/schemas/Person'
          description: |
            User data **buyer**, refers to the user who is buying a product or service.
        locale:
          $ref: '#/components/schemas/Locale'
        type:
          type:
            - string
          description: |
            Parameter used for pre-authorization type sessions
            
            Only `checkin` is supported to generate a pre-authorization session
          enum:
            - checkin
    TransactionActionRequest:
      title: TransactionActionRequest
      type: object
      description: 'Structure that allows for preauthorization requests such as `checkout`, `reauthorization` and `reverse`'
      x-examples:
        checkout example:
          internalReference: 1
          amount:
            currency: USD
            total: 100
          action: checkout
        reauthorization example:
          internalReference: 1
          amount:
            currency: USD
            total: 100
          action: reauthorization
        reverse example:
          internalReference: 1
          action: reverse
      examples: []
      required:
        - auth
        - internalReference
        - action
      properties:
        auth:
          $ref: '#/components/schemas/Authentication'
        action:
          type:
            - string
          description: |
            Type of operation to perform on the transaction
            
            `reverse` to reverse a transaction.
            `reauthorization` to modify a checkin transaction.
            `checkout` to close and collect a checkin transaction.
          enum:
            - checkout
            - reauthorization
            - reverse
          example: checkout
        internalReference:
          $ref: '#/components/schemas/InternalReference'
        amount:
          $ref: '#/components/schemas/Amount'

    DispersionDetail:
      title: DispersionDetail
      type: object
      description: Structure that reflects the information of the details for payment with dispersion.
      properties:
        amount:
          $ref: '#/components/schemas/Amount'
          description: |
            I ride to "scatter" in this destination.
        agreement:
          type:
            - string
            - number
          description: |
            Id of the destination of this amount. It can be the id of a site.
            
            e.g.: `122`
        agreementType:
          type: string
          description: |
            Type of destination of this amount.
            `MERCHANT` for sites, `AIRLINE` for airlines.
          enum:
            - MERCHANT
            - AIRLINE
          example: MERCHANT
      examples:
        - agreement: '1299'
          agreementType: MERCHANT
          amount:
            currency: USD
            total: 200
    Modifiers:
      title: Modifiers
      type: object
      description: |
        Structure for additional modifications in the collection.
        
        Applies to tax laws in specific countries.
      properties:
        type:
          type: string
          description: | 
            Modifier type identifier. 
            Only `FEDERAL_GOVERNMENT` is currently supported.
          example: FEDERAL_GOVERNMENT
          enum:
            - FEDERAL_GOVERNMENT
        code:
          type:
            - number
          description: |
            Modifier code.
            
             For `FEDERAL_GOVERMENT` represents the law number for discount.
            `17934` Gastronomic Services
            `18083` IMESI Brazil - Argentina
            `19210` Financial Inclusion
            `18910` Family Allowances
            `18999` Real Estate Reimbursement
          enum:
            - 17934
            - 18083
            - 19210
            - 18910
            - 18999
          example: 17934
        additional:
          type: object
          description: |
            Structure for appending information to the modifier
          properties:
            invoice:
              type: string
              description: |
                Required when `modifiers.[].type` is `FEDERAL_GOVERMENT`. Indicates the invoice number.
                
                e.g.: `123456789`
              maxLength: 9
              example: '123456789'
      examples:
        - type: FEDERAL_GOVERNMENT
          code: 17934
          additional:
            invoice: '123345'
    Locale:
      x-stoplight:
        id: 0eakadh5w5h34
      type:
        - string
      format: regex
      pattern: '^\w{2}\_[A-Z]{2}'
      example: en_US
      description: |
        Language in which the request and the session will be processed. See more in [Location](/en/checkout/localization)
        
        e.g.: `en_US`, `es_CO`
    Reference:
      title: Reference
      type: string
      description: |
        Unique reference of the process. Maximum of 32 characters
        
        e.g.: `PAYMENT_0001_ABC`
      example: '12345'
    Description:
      title: Description
      type: string
      description: |
        Description of the process to be carried out
        
        e.g.: `Consumption for the month of May`
      example: Consumption for the month of May
    InternalReference:
      title: InternalReference
      type:
        - number
      description: |
        Unique internal reference of the transaction

        e.g.: `543423`
    Expiration:
      type:
        - string
      format: date-time
      description: |
        Expiration date of a session. The user must finish the process before this date.
        The expiration time must be at least 5 minutes from the time of creation.
        e.g.: `2023-07-17T13:12:44-05:00`
    IpAddress:
      type:
        - string
      description: |
        IP address of the user who will perform the process.  
        e.g.: `134.10.163.36`
      example: 134.10.163.36
    UserAgent:
      type:
        - string
      description: |
        User Agent of the user's browser that will carry out the process.

        e.g.: `Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36`
      example: PlacetoPay Sandbox
    ReturnUrl:
      type:
        - string
      description: |
        Return URL, to this url the user is redirected once the session ends.
        Occurs when the user clicks on _Return to commerce_.

        e.g.: `https://merchant.com/return`
      example: 'https://commerce.test/return'
    PaymentResponse:
      title: PaymentResponse
      x-stoplight:
        id: etrozxrn4d2l6
      type: object
      properties:
        id:
          $ref: '#/components/schemas/Status'
          x-stoplight:
            id: gp6oc3txinq6a
        internalReference:
          type: string
          x-stoplight:
            id: 9069vdtfnw3nn
        paymentMethod:
          type: string
          x-stoplight:
            id: a082dva3km0ah
        paymentMethodName:
          type: string
          x-stoplight:
            id: j42qzun8pzjfw
        issuerName:
          type: string
          x-stoplight:
            id: b3rgkaudjep59
        amount:
          $ref: '#/components/schemas/AmountConversion'
          x-stoplight:
            id: 74jc0pkriqo58
        authorization:
          type: string
          x-stoplight:
            id: nfilkxvfnyf9k
        reference:
          type: string
          x-stoplight:
            id: sw31lhvvqrep5
        franchise:
          type: string
          x-stoplight:
            id: k087mbzr4ud6j
        refunded:
          type: boolean
          x-stoplight:
            id: y4arwef812ahh
        processorFields:
          $ref: '#/components/schemas/processFields'
          x-stoplight:
            id: 05hytmsog12fd
      examples:
        - status:
            status: APPROVED
            reason: '00'
            message: Aprobada
            date: '2023-06-28T09:19:01-05:00'
          internalReference: '384912'
          paymentMethod: visa
          paymentMethodName: Visa
          issuerName: 'JPMORGAN CHASE BANK, N.A.'
          amount:
            from:
              currency: USD
              total: 52
            to:
              currency: USD
              total: 52
            factor: 1
          authorization: '000000'
          reference: TEST_20230628_091643
          franchise: ID_VS
          refunded: false
          processorFields:
            - keyword: merchantCode
              value: '1465675'
              displayOn: none
            - keyword: terminalNumber
              value: '00990099'
              displayOn: none
            - keyword: credit
              value:
                code: '1'
                type: '00'
                groupCode: C
                installments: 1
              displayOn: none
            - keyword: totalAmount
              value: 52
              displayOn: none
            - keyword: interestAmount
              value: 0
              displayOn: none
            - keyword: installmentAmount
              value: 0
              displayOn: none
            - keyword: iceAmount
              value: 0
              displayOn: none
            - keyword: bin
              value: '411111'
              displayOn: none
            - keyword: expiration
              value: '1223'
              displayOn: none
            - keyword: lastDigits
              value: '1111'
              displayOn: none
            - keyword: id
              value: a10fe0690cfe557283310ba90746e159
              displayOn: none
            - keyword: b24
              value: '00'
              displayOn: none
    processFields:
      title: PaymentResponse
      x-stoplight:
        id: j80i0wo5z453m
      type: object
      properties:
        keyword:
          x-stoplight:
            id: gp6oc3txinq6a
          type: string
        value:
          type:
            - string
            - object
            - integer
            - array
          x-stoplight:
            id: 9069vdtfnw3nn
        displayOn:
          type: string
          x-stoplight:
            id: rrubobhx7er11
      examples:
        - keyword: string
          value: string
          displayOn: string
    Fields:
      type: array
      description: |
        Structure to relate additional information in the process. See more in [Additional Fields](/en/checkout/additional-fields)
      items:
        type: object
        $ref: '#/components/schemas/NameValuePair'      
  securitySchemes: {}
  responses:
    StatusResponse:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              status:
                $ref: '#/components/schemas/Status'
            required:
              - status
          examples:
            APPROVED:
              value:
                status:
                  status: APPROVED
                  reason: '00'
                  message: The petition has been successfully approved
                  date: '2022-07-27T14:51:27-05:00'
            OK:
              value:
                status:
                  status: OK
                  reason: '00'
                  message: The petition has been successfully approved
                  date: '2022-07-27T14:51:27-05:00'
            FAILED:
              value:
                status:
                  status: FAILED
                  reason: XN
                  message: The token used is invalid
                  date: '2022-07-27T14:51:27-05:00'
  requestBodies:
    InstrumentInvalidateRequest:
      content:
        application/json:
          schema:
            type:
              - object
            required:
              - auth
              - instrument
            properties:
              auth:
                $ref: '#/components/schemas/Authentication'
              instrument:
                $ref: '#/components/schemas/InstrumentInvalidate'
              locale:
                $ref: '#/components/schemas/Locale'
          examples:
            Using Token:
              value:
                auth:
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                locale: en_US
                instrument:
                  token:
                    token: a3bfc8e2afb9ac5583922eccd6d2061c1b0592b099f04e352a894f37ae51cf1a
            Using Subtoken:
              value:
                auth:
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                locale: en_US
                instrument:
                  token:
                    subtoken: '8740257204881112'
      description: Instrument Invalidate Request