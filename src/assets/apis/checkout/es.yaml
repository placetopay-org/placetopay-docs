openapi: 3.1.0
info:
  title: PlacetoPay WebCheckout
  version: '1.0'
  description: |
    WebCheckout es una página web prediseñada, optimizada y alojada en Placetopay que le permite aceptar pagos en línea de forma rápida y segura desde dispositivos móviles y de escritorio. Puedes aceptar pagos únicos, pagos recurrentes, pagos mixtos y suscribir medios de pago.

    Webcheckout te permite:

    * **Diseño personalizado:** Puedes personalizar los nombres, logos y colores de tu empresa.
    * **Diferentes idiomas y monedas:** Aceptar pagos en multiples idiomas y monedas.
    * **Adaptado a diferentes resoluciones:** Diseño receptivo para diferentes dispositivos.
    * **Wallet PlacetoPay:** WebCheckout cuenta con su propia billetera que le permite a usuarios guardar medios de pago frecuentes brindando mayor seguridad y facilidad en el proceso de pago.
    * **Seguridad de la información:** Lineamientos PCI que garantizan seguridad en la captura y procesamiento de la información sensible de tarjetas.
    * **Pagos avanzados:** Pagos con Impuestos, pagos mixtos, suscripciones, cobros recurrentes, promociones y más...

    <!-- theme: info -->
    > #### Acerca de HTTPS
    >
    > Para hacer uso de este servicio es necesario que tu sistema soporte comunicación con la versión 1.2 del protocolo TLS.
  contact:
    url: 'https://www.evertecinc.com/pasarela-de-pagos-e-commerce/'
    name: PlacetoPay by Evertec
  summary: Usa WebCheckout para aceptar pagos en línea de forma sencilla y segura
servers:
  - description: 'Sandbox (CO, PR, CR, PA)'
    url: 'https://checkout-test.placetopay.com/'
  - url: 'https://checkout-test.placetopay.ec/'
    description: SandBox EC
  - url: 'https://checkout.placetopay.com'
    description: 'Producción (CO, PR, CR, PA)'
  - url: 'https://checkout.placetopay.ec'
    description: Producción (EC)
paths:
  /api/session:
    post:
      summary: Crear sesión (CreateRequest)
      operationId: post-api-session
      description: Solicita la creación de la sesión  retorna el identificador y la URL de procesamiento.
      x-internal: false
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RedirectRequest'
            examples:
              Crear Sesión simple:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '1122334455'
                    description: Prueba
                    amount:
                      currency: USD
                      total: 100
                  expiration: '2021-12-30T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              'Crear sesión de preautorización ':
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  type: checkin
                  payment:
                    reference: '1122334455'
                    description: Prueba
                    amount:
                      currency: USD
                      total: 100
                  expiration: '2021-12-30T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Crear sesión con pago mixto:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '1122334455'
                    description: Prueba
                    amount:
                      currency: USD
                      total: 100
                    allowPartial: true
                  expiration: '2021-12-30T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Crear sesión con impuestos:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '331122'
                    description: Reference
                    amount:
                      currency: USD
                      total: 500
                      taxes:
                        - kind: stateTax
                          amount: 16.13
                        - kind: municipalTax
                          amount: 11.21
                        - kind: reducedStateTax
                          amount: 10.21
                  expiration: '2021-12-30T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Crear sesión con dispersión:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '331122'
                    description: Reference
                    amount:
                      currency: USD
                      total: 500
                    dispersion:
                      - agreement: '1299'
                        agreementType: MERCHANT
                        amount:
                          currency: USD
                          total: 200
                      - agreement: ''
                        agreementType: MERCHANT
                        amount:
                          currency: USD
                          total: 300
                  expiration: '2021-12-30T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Crear sesión suscripción:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  subscription:
                    reference: '331122'
                    description: Una suscripción de prueba
                  expiration: '2021-12-31T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Crear sesión con recurrencia:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '331122'
                    description: Pago con recurrencia
                    amount:
                      currency: USD
                      total: 100
                    recurring:
                      periodicity: D
                      interval: '1'
                      nextPayment: '2021-12-30'
                      maxPeriods: '12'
                  expiration: '2022-12-15T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Crear sesión con modificadores:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '331122'
                    description: Pago con modificadores
                    amount:
                      currency: UYU
                      total: 2000
                    modifiers:
                      - type: FEDERAL_GOVERNMENT
                        code: 17934
                        additional:
                          invoice: '112233'
                  expiration: '2022-12-15T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Crear sesión con detalles:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '331122'
                    description: Reference
                    amount:
                      currency: USD
                      total: 500
                      details:
                        - kind: tip
                          amount: 11
                        - kind: subtotal
                          amount: 11
                  expiration: '2021-12-30T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Crear sesión con pago y subscripción:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payer:
                    document: '1122334455'
                    documentType: CC
                    name: John
                    surname: Doe
                    company: Evertec
                    email: johndoe@app.com
                    mobile: '+5731111111111'
                  payment:
                    reference: '12345'
                    description: Prueba de pago y subscripción
                    amount:
                      currency: COP
                      total: 2000
                    subscribe: true
                  fields:
                    - keyword: _processUrl_
                      value: 'https://checkout.redirection.test/session/1/a592098e22acc709ec7eb30fc0973060'
                      displayOn: none
                  expiration: '2019-08-24T14:15:22Z'
                  returnUrl: 'https://commerce.test/return'
                  cancelUrl: 'https://commerce.test/cancel'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
                  skipResult: false
                  noBuyerFill: false
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
                  requestId:
                    type: integer
                  processUrl:
                    type: string
              examples:
                Respuesta:
                  value:
                    status:
                      status: OK
                      reason: PC
                      message: La petición se ha procesado correctamente
                      date: '2021-11-30T15:08:27-05:00'
                    requestId: 1
                    processUrl: 'https://checkout-co.placetopay.com/session/1/cc9b8690b1f7228c78b759ce27d7e80a'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
              examples:
                Respuesta:
                  value:
                    status:
                      status: FAILED
                      reason: 401
                      message: Autenticación fallida 102
                      date: '2021-11-30T15:12:25-05:00'
    parameters: []
  '/api/session/{requestId}':
    parameters:
      - schema:
          type: string
        name: requestId
        in: path
        required: true
    post:
      summary: Consultar sesión (getRequestInformation)
      operationId: post-api-session-requestId
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RedirectInformation'
              examples:
                Aprobado:
                  value:
                    requestId: 1
                    status:
                      status: APPROVED
                      reason: '00'
                      message: La petición ha sido aprobada exitosamente
                      date: '2021-11-30T15:49:47-05:00'
                    request:
                      locale: es_CO
                      payer:
                        document: '1033332222'
                        documentType: CC
                        name: Name
                        surname: LastName
                        email: dnetix1@app.com
                        mobile: '3111111111'
                        address:
                          postalCode: '12345'
                      payment:
                        reference: '1122334455'
                        description: Prueba
                        amount:
                          currency: USD
                          total: 1000
                        allowPartial: false
                        subscribe: false
                      fields:
                        - keyword: _processUrl_
                          value: 'https://test.placetopay.com/redirection/session/1/cb0f71a1f1ecdfab3ac345d3d670b097'
                          displayOn: none
                      returnUrl: 'https://redirection.test/home'
                      ipAddress: 127.0.0.1
                      userAgent: PlacetoPay Sandbox
                      expiration: '2021-12-30T00:00:00-05:00'
                    payment:
                      - status:
                          status: APPROVED
                          reason: '00'
                          message: Aprobada
                          date: '2021-11-30T15:49:36-05:00'
                        internalReference: 1
                        paymentMethod: visa
                        paymentMethodName: Visa
                        issuerName: 'JPMORGAN CHASE BANK, N.A.'
                        amount:
                          from:
                            currency: USD
                            total: 1000
                          to:
                            currency: USD
                            total: 1000
                          factor: 1
                        authorization: '000000'
                        reference: '1122334455'
                        receipt: '241516'
                        franchise: DF_VS
                        refunded: false
                        processorFields:
                          - keyword: merchantCode
                            value: '7200076413'
                            displayOn: none
                          - keyword: terminalNumber
                            value: PT312002
                            displayOn: none
                          - keyword: credit
                            value:
                              code: '0'
                              type: '00'
                              groupCode: C
                              installments: 0
                            displayOn: none
                          - keyword: totalAmount
                            value: 1000
                            displayOn: none
                          - keyword: iceAmount
                            value: 0
                            displayOn: none
                          - keyword: bin
                            value: '411111'
                            displayOn: none
                          - keyword: expiration
                            value: '1229'
                            displayOn: none
                          - keyword: lastDigits
                            value: '1111'
                            displayOn: none
                    subscription: null
                Pendiente:
                  value:
                    requestId: 1
                    status:
                      status: PENDING
                      reason: PT
                      message: La petición se encuentra pendiente
                      date: '2021-11-30T15:45:57-05:00'
                    request:
                      locale: es_CO
                      payer:
                        document: '1033332222'
                        documentType: CC
                        name: Name
                        surname: lastName
                        email: dnetix1@app.com
                        mobile: '3111111111'
                        address:
                          postalCode: '12345'
                      payment:
                        reference: '1122334455'
                        description: Prueba
                        amount:
                          currency: USD
                          total: 1000
                        allowPartial: false
                        subscribe: false
                      fields:
                        - keyword: _processUrl_
                          value: 'https://test.placetopay.com/redirection/session/1/e0dfb6c7d6ab964b2377c825aef56a63'
                          displayOn: none
                      returnUrl: 'https://dnetix.co/p2p/client'
                      ipAddress: 127.0.0.1
                      userAgent: PlacetoPay Sandbox
                      expiration: '2021-12-30T00:00:00-05:00'
                    payment: null
                    subscription: null
                Rechazado:
                  value:
                    requestId: 1
                    status:
                      status: REJECTED
                      reason: XN
                      message: Se ha rechazado la petición
                      date: '2021-11-30T16:44:24-05:00'
                    request:
                      locale: es_CO
                      payer:
                        document: '1033332222'
                        documentType: CC
                        name: Name
                        surname: LastName
                        email: dnetix@app.com
                        mobile: '31111111111'
                        address:
                          postalCode: '12345'
                      payment:
                        reference: '331122'
                        description: Reference
                        amount:
                          currency: USD
                          total: 500
                        allowPartial: false
                        subscribe: false
                        dispersion:
                          - reference: '331122'
                            description: Reference
                            amount:
                              currency: USD
                              total: 200
                            allowPartial: false
                            subscribe: false
                            agreement: '26'
                            agreementType: AIRLINE
                          - reference: '331122'
                            description: Reference
                            amount:
                              currency: USD
                              total: 300
                            allowPartial: false
                            subscribe: false
                            agreementType: MERCHANT
                      fields:
                        - keyword: _processUrl_
                          value: 'https://test.placetopay.com/redirection/session/1/1dfbaf16c76c6ee83a63a956d704a9d1'
                          displayOn: none
                      returnUrl: 'https://redirection.test/home'
                      ipAddress: 127.0.0.1
                      userAgent: PlacetoPay Sandbox
                      expiration: '2021-12-30T00:00:00-05:00'
                    payment:
                      - status:
                          status: REJECTED
                          reason: '65'
                          message: '65'
                          date: '2021-11-30T16:22:19-05:00'
                        internalReference: 1
                        paymentMethod: visa
                        paymentMethodName: Visa
                        issuerName: 'CAIXA D''ESTALVIS UNIO DE CAIXES DE MANLLEU, SABADE'
                        amount:
                          from:
                            currency: USD
                            total: 500
                          to:
                            currency: USD
                            total: 500
                          factor: 1
                        authorization: '000000'
                        reference: '331122'
                        franchise: TS_VS
                        refunded: false
                        processorFields:
                          - keyword: totalAmount
                            value: 500
                            displayOn: none
                          - keyword: lastDigits
                            value: '6853'
                            displayOn: none
                        dispersion:
                          - status:
                              status: REJECTED
                              reason: '65'
                              message: '65'
                              date: '2021-11-30T16:34:17-05:00'
                            internalReference: 2
                            amount:
                              from:
                                currency: USD
                                total: 200
                              to:
                                currency: USD
                                total: 200
                              factor: 1
                            authorization: '000000'
                            franchise: TS_VS
                            refunded: false
                            agreement: 26
                            agreementType: AIRLINE
                          - status:
                              status: REJECTED
                              reason: '?C'
                              message: Pago abortado por el usuario
                              date: '2021-11-30T16:34:17-05:00'
                            internalReference: 3
                            amount:
                              from:
                                currency: USD
                                total: 300
                              to:
                                currency: USD
                                total: 300
                              factor: 1
                            authorization: '000000'
                            receipt: '000000'
                            franchise: ID_VS
                            refunded: false
                            agreementType: MERCHANT
                    subscription: null
                Expirado parcialmente:
                  value:
                    requestId: 1
                    status:
                      status: PARTIAL_EXPIRED
                      reason: PX
                      message: La petición esta expirada o cancelada y se han realizado pagos
                      date: '2023-03-09T17:10:34-05:00'
                    request:
                      locale: es_CO
                      payer:
                        document: '111111111'
                        documentType: CC
                        name: Diego
                        surname: Calle
                        email: dnetix@yopmail.com
                        mobile: '+573111111111'
                      payment:
                        reference: '331122'
                        description: Reference
                        amount:
                          currency: USD
                          total: 500
                        allowPartial: false
                        subscribe: false
                        dispersion:
                          - reference: '331122'
                            description: Reference
                            amount:
                              currency: USD
                              total: 200
                            allowPartial: false
                            subscribe: false
                            agreement: '111'
                            agreementType: MERCHANT
                          - reference: '331122'
                            description: Reference
                            amount:
                              currency: USD
                              total: 300
                            allowPartial: false
                            subscribe: false
                            agreementType: MERCHANT
                      fields:
                        - keyword: _processUrl_
                          value: 'https://checkout.redirection.test/session/750/20e2eb0d4681a916549e95ed49a11080'
                          displayOn: none
                      returnUrl: 'https://redirection.test/home'
                      ipAddress: 127.0.0.1
                      userAgent: PlacetoPay Sandbox
                      expiration: '2023-03-09T23:09:14.946Z'
                    payment:
                      - amount:
                          to:
                            total: 500
                            currency: USD
                          from:
                            total: 500
                            currency: USD
                          factor: 1
                        status:
                          date: '2023-03-09T17:10:14-05:00'
                          reason: '61'
                          status: APPROVED_PARTIAL
                          message: 'Negada, Monto excede el máximo definido por la Entidad Financiera en el archivo de Tarjetahabientes'
                        receipt: '110000857921'
                        refunded: false
                        franchise: EB_VS
                        reference: '331122'
                        dispersion:
                          - amount:
                              to:
                                total: 200
                                currency: USD
                              from:
                                total: 200
                                currency: USD
                              factor: 1
                            status:
                              date: '2023-03-09T17:10:14-05:00'
                              reason: '00'
                              status: APPROVED
                              message: Aprobada
                            receipt: '110000857921'
                            refunded: false
                            franchise: EB_VS
                            agreementType: MERCHANT
                            authorization: '614761'
                            internalReference: 421692
                          - amount:
                              to:
                                total: 300
                                currency: USD
                              from:
                                total: 300
                                currency: USD
                              factor: 1
                            status:
                              date: '2023-03-09T17:10:14-05:00'
                              reason: '61'
                              status: REJECTED
                              message: 'Negada, Monto excede el máximo definido por la Entidad Financiera en el archivo de Tarjetahabientes'
                            receipt: '421693'
                            refunded: false
                            franchise: EB_VS
                            agreementType: MERCHANT
                            authorization: '000000'
                            internalReference: 421693
                        issuerName: 'BANCO DE GUAYAQUIL, S.A.'
                        authorization: '614761'
                        paymentMethod: visa
                        processorFields:
                          - value: '4549106521651'
                            keyword: merchantCode
                            displayOn: none
                          - value: '19371021'
                            keyword: terminalNumber
                            displayOn: none
                          - value: '411076'
                            keyword: bin
                            displayOn: none
                          - value: 200
                            keyword: totalAmount
                            displayOn: none
                          - value: '0057'
                            keyword: lastDigits
                            displayOn: none
                          - value: eeacbe4f36c8f8117fc4d7ab47fa366f
                            keyword: id
                            displayOn: none
                          - value: '61'
                            keyword: b24
                            displayOn: none
                        internalReference: 421691
                        paymentMethodName: Visa
                    subscription: null
                Aprobado Parcialmente:
                  value:
                    requestId: 1
                    status:
                      status: APPROVED_PARTIAL
                      reason: P0
                      message: La petición está parcialmente aprobada
                      date: '2023-03-09T17:29:13-05:00'
                    request:
                      locale: es_CO
                      payer:
                        document: '111111111'
                        documentType: CC
                        name: Antonino
                        surname: Pan y queso
                        email: root13@app.com
                        mobile: '+573111111111'
                      payment:
                        reference: GAD_1675183488
                        description: Pago GAD Municipal de Cuenca
                        amount:
                          currency: COP
                          total: 10000
                        allowPartial: true
                        subscribe: false
                      fields:
                        - keyword: _processUrl_
                          value: 'https://checkout.redirection.test/session/751/cfe5a789a27feca7fe211bd400db354d'
                          displayOn: none
                      returnUrl: 'https://mysite.com/response/32120'
                      ipAddress: 127.0.0.1
                      userAgent: PlacetoPay Sandbox
                      expiration: '2023-03-09T23:28:43.775Z'
                    payment:
                      - amount:
                          to:
                            total: 1.05
                            currency: USD
                          from:
                            total: 5000
                            currency: COP
                          factor: 0.00021
                        status:
                          date: '2023-03-09T17:29:03-05:00'
                          reason: '00'
                          status: APPROVED
                          message: Aprobada
                        receipt: '110000288071'
                        refunded: false
                        franchise: EB_VS
                        reference: GAD_1675183488
                        issuerName: 'JPMORGAN CHASE BANK, N.A.'
                        authorization: '614761'
                        paymentMethod: visa
                        processorFields:
                          - value: '4549106521651'
                            keyword: merchantCode
                            displayOn: none
                          - value: '19371021'
                            keyword: terminalNumber
                            displayOn: none
                          - value: '411111'
                            keyword: bin
                            displayOn: none
                          - value: '1111'
                            keyword: lastDigits
                            displayOn: none
                          - value: 74a6ef63ea0d1fcc78f4c471b0ae7f3d
                            keyword: id
                            displayOn: none
                          - value: '00'
                            keyword: b24
                            displayOn: none
                        internalReference: 421694
                        paymentMethodName: Visa
                    subscription: null
      description: |
        Obtiene la información de la sesión, si en la sesión hay transacciones se muestra el detalle de las mismas.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - auth
              properties:
                auth:
                  $ref: '#/components/schemas/Authentication'
            examples:
              Ejemplo:
                value:
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
          application/xml:
            schema:
              description: ''
              type: object
              properties:
                auth:
                  type: object
                  properties:
                    login:
                      type: string
                      minLength: 1
                    tranKey:
                      type: string
                      minLength: 1
                    nonce:
                      type: string
                      minLength: 1
                    seed:
                      type: string
                      minLength: 1
                  required:
                    - login
                    - tranKey
                    - nonce
                    - seed
              required:
                - auth
  /api/reverse:
    post:
      summary: Reversar pago (ReversePayment)
      operationId: post-api-reverse
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - auth
                - internalReference
              properties:
                auth:
                  $ref: '#/components/schemas/Authentication'
                internalReference:
                  $ref: '#/components/schemas/InternalReference'
                amount:
                  description: 'Información del monto a cobrar. Esta propiedad se envía cuando se desea realizar un reverso con un valor menor al monto total de la transacción'
                  $ref: '#/components/schemas/Amount'
            examples:
              Ejemplo:
                value:
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  internalReference: 1
      description: |
        Permite revertir un pago aprobado con el código de referencia interna `internalReference`.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
                  payment:
                    $ref: '#/components/schemas/PaymentResponse'
                    x-stoplight:
                      id: u0n1j8obyxfv3
              examples:
                Aprobada:
                  value:
                    status:
                      status: APPROVED
                      reason: '00'
                      message: Aprobada
                      date: '2021-12-07T16:01:19-05:00'
                    payment:
                      status:
                        status: APPROVED
                        reason: '00'
                        message: Aprobada
                        date: '2021-12-07T16:01:18-05:00'
                      internalReference: 1
                      paymentMethod: visa
                      paymentMethodName: Visa
                      issuerName: 'JPMORGAN CHASE BANK, N.A.'
                      amount:
                        from:
                          currency: USD
                          total: 100
                        to:
                          currency: USD
                          total: 100
                        factor: 1
                      authorization: '123456'
                      reference: '12345'
                      receipt: '230955511860'
                      franchise: PS_VS
                      refunded: false
                      processorFields:
                        - keyword: merchantCode
                          value: '1465675'
                          displayOn: none
                        - keyword: terminalNumber
                          value: '00990099'
                          displayOn: none
                        - keyword: credit
                          value:
                            code: '1'
                            type: '00'
                            groupCode: C
                            installments: 1
                          displayOn: none
                        - keyword: totalAmount
                          value: 52
                          displayOn: none
                        - keyword: interestAmount
                          value: 0
                          displayOn: none
                        - keyword: installmentAmount
                          value: 0
                          displayOn: none
                        - keyword: iceAmount
                          value: 0
                          displayOn: none
                        - keyword: bin
                          value: '411111'
                          displayOn: none
                        - keyword: expiration
                          value: '1223'
                          displayOn: none
                        - keyword: lastDigits
                          value: '1111'
                          displayOn: none
                        - keyword: id
                          value: a10fe0690cfe557283310ba90746e159
                          displayOn: none
                        - keyword: b24
                          value: '00'
                          displayOn: none
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
              examples:
                Ejemplo:
                  value:
                    status:
                      status: FAILED
                      reason: BR
                      message: La transacción ya ha sido reversada
                      date: '2021-12-07T16:03:41-05:00'
  /api/notify:
    post:
      summary: Notificar Pago
      operationId: post-api-notify
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                auth:
                  $ref: '#/components/schemas/Authentication'
                internalReference:
                  type:
                    - string
                    - number
                    - integer
                  description: |
                    Referencia interna de la transacción a reversar que se encuentra en el listado de transacciones del getRequestInformation (payment).
                reference:
                  type: string
                  description: Referencia del pago
                signature:
                  type: string
                  description: Firma de la transacción almacenada en core
            examples:
              Ejemplo:
                value:
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  internalReference: 1
                  reference: '12345'
                  signature: 3ccbae73d6a5bb1be7e00f9a2cfc3cc7cd95a311
      description: Permite solicitar el cambio de estado de una transacción que se encuentre en estado pendiente
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
              examples:
                Aprobada:
                  value:
                    status:
                      status: OK
                      reason: null
                      message: null
                      date: '2021-12-07T16:27:56-05:00'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
              examples:
                Firma inválida:
                  value:
                    status:
                      status: FAILED
                      reason: 0
                      message: Firma inválida
                      date: '2021-12-07T16:24:20-05:00'
      x-internal: true
    parameters: []
  /api/collect:
    post:
      summary: Cobro usando token (Collect)
      operationId: post-api-collect
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentRequest'
              examples:
                Aprobado:
                  value:
                    requestId: 1
                    status:
                      status: APPROVED
                      reason: '00'
                      message: La petición ha sido aprobada exitosamente
                      date: '2021-11-30T15:49:47-05:00'
                    request:
                      locale: es_CO
                      payer:
                        document: '1033332222'
                        documentType: CC
                        name: Name
                        surname: LastName
                        email: dnetix1@app.com
                        mobile: '3111111111'
                        address:
                          postalCode: '12345'
                      payment:
                        reference: '1122334455'
                        description: Prueba
                        amount:
                          currency: USD
                          total: 100
                        allowPartial: false
                        subscribe: false
                      returnUrl: 'https://redirection.test/home'
                      ipAddress: 127.0.0.1
                      userAgent: PlacetoPay Sandbox
                      expiration: '2021-12-30T00:00:00-05:00'
                    payment:
                      - status:
                          status: APPROVED
                          reason: '00'
                          message: Aprobada
                          date: '2021-11-30T15:49:36-05:00'
                        internalReference: 1
                        paymentMethod: visa
                        paymentMethodName: Visa
                        issuerName: 'JPMORGAN CHASE BANK, N.A.'
                        amount:
                          from:
                            currency: USD
                            total: 100
                          to:
                            currency: USD
                            total: 100
                          factor: 1
                        authorization: '000000'
                        reference: '1122334455'
                        receipt: '241516'
                        franchise: DF_VS
                        refunded: false
                        processorFields:
                          - keyword: lastDigits
                            value: '1111'
                            displayOn: none
                    subscription: null
                Pendiente:
                  value:
                    requestId: 1
                    status:
                      status: PENDING
                      reason: PT
                      message: La petición se encuentra pendiente
                      date: '2021-11-30T15:45:57-05:00'
                    request:
                      locale: es_CO
                      payer:
                        document: '1033332222'
                        documentType: CC
                        name: Name
                        surname: lastName
                        email: dnetix1@app.com
                        mobile: '3111111111'
                        address:
                          postalCode: '12345'
                      payment:
                        reference: '1122334455'
                        description: Prueba
                        amount:
                          currency: USD
                          total: 100
                        allowPartial: false
                        subscribe: false
                      returnUrl: 'https://dnetix.co/p2p/client'
                      ipAddress: 127.0.0.1
                      userAgent: PlacetoPay Sandbox
                      expiration: '2021-12-30T00:00:00-05:00'
                    payment: null
                    subscription: null
                Rechazado:
                  value:
                    requestId: 1
                    status:
                      status: REJECTED
                      reason: XN
                      message: Se ha rechazado la petición
                      date: '2021-11-30T16:44:24-05:00'
                    request:
                      locale: es_CO
                      payer:
                        document: '1033332222'
                        documentType: CC
                        name: Name
                        surname: LastName
                        email: dnetix@app.com
                        mobile: '31111111111'
                        address:
                          postalCode: '12345'
                      payment:
                        reference: '331122'
                        description: Reference
                        amount:
                          currency: USD
                          total: 500
                        allowPartial: false
                        subscribe: false
                      returnUrl: 'https://redirection.test/home'
                      ipAddress: 127.0.0.1
                      userAgent: PlacetoPay Sandbox
                      expiration: '2021-12-30T00:00:00-05:00'
                    payment:
                      - status:
                          status: REJECTED
                          reason: '65'
                          message: '65'
                          date: '2021-11-30T16:22:19-05:00'
                        internalReference: 1
                        paymentMethod: visa
                        paymentMethodName: Visa
                        issuerName: 'CAIXA D''ESTALVIS UNIO DE CAIXES DE MANLLEU, SABADE'
                        amount:
                          from:
                            currency: USD
                            total: 100
                          to:
                            currency: USD
                            total: 100
                          factor: 1
                        authorization: '000000'
                        reference: '331122'
                        franchise: TS_VS
                        refunded: false
                        processorFields:
                          - keyword: lastDigits
                            value: '1111'
                            displayOn: none
                    subscription: null
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CollectRequest'
            examples:
              Cobro con token simple:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '1122334455'
                    description: Prueba
                    amount:
                      currency: USD
                      total: 100
                  instrument:
                    token:
                      token: e07ca9986cf0ecac8a557fa11c07bf37ea35e9e3e3a4180c49
                  expiration: '2021-12-30T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Cobro con token a una preautorización:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '1122334455'
                    description: Prueba
                    amount:
                      currency: USD
                      total: 100
                  type: checkin
                  instrument:
                    token:
                      token: e07ca9986cf0ecac8a557fa11c07bf37ea35e9e3e3a4180c49
                  expiration: '2021-12-30T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
              Cobro con  bolsillo de tarjeta:
                value:
                  locale: es_CO
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  payment:
                    reference: '1122334455'
                    description: Prueba
                    amount:
                      currency: USD
                      total: 100
                  instrument:
                    pocket: 10
                    token:
                      token: e07ca9986cf0ecac8a557fa11c07bf37ea35e9e3e3a4180c49
                  expiration: '2021-12-30T00:00:00-05:00'
                  returnUrl: 'https://dnetix.co/p2p/client'
                  ipAddress: 127.0.0.1
                  userAgent: PlacetoPay Sandbox
      description: |
        Permite realizar cobros sin la intervención del usuario usando medios de pago previamente suscritos.
      x-internal: false
  /api/transaction:
    post:
      summary: Acciones de transacción (TransactionPayment)
      operationId: post-api-transaction
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentRequest'
              examples:
                Checkout:
                  value:
                    status:
                      status: APPROVED
                      reason: '00'
                      message: Aprobada
                      date: '2021-11-30T09:36:00-05:00'
                    payment:
                      status:
                        status: APPROVED
                        reason: '00'
                        message: Aprobada
                        date: '2021-11-30T09:35:59-05:00'
                      internalReference: 643
                      paymentMethod: visa
                      paymentMethodName: Visa
                      issuerName: 'JPMORGAN CHASE BANK, N.A.'
                      amount:
                        from:
                          currency: USD
                          total: 500
                        to:
                          currency: USD
                          total: 500
                        factor: 1
                      authorization: '550044'
                      reference: '1122334455'
                      receipt: '499435368733'
                      franchise: PS_VS
                      refunded: false
                Reauthorization:
                  value:
                    status:
                      status: APPROVED
                      reason: '00'
                      message: Aprobada
                      date: '2021-11-30T09:26:50-05:00'
                    payment:
                      status:
                        status: APPROVED
                        reason: '00'
                        message: Aprobada
                        date: '2021-11-30T09:26:49-05:00'
                      internalReference: 642
                      paymentMethod: visa
                      paymentMethodName: Visa
                      issuerName: 'JPMORGAN CHASE BANK, N.A.'
                      amount:
                        from:
                          currency: USD
                          total: 500
                        to:
                          currency: USD
                          total: 500
                        factor: 1
                      authorization: '883327'
                      reference: '1122334455'
                      receipt: '657093859996'
                      franchise: PS_VS
                      refunded: false
                Reverse:
                  value:
                    status:
                      status: APPROVED
                      reason: '00'
                      message: Aprobada
                      date: '2021-11-30T09:37:46-05:00'
                    payment:
                      status:
                        status: APPROVED
                        reason: '00'
                        message: Aprobada
                        date: '2021-11-30T09:37:46-05:00'
                      internalReference: 644
                      paymentMethod: visa
                      paymentMethodName: Visa
                      issuerName: 'JPMORGAN CHASE BANK, N.A.'
                      amount:
                        from:
                          currency: USD
                          total: 500
                        to:
                          currency: USD
                          total: 1000
                        factor: 1
                      authorization: '550044'
                      reference: '1122334455'
                      receipt: '499435368733'
                      franchise: PS_VS
                      refunded: false
      description: 'Permite realizar operaciones básicas de preauthorización como `checkout`, `reauthorization`, (No aplica para Puerto Rico)  por otro lado también permite revertir un pago aprobado con el código de referencia interna `reverse`.'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TransactionActionRequest'
            examples:
              Checkout:
                value:
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  internalReference: 640
                  amount:
                    currency: USD
                    total: '500'
                  action: checkout
              Reauthorization:
                value:
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  internalReference: 640
                  amount:
                    currency: USD
                    total: '500'
                  action: reauthorization
              Reverse:
                value:
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                  internalReference: 123
                  action: reverse
        description: ''
      x-internal: false
  /api/instrument/invalidate:
    post:
      summary: Invalidar Token (InstrumentInvalidateRequest)
      responses:
        '200':
          $ref: '#/components/responses/StatusResponse'
        '400':
          $ref: '#/components/responses/StatusResponse'
      operationId: post-api-instrument-invalidate
      description: Permite invalidar un token ya existente del sitio. Esto hará que el token o el subtoken ya no se pueda usar.
      requestBody:
        $ref: '#/components/requestBodies/InstrumentInvalidateRequest'
components:
  schemas:
    Person:
      description: Estructura que refleja la información de una persona involucrada en una transacción.
      type: object
      title: Person
      properties:
        document:
          type: string
          minLength: 1
          description: |
            Documento de identidad
            
            Ej: `1017111222`
          example: '1122334455'
        documentType:
          type: string
          minLength: 1
          example: CC
          description: |
            Identificador del tipo de documento. Ver opciones en [Tipos de documento](/checkout/document-types)
            
            EJ: `CC` para "Cédula de Ciudadanía" en Colombia.
        name:
          type: string
          minLength: 1
          description: | 
            Nombre de la persona o empresa
            
            EJ: `Juan José`
          example: John
        surname:
          type: string
          minLength: 1
          description: |
            Apellido de la persona. No aplica cuando el tipo de documento corresponde al de una empresa
            
            EJ: `Peréz Pinzon`
          example: Doe
        company:
          type: string
          description: |
            Nombre de la compañia a la que pertenece la persona
            
            EJ: `Placetopay`
          example: Evertec
        email:
          type: string
          minLength: 1
          example: johndoe@app.com
          description: |
            Correo eléctronico del usuario o empresa
            
            EJ: `juan.perez@example.com`
        mobile:
          type: string
          minLength: 1
          description: |
            Número de teléfono del usuario o empresa
            
            EJ: `+573214445566`
          example: '+573214445566'
        address:
          type: object
          description: | 
            Estructura para anexar información del domicilio o dirección
          properties:
            country:
              type: string
              minLength: 1
              description: |
                País del domicilio
                
                EJ: `Colombia`
              example: Colombia
            state:
              type: string
              minLength: 1
              description: |
                Departamento del domicilio
                
                EJ: `Antioquia`
              example: Antioquia
            city:
              type: string
              minLength: 1
              description: |
                Ciudad del domicilio
                
                EJ: `Medellín`
              example: Medellín
            postalCode:
              type: string
              minLength: 1
              description: |
                Código postal del domicilio
                
                EJ: `050012`
              example: '55555'
            street:
              type: string
              minLength: 1
              description: |
                Dirección del domicilio
                
                EJ: `Calle 12 #33a-12, Apto 101`
              example: Calle falsa 123
            phone:
              type: string
              minLength: 1
              description: |
                Número telefónico del domicilio
                
                EJ: `+573214445566`
              example: '+573111111111'
    PaymentRequest:
      title: PaymentRequest
      type: object
      description: |
        Información del pago solicitado.
      required:
        - reference
        - description
        - amount
      properties:
        reference:
          type: string
          description: |
            Referencia única del pago. Máximo de 32 caracteres   
            Ej: `PAYMENT_0001_ABC`
          example: '12345'
        description:
          type: string
          description: |
            Descripción del proceso a realizar   
            EJ: `Consumo mes de Mayo`
          example: Consumo mes de Mayo
        amount:
          $ref: '#/components/schemas/Amount'
        allowPartial:
          type: boolean
          description: |
            Define si el monto a ser cobrado puede ser pagado en varias transacciones.
            Cuando es `true` el usuario podrá completar el pago en varias transacciones.
          default: false
        shipping:
          $ref: '#/components/schemas/Person'
          description: |
            Estructura para relacionar información de envío.
        items:
          type: array
          items:
            $ref: '#/components/schemas/Item'
          description: |
            Estructura para relacionar productos o artículos en el proceso.
        fields:
            $ref: '#/components/schemas/Fields'
        recurring:
          $ref: '#/components/schemas/Recurring'
        subscribe:
          type: boolean
          description: |
            Cuando se envía `true`, se genera una sesión de pago con suscripción.
            
            En el proceso de pago, el usuario puede elegir si quiere o no guardar su medio de pago para que sea usado en futuros cobros.
          default: false
        dispersion:
          type: array
          description: |
            Cuando se define, se genera una sesión de pago con dispersión.
            El pago generado puede ser dividido en diferentes destinos según las condiciones dadas.
          items:
            $ref: '#/components/schemas/DispersionDetail'
        modifiers:
          type: array
          items:
            $ref: '#/components/schemas/Modifiers'
          description: |
            Estructura para definir modificadores en el cobro.
            
            Aplica para leyes de impuestos en paises especificos.
      examples:
        - reference: '12345'
          description: Prueba de pago
          amount:
            currency: COP
            total: 2000
            taxes:
              - kind: valueAddedTax
                amount: 1000
                base: 0
            details:
              - kind: discount
                amount: 1000
          allowPartial: false
          shipping:
            document: '1122334455'
            documentType: CC
            name: John
            surname: Doe
            company: Evertec
            email: johndoe@app.com
            mobile: '+5731111111111'
            address:
              street: Calle falsa 123
              city: Medellín
              state: Poblado
              postalCode: '55555'
              country: Colombia
              phone: '+573111111111'
          items:
            - sku: '12345'
              name: product_1
              category: physical
              qty: '1'
              price: 1000
              tax: 0
          fields:
            - keyword: _test_field_value_
              value: _test_field_
              displayOn: approved
          recurring:
            periodicity: D
            interval: '1'
            nextPayment: '2019-08-24'
            maxPeriods: 1
            'dueDate ': '2019-09-24'
            'notificationUrl ': 'https://checkout.placetopay.com'
          subscribe: false
          dispersion:
            - agreement: '1299'
              agreementType: MERCHANT
              amount:
                currency: USD
                total: 200
          modifiers:
            - type: FEDERAL_GOVERNMENT
              code: 17934
              additional:
                invoice: '123345'
    Amount:
      title: Amount
      type: object
      x-internal: false
      description: |
        Información del monto a cobrar
      properties:
        currency:
          type: string
          example: COP
          description: |
            Código alfabético de la moneda a usar (ISO 4217 alpha code)   
            EJ: `USD`
        total:
          type: number
          example: 2000
          description: |
            Valor total en la moneda base indicada   
            EJ: `1000` equivalen a _Mil dolares_
        taxes:
          description: |
            Estructura para definir impuestos en el proceso de pago.
          type: array
          items:
            $ref: '#/components/schemas/Taxes'
        details:
          description: |
            Estructura para definir detalles adicionales del monto en el proceso de pago.
          type: array
          items:
            $ref: '#/components/schemas/Details'
    NameValuePair:
      title: NameValuePair
      description: |
        Estructura para relacionar datos adicionales en el proceso.
      type: object
      properties:
        keyword:
          type: string
          minLength: 1
          description: |
            Identificador o índice del dato a anexar.   
            EJ: `cmsInvoiceId`
          example: '1111'
        value:
          type:
            - string
            - object
            - array
            - number
            - boolean
          minLength: 1
          description: |
            Valor del dato a anexar.   
            EJ: `ID_2233`
          example: lastDigits
        displayOn:
          type: string
          minLength: 1
          description: |
            Indica en qué condiciones se muestra el dato anexo. Ver más en [Campos Adicionales](/checkout/additional-fields)
            
            Uno de: `none`, `payment`, `receipt`, `both`, `approved`.
          example: none
      examples:
        - value: '468232'
          keyword: merchantCode
          displayOn: none
        - value:
            code: '1'
            type: '03'
            groupCode: X
            installments: 3
          keyword: credit
          displayOn: none
        - value: 2056
          keyword: totalAmount
          displayOn: none
        - value: 685.33
          keyword: installmentAmount
          displayOn: none
    Recurring:
      type: object
      description: |
        Estructura para indicar la frecuencia de un cobro recurrente.
      properties:
        periodicity:
          type: string
          description: |
            Periodicidad del cobro   
            `D` Día, `M` Mes, `Y` Año
          enum:
            - D
            - M
            - Y
          example: D
        interval:
          type:
            - number
          minLength: 1
          description: |
            Intervalo asociado a la periodicidad   
            EJ: `15` para días.
          example: '1'
          maxLength: 127
        nextPayment:
          type: string
          description: |
            Fecha del próximo pago   
            EJ: `2019-08-24`
          format: date
          example: '2019-08-24'
        maxPeriods:
          type:
            - number
          description: |
            Número máximo de periodos. Usar `-1` en caso de que no haya límite      
            EJ: `12` para máximo 12 cobros
          example: 1
          minLength: -1
          maxLength: 32767
        dueDate:
          type: string
          format: date
          description: |
            Fecha de vencimiento de la recurrencia   
            EJ: `2019-09-24`
          example: '2019-09-24'
        notificationUrl:
          type: string
          description: |
            URL en el que el servicio notificará cada vez que se haga un cobro   
            EJ: `https://merchant.com/notification`
          example: 'https://checkout.placetopay.com'
      examples:
        - periodicity: D
          interval: '1'
          nextPayment: '2019-08-24'
          maxPeriods: 1
          'dueDate ': '2019-09-24'
          'notificationUrl ': 'https://checkout.placetopay.com'
    Item:
      description: Posee una colección de estructuras de elementos.
      title: Item
      type: object
      properties:
        sku:
          type: string
          description: |
            Identificador SKU del artículo.   
            EJ: `SKU-12345`
          example: 'SKU-12345'
        name:
          type: string
          minLength: 1
          description: |
            Nombre del artículo.   
            EJ: `Manta de lana`
          example: product_1
        category:
          type: string
          minLength: 1
          description: |
            Categoría del artículo. Uno de: `digital` `physical`
          enum:
            - digital
            - physical
          example: physical
        qty:
          type: number
          description: |
            Cantidad de artículos de este tipo.   
            EJ: `23`
          example: '1'
        price:
          type: number
          description: |
            Costo total del artículo.   
            EJ: `1400`
          example: 1400
        tax:
          type: number
          description: |
            Monto en impuestos del artículo.   
            EJ: `100`
    Taxes:
      title: Taxes
      type: object
      description: |
        Estructura para definir información sobre un impuesto.
      examples:
        - kind: valueAddedTax
          amount: 1000
          base: 0
      properties:
        kind:
          type: string
          description: |
            Identificador del tipo de impuesto
            
            Uno de: `valueAddedTax` `exciseDuty` `ice` `airportTax` `stateTax` `reducedStateTax` `municipalTax`.
          enum:
            - valueAddedTax
            - exciseDuty
            - ice
            - airportTax
            - stateTax
            - reducedStateTax
            - municipalTax
          example: valueAddedTax
        amount:
          type:
            - number
          description: |
            Monto total del impuesto   
            EJ: `200`
        base:
          type:
            - number
          description: |
            Monto base sobre el cual se calcula el impuesto   
            EJ: `1000`
    Details:
      title: Details
      type: object
      description: |
        Estructura para almacenar información sobre un detalle.
      x-internal: false
      examples:
        - kind: discount
          amount: 1000
      properties:
        kind:
          type: string
          description: |
            Identificador del tipo de detalle. 
            Uno de:  `discount` `additional` `vatDevolutionBase` `shipping` `handlingFee` `insurance` `giftWrap` `subtotal` `fee` `tip` `airline` `interests`
          example: discount
          enum:
            - discount
            - additional
            - vatDevolutionBase
            - shipping
            - handlingFee
            - insurance
            - giftWrap
            - subtotal
            - fee
            - tip
            - airline
            - interests
        amount:
          type:
            - number
          description: |
            Monto total del detalle
            
            EJ: `200`
    SubscriptionRequest:
      title: SubscriptionRequest
      type: object
      description: |
        Cuando se envía, se genera una sesión de suscripción.
        
        El usuario registra un medio de pago para que luego se realicen cobros sobre ese medio de pago.
      properties:
        reference:
          $ref: '#/components/schemas/Reference'
        description:
          $ref: '#/components/schemas/Description'
        fields:
          $ref: '#/components/schemas/Fields'
    RedirectRequest:
      title: RedirectRequest
      type: object
      description: |
        Estructura que contiene toda la información acerca de la transacción para ser procesada.
      required:
        - auth
        - payment
        - expiration
        - ipAddress
        - userAgent
        - returnUrl
      properties:
        auth:
          $ref: '#/components/schemas/Authentication'
        payment:
          $ref: '#/components/schemas/PaymentRequest'
        expiration:
          $ref: '#/components/schemas/Expiration'
        ipAddress:
          $ref: '#/components/schemas/IpAddress'
        userAgent:
          $ref: '#/components/schemas/UserAgent'
        returnUrl:
          $ref: '#/components/schemas/ReturnUrl'
        locale:
          $ref: '#/components/schemas/Locale'
        buyer:
          $ref: '#/components/schemas/Person'
          description: |
            Datos del usuario **comprador**, hace referencia al usuario que está comprando un producto o un servicio.
            
            **Cuando se crea una sesión**: Se puede enviar si conoces al usuario que está haciendo la compra, pues ayuda a completar la información de la sesión.   
            Si se envía este dato, el usuario tendrá sus datos personales pre-diligenciados y podrá cambiarlos en Checkout.
        payer:
          $ref: '#/components/schemas/Person'
          description: |
            Datos del usuario **pagador**, hace referencia al dueño del medio de pago o usuario que pagó el monto solicitado.
            
            **Cuando se crea una sesión**: Sólo se debe usar cuando quieres "forzar" los datos del usuario que completará el proceso.   
            Si se envía este dato, el usuario tendrá sus datos personales pre-diligenciados pero **no podrá cambiarlos**.
        subscription:
          $ref: '#/components/schemas/SubscriptionRequest'
        fields:
          $ref: '#/components/schemas/Fields'
        paymentMethod:
          type: string
          description: |
            Se usa para restringir los métodos de pago disponibles en checkout.
            Se pueden enviar varios códigos separados por coma.
            Ver más en [Métodos de pago](/checkout/payment-methods)

            EJ: `visa,master,pse`
          example: visa
        cancelUrl:
          type:
            - string
          description: |
            URL de cancelación, a esta url se redirige al usuario cuando decide no continuar con el proceso.
            Ocurre cuando el usario da click en _No deseo continuar_

            EJ: `https://merchant.com/cancel`
          example: 'https://commerce.test/cancel'
        skipResult:
          type: boolean
          description: |
            Si se envía `true`, cuando el usuario finalice el proceso no se mostrará la página de resultado de sesión, en su lugar será redireccionado al `returnUrl`
          default: false
        noBuyerFill:
          type: boolean
          description: |
            Por defecto los datos enviados como `buyer` se pre-diligencian en la interfaz de Checkout para agilizar el proceso de pago, si se envía este parámetro como `true` entonces no se hará este pre diligenciamiento.
          default: false
        type:
          type: string
          description: |
            Parámetro usado para sesiones de tipo preauthorización

            Sólo se soporta `checkin` para generar una sesión de preautorización
          enum:
            - checkin
          example: checkin
      x-examples:
        'Crear sesión básica':
          locale: es_CO
          payer:
            name: Diego
            surname: osorio
            email: diego.calle4@placetopay.com
            documentType: CC
            document: '1036949824'
            mobile: '3102903560'
          payment:
            reference: '331122'
            description: Pago básico de ejemplo
            amount:
              currency: USD
              total: 100
            allowPartial: false
          expiration: '2021-06-31T00:00:00-05:00'
          returnUrl: 'https://mysite.com/response/3210'
          ipAddress: 127.0.0.1
          userAgent: PlacetoPay Sandbox
        Crear sesión checkin:
          locale: es_CO
          type: checkin
          payer:
            name: Diego
            surname: osorio
            email: diego.calle4@placetopay.com
            documentType: CC
            document: '1036949824'
            mobile: '3102903560'
          payment:
            reference: '331122'
            description: Pago básico de ejemplo
            amount:
              currency: USD
              total: 100
            allowPartial: false
          expiration: '2021-06-31T00:00:00-05:00'
          returnUrl: 'https://mysite.com/response/3210'
          ipAddress: 127.0.0.1
          userAgent: PlacetoPay Sandbox
      x-internal: false
      examples:
        - locale: es_CO
          auth:
            login: c51ce410c124a10e0db5e4b97fc2af39
            tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
            nonce: NjE0OWVkODgwYjNhNw==
            seed: '2021-09-21T09:34:48-05:00'
          payer:
            document: '1122334455'
            documentType: CC
            name: John
            surname: Doe
            company: Evertec
            email: johndoe@app.com
            mobile: '+5731111111111'
            address:
              street: Calle falsa 123
              city: Medellín
              state: Poblado
              postalCode: '55555'
              country: Colombia
              phone: '+573111111111'
          buyer:
            document: '1122334455'
            documentType: CC
            name: John
            surname: Doe
            company: Evertec
            email: johndoe@app.com
            mobile: '+5731111111111'
            address:
              street: Calle falsa 123
              city: Medellín
              state: Poblado
              postalCode: '55555'
              country: Colombia
              phone: '+573111111111'
          payment:
            reference: '12345'
            description: Prueba de pago
            amount:
              currency: COP
              total: 2000
              taxes:
                - kind: valueAddedTax
                  amount: 1000
                  base: 0
              details:
                - kind: discount
                  amount: 1000
            allowPartial: false
            shipping:
              document: '1122334455'
              documentType: CC
              name: John
              surname: Doe
              company: Evertec
              email: johndoe@app.com
              mobile: '+5731111111111'
              address:
                street: Calle falsa 123
                city: Medellín
                state: Poblado
                postalCode: '55555'
                country: Colombia
                phone: '+573111111111'
            items:
              - sku: '12345'
                name: product_1
                category: physical
                qty: '1'
                price: 1000
                tax: 0
            fields:
              - keyword: _test_field_value_
                value: _test_field_
                displayOn: approved
            recurring:
              periodicity: D
              interval: '1'
              nextPayment: '2019-08-24'
              maxPeriods: 1
              'dueDate ': '2019-09-24'
              'notificationUrl ': 'https://checkout.placetopay.com'
            subscribe: false
            dispersion:
              - agreement: '1299'
                agreementType: MERCHANT
                amount:
                  currency: USD
                  total: 200
            modifiers:
              - type: FEDERAL_GOVERNMENT
                code: 17934
                additional:
                  invoice: '123345'
          subscription:
            reference: '12345'
            description: Ejemplo de descripción
            fields:
              keyword: '1111'
              value: lastDigits
              displayOn: none
          fields:
            - keyword: _processUrl_
              value: 'https://checkout.redirection.test/session/1/a592098e22acc709ec7eb30fc0973060'
              displayOn: none
          paymentMethod: visa
          expiration: '2019-08-24T14:15:22Z'
          returnUrl: 'https://commerce.test/return'
          cancelUrl: 'https://commerce.test/cancel'
          ipAddress: 127.0.0.1
          userAgent: PlacetoPay Sandbox
          skipResult: false
          noBuyerFill: false
          type: checkin
    Authentication:
      description: |
        La autenticación del sitio. Ver más en [Autenticación](/checkout/authentication)
      type: object
      title: Authentication
      examples:
        - auth:
            login: 'c51ce410c124a10e0db5e4b97fc2af39'
            tranKey: 'VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE='
            nonce: 'NjE0OWVkODgwYjNhNw=='
            seed: '2021-09-21T09:34:48-05:00'
      properties:
        login:
          type: string
          minLength: 1
          description: |
            Identificador del sitio.
        tranKey:
          type: string
          minLength: 1
          description: |
            Credencial tranKey generado.   
            Ver más en [Autenticación](/checkout/authentication)
        nonce:
          type: string
          minLength: 1
          description: |
            Valor aleatorio para cada solicitud codificado en Base64.
        seed:
          type: string
          minLength: 1
          description: |
            Fecha actual, la cual se genera en formato ISO 8601.
    Status:
      title: Status
      description: |
        Estructura que contiene la información de la respuesta sobre una solicitud o pago, e informa el estado actual de la misma.
      type: object
      properties:
        status:
          type: string
          minLength: 1
          description: Estado de una petición o pago
          example: APPROVED
          enum:
            - APPROVED
            - PENDING
            - REJECTED
            - APPROVED_PARTIAL
            - PARTIAL_EXPIRED
            - FAILED
        reason:
          type:
            - string
            - number
            - 'null'
          description: |
            Código del motivo proporcionado.
          example: '00'
        message:
          type:
            - string
            - 'null'
          minLength: 1
          description: |
            Descripción del código de razón.
          example: La petición ha sido aprobada exitosamente
        date:
          type: string
          minLength: 1
          format: date-time
          description: |
            Fecha y hora en que se genera el estado de pago.
          example: '2022-07-27T14:51:27-05:00'
    Transaction:
      title: Transaction
      type: object
      description: |
        Estructura que contiene información sobre el proceso de pago de la transacción en PlacetoPay.
      examples:
        - status:
            status: APPROVED
            reason: '00'
            message: La petición ha sido aprobada exitosamente
            date: '2022-07-27T14:51:27-05:00'
          internalReference: 12345
          reference: '12345'
          paymentMethod: visa
          paymentMethodName: Visa
          issuerName: 'JPMORGAN CHASE BANK, N.A.'
          amount:
            from:
              'currency ': COP
              'total ': 10000
            to:
              'currency ': COP
              'total ': 10000
            factor: 1
          receipt: '052617800175'
          franchise: PS_VS
          refunded: false
          authorization: '965960'
          processorFields:
            - keyword: '1111'
              value: lastDigits
              displayOn: none
            - value:
                code: '1'
                type: '03'
                groupCode: X
                installments: 3
              keyword: credit
              displayOn: none
            - value: 2056
              keyword: totalAmount
              displayOn: none
          dispersion: null
          agreement: null
          agreementType: null
          discount:
            base: 3000
            code: '17934'
            type: FRANCHISE
            amount: 1000
          subscription: null
      properties:
        status:
          $ref: '#/components/schemas/Status'
        internalReference:
          type: integer
          description: |
            Referencia interna en PlacetoPay.
          example: 12345
        reference:
          type: string
          description: |
            Referencia enviada por el comercio para la transacción.
          example: '12345'
        paymentMethod:
          type: string
          description: |
            Código del método de pago utilizado.
          example: visa
        paymentMethodName:
          type: string
          description: |
            Nombre del método de pago utilizado.
          example: Visa
        issuerName:
          type: string
          description: |
            Nombre del emisor o del procesador.
          example: 'JPMORGAN CHASE BANK, N.A.'
        amount:
          $ref: '#/components/schemas/AmountConversion'
        receipt:
          type: string
          description: |
            Numero de recibo de la transacción.
          example: '052617800175'
        franchise:
          type: string
          description: |
            Franquicia de la tarjeta utilizada.
          example: PS_VS
        refunded:
          type: boolean
          description: Se utiliza para definir si la transacción ha sido reversada
          default: false
        authorization:
          type: string
          description: |
            Código de autorización.
          example: '965960'
        processorFields:
          type: array
          description: Estructura que  puede variar en el tiempo según la información disponible para el medio de pago.
          items:
            $ref: '#/components/schemas/NameValuePair'
        dispersion:
          type: array
            - 'null'
          description: Estructura que contiene información de dispersión
          items:
            $ref: '#/components/schemas/TransactionDispersion'
        agreement:
          type:
            - integer
            - 'null'
            - string
            - number
          description: Identificador de destinatario de la transacción. Para el sitio principal de la transacción.
          example: 186
        agreementType:
          type:
            - string
            - 'null'
          description: Tipo de dispersión
          enum:
            - MERCHANT
            - AIRLINE
          example: MERCHANT
        discount:
          type:
            - object
            - 'null'
          properties:
            base:
              type:
                - string
                - number
              example: 3000
            code:
              type: string
              example: '17934'
            type:
              type: string
              example: FRANCHISE
            amount:
              type:
                - number
                - string
              example: 1000
        subscription:
          type:
            - string
            - 'null'
    TransactionDispersion:
      title: Transaction Dispersion
      x-stoplight:
        id: sc9t9q5yfgeuj
      type: object
      description: |
        Estructura que contiene información sobre el proceso de la transacción dispersada.
      examples:
        - status:
            status: APPROVED
            reason: '00'
            message: La petición ha sido aprobada exitosamente
            date: '2022-07-27T14:51:27-05:00'
          agreement: null
          agreementType: null
          authorization: '965960'
          receipt: '052617800175'
          amount:
            from:
              'currency ': COP
              'total ': 10000
            to:
              'currency ': COP
              'total ': 10000
            factor: 1
          refunded: false
          paymentMethod: visa
      properties:
        status:
          $ref: '#/components/schemas/Status'
        agreement:
          type:
            - integer
            - 'null'
            - string
            - number
          description: Identificador de destinatario de la transacción. Para el sitio principal de la transacción.
          example: 186
        agreementType:
          type:
            - string
            - 'null'
          description: Tipo de dispersión
          enum:
            - MERCHANT
            - AIRLINE
          example: MERCHANT
        authorization:
          type:
            - string
            - 'null'
          description: |
            Código de autorización.
          example: '965960'
        receipt:
          type:
            - string
            - 'null'
          description: |
            Numero de recibo de la transacción.
          example: '052617800175'
        amount:
          $ref: '#/components/schemas/AmountConversion'
        refunded:
          type: boolean
          description: Se utiliza para definir si la transacción ha sido reversada
          default: false
        paymentMethod:
          type: string
          description: |
            Código del método de pago utilizado.
          example: visa
    AmountConversion:
      title: AmountConversion
      type: object
      description: |
        Estructura para definir el factor de conversión y los valores.
      properties:
        from:
          $ref: '#/components/schemas/AmountBase'
        to:
          $ref: '#/components/schemas/AmountBase'
        factor:
          type:
            - number
            - string
          example: 1
          description: Factor de conversión
    AmountBase:
      title: AmountBase
      type: object
      description: |
        Estructura que representa una cantidad que define la moneda y el total.
      properties:
        'currency ':
          type: string
          description: |
            Moneda acorde al ISO 4217 (alphabetic code).
          example: COP
        'total ':
          type:
            - number
            - string
          description: |
            Valor total.
          example: 10000
    SubscriptionResponse:
      title: SubscriptionResponse
      type: object
      description: |
        Estructura que contiene información para el método de pago suscripción.
      examples:
        - status:
            status: OK
            reason: '00'
            message: La petición ha sido aprobada exitosamente
            date: '2022-07-27T14:51:27-05:00'
          type: token
          instrument:
            - keyword: token
              value: a3bfc8e2afb9ac5583922eccd6d2061c1b0592b099f04e352a894f37ae51cf1a
              displayOn: none
            - keyword: subtoken
              value: '8740257204881111'
              displayOn: none
            - keyword: franchise
              value: visa
              displayOn: none
            - keyword: franchiseName
              value: Visa
              displayOn: none
            - keyword: issuerName
              value: 'JPMORGAN CHASE BANK, N.A.'
              displayOn: none
            - keyword: lastDigits
              value: '1111'
              displayOn: none
            - keyword: validUntil
              value: '2029-12-31'
              displayOn: none
            - keyword: installments
              value: null
              displayOn: none
      properties:
        status:
          $ref: '#/components/schemas/Status'
        type:
          type: string
          description: Define tipo de suscripción que se devuelve
          example: token
          enum:
            - token
            - cuenta
        instrument:
          type: array
          items:
            $ref: '#/components/schemas/NameValuePair'
    RedirectInformation:
      title: RedirectInformation
      type: object
      description: |
        Estructura de respuesta a una solicitud para una información de transacción.
      properties:
        requestId:
          type:
            - string
            - number
            - integer
          example: 1
          description: Id de la petición
        status:
          $ref: '#/components/schemas/Status'
        request:
          $ref: '#/components/schemas/RedirectRequest'
        payment:
          type: array
            - 'null'
          items:
            $ref: '#/components/schemas/Transaction'
        subscription:
          $ref: '#/components/schemas/SubscriptionResponse'
      examples:
        - requestId: 1
          status:
            status: APPROVED
            reason: '00'
            message: La petición ha sido aprobada exitosamente
            date: '2022-07-27T14:51:27-05:00'
          request:
            locale: es_CO
            payer:
              document: '1122334455'
              documentType: CC
              name: John
              surname: Doe
              company: Evertec
              email: johndoe@app.com
              mobile: '+5731111111111'
              address:
                street: Calle falsa 123
                city: Medellín
                state: Poblado
                postalCode: '55555'
                country: Colombia
                phone: '+573111111111'
            buyer:
              document: '1122334455'
              documentType: CC
              name: John
              surname: Doe
              company: Evertec
              email: johndoe@app.com
              mobile: '+5731111111111'
              address:
                street: Calle falsa 123
                city: Medellín
                state: Poblado
                postalCode: '55555'
                country: Colombia
                phone: '+573111111111'
            payment:
              reference: '12345'
              description: Prueba de pago
              amount:
                currency: COP
                total: 2000
                taxes:
                  - kind: valueAddedTax
                    amount: 1000
                    base: 0
                details:
                  - kind: discount
                    amount: 1000
              allowPartial: false
              shipping:
                document: '1122334455'
                documentType: CC
                name: John
                surname: Doe
                company: Evertec
                email: johndoe@app.com
                mobile: '+5731111111111'
                address:
                  street: Calle falsa 123
                  city: Medellín
                  state: Poblado
                  postalCode: '55555'
                  country: Colombia
                  phone: '+573111111111'
              items:
                - sku: '12345'
                  name: product_1
                  category: physical
                  qty: '1'
                  price: 1000
                  tax: 0
              fields:
                - keyword: _test_field_value_
                  value: _test_field_
                  displayOn: approved
              recurring:
                periodicity: D
                interval: '1'
                nextPayment: '2019-08-24'
                maxPeriods: 1
                'dueDate ': '2019-09-24'
                'notificationUrl ': 'https://checkout.placetopay.com'
              subscribe: false
              dispersion:
                - agreement: '1299'
                  agreementType: MERCHANT
                  amount:
                    currency: USD
                    total: 200
              modifiers:
                - type: FEDERAL_GOVERNMENT
                  code: 17934
                  additional:
                    invoice: '123345'
            subscription:
              reference: '12345'
              description: Ejemplo de descripción
              fields:
                keyword: '1111'
                value: lastDigits
                displayOn: none
            fields:
              - keyword: _processUrl_
                value: 'https://checkout.redirection.test/session/1/a592098e22acc709ec7eb30fc0973060'
                displayOn: none
            paymentMethod: visa
            expiration: '2019-08-24T14:15:22Z'
            returnUrl: 'https://commerce.test/return'
            cancelUrl: 'https://commerce.test/cancel'
            ipAddress: 127.0.0.1
            userAgent: PlacetoPay Sandbox
            skipResult: false
            noBuyerFill: false
            type: checkin
          payment:
            - status:
                status: APPROVED
                reason: '00'
                message: La petición ha sido aprobada exitosamente
                date: '2022-07-27T14:51:27-05:00'
              internalReference: 12345
              reference: '12345'
              paymentMethod: visa
              paymentMethodName: Visa
              issuerName: 'JPMORGAN CHASE BANK, N.A.'
              amount:
                from:
                  'currency ': COP
                  'total ': 10000
                to:
                  'currency ': COP
                  'total ': 10000
                factor: 1
              receipt: '052617800175'
              franchise: PS_VS
              refunded: false
              authorization: '965960'
              processorFields:
                - keyword: '1111'
                  value: lastDigits
                  displayOn: none
              dispersion: null
              agreement: null
              agreementType: null
              discount:
                base: 3000
                code: '17934'
                type: FRANCHISE
                amount: 1000
              subscription: null
          subscription:
            status:
              status: OK
              reason: '00'
              message: La petición ha sido aprobada exitosamente
              date: '2022-07-27T14:51:27-05:00'
            type: token
            instrument:
              - keyword: token
                value: a3bfc8e2afb9ac5583922eccd6d2061c1b0592b099f04e352a894f37ae51cf1a
                displayOn: none
              - keyword: subtoken
                value: '8740257204881111'
                displayOn: none
              - keyword: franchise
                value: visa
                displayOn: none
              - keyword: franchiseName
                value: Visa
                displayOn: none
              - keyword: issuerName
                value: 'JPMORGAN CHASE BANK, N.A.'
                displayOn: none
              - keyword: lastDigits
                value: '1111'
                displayOn: none
              - keyword: validUntil
                value: '2029-12-31'
                displayOn: none
              - keyword: installments
                value: null
                displayOn: none
    Instrument:
      title: Instrument
      type: object
      description: |
        Estructura que contiene los detalles de un medio de pago suscrito.
      required:
        - token
      properties:
        token:
          $ref: '#/components/schemas/SimpleToken'
        pocket:
          type:
            - string
          description: |
            Código de billetera. Aplica para Tarjetas en Uruguay

            Valores posibles:   
            `10` Cuenta de ahorros en UYU
            `20` Cuenta corriente en UYU
            `80` Cuenta de ahorros en USD
            `90` Cuenta corriente en USD
          example: '10'
          enum:
            - '10'
            - '20'
            - '80'
            - '90'
    InstrumentInvalidate:
      title: InstrumentInvalidate
      description: |
        Información del Token a invalidar.
      type:
        - object
      required:
        - token
      properties:
        token:
          description: |
            Información de un medio de pago "tokenizado". Se debe tokenizar con una sesión de suscripción.
            Debe contener el `token` o el `subtoken`, ambas representaciones válidas de un medio de pago tokenizado.
          type:
            - object
          properties:
            token:
              $ref: '#/components/schemas/InstrumentTokenToken'
            subtoken:
              $ref: '#/components/schemas/InstrumentTokenSubToken'
    InstrumentTokenToken:
      type:
        - number
      description: |
        Representación del medio de pago.

        EJ: `a3bfc8e2afb9ac5583922eccd6d2061c1b0592b0...`
      example: a3bfc8e2afb9ac5583922eccd6d2061c1b0592b099f04e352a894f37ae51cf1a
    InstrumentTokenSubToken:
      type:
        - string
      description: |
        Representación numérica del medio de pago. Se usa en casos donde es requerido que el token sea numérico.
        Los últimos 4 dígitos son iguales a los últimos 4 dígitos de la tarjeta de crédito.

        EJ: `8740257204881112`
      example: '8740257204881112'
    SimpleToken:
      title: SimpleToken
      type:
        - object
      description: |
        Información de un medio de pago "tokenizado". Se debe tokenizar con una sesión de suscripción.    
        Debe contener el `token` o el `subtoken`, ambas representaciones válidas de un medio de pago tokenizado.
      properties:
        token:
          $ref: '#/components/schemas/InstrumentTokenToken'
        subtoken:
          $ref: '#/components/schemas/InstrumentTokenSubToken'
        installments:
          type:
            - integer
          description: |
            Número de cuotas en las cuales se solicita el cobro. Aplica para Colombia.
            
            EJ: `2` para 2 cuotas.
          example: null
        cvv:
          type:
            - string
          description: |
            Código de seguridad de la tarjeta. Si el usuario está presente en el proceso de cobro, es recomendado anexar este dato..
            
            EJ: `123`
          example: '123'
      examples:
        - token: a3bfc8e2afb9ac5583922eccd6d2061c1b0592b099f04e352a894f37ae51cf1a
          subtoken: '8740257204881112'
          installments: null
          cvv: '123'
    CollectRequest:
      title: CollectRequest
      type: object
      description: |
        Permite realizar cobros sin la intervención del usuario usando medios de pago previamente suscritos.
      required:
        - auth
        - payment
        - instrument
        - ipAddress
        - userAgent
        - payer
      properties:
        auth:
          $ref: '#/components/schemas/Authentication'
        payment:
          $ref: '#/components/schemas/PaymentRequest'
        instrument:
          $ref: '#/components/schemas/Instrument'
        ipAddress:
          $ref: '#/components/schemas/IpAddress'
        userAgent:
          $ref: '#/components/schemas/UserAgent'
        payer:
          $ref: '#/components/schemas/Person'
          description: |
            Datos del usuario **pagador**, hace referencia al dueño del medio de pago o usuario que pagó el monto solicitado.
        buyer:
          $ref: '#/components/schemas/Person'
          description: |
            Datos del usuario **comprador**, hace referencia al usuario que está comprando un producto o un servicio.
        locale:
          $ref: '#/components/schemas/Locale'
        type:
          type:
            - string
          description: |
            Parámetro usado para sesiones de tipo preauthorización
            
            Sólo se soporta `checkin` para generar una sesión de preautorización
          enum:
            - checkin
    TransactionActionRequest:
      title: TransactionActionRequest
      type: object
      description: 'Estructura que permite realizar solicitudes de preauthorización como `checkout`, `reauthorization` y `reverse`'
      x-examples:
        checkout example:
          internalReference: 1
          amount:
            currency: USD
            total: 100
          action: checkout
        reauthorization example:
          internalReference: 1
          amount:
            currency: USD
            total: 100
          action: reauthorization
        reverse example:
          internalReference: 1
          action: reverse
      examples: []
      required:
        - auth
        - internalReference
        - action
      properties:
        auth:
          $ref: '#/components/schemas/Authentication'
        action:
          type:
            - string
          description: |
            Tipo de operación a realizar sobre la transacción
            
            `reverse` para reversar una transacción.   
            `reauthorization` para modificar una transacción de checkin.   
            `checkout` para cerrar y cobrar una transacción de checkin.
          enum:
            - checkout
            - reauthorization
            - reverse
          example: checkout
        internalReference:
          $ref: '#/components/schemas/InternalReference'
        amount:
          $ref: '#/components/schemas/Amount'

    DispersionDetail:
      title: DispersionDetail
      type: object
      description: Estructura que refleja la información de los detalles para pago con dispersión.
      properties:
        amount:
          $ref: '#/components/schemas/Amount'
          description: |
            Monto a "dispersar" en este destino.
        agreement:
          type:
            - string
            - number
          description: |
            Id del destino de este monto. Puede ser el id de un sitio.
            
            EJ: `122`
        agreementType:
          type: string
          description: |
            Tipo de destino de este monto.   
            `MERCHANT` para sitios, `AIRLINE` para aerolineas.
          enum:
            - MERCHANT
            - AIRLINE
          example: MERCHANT
      examples:
        - agreement: '1299'
          agreementType: MERCHANT
          amount:
            currency: USD
            total: 200
    Modifiers:
      title: Modifiers
      type: object
      description: |
        Estructura para modificaciones adicionales en el cobro.
        
        Aplica para leyes de impuestos en paises especificos.
      properties:
        type:
          type: string
          description: | 
            Identificador del tipo de modificador.  
            Sólo `FEDERAL_GOVERMENT` es soportado actualmente.
          example: FEDERAL_GOVERNMENT
          enum:
            - FEDERAL_GOVERNMENT
        code:
          type:
            - number
          description: |
            Código del modificador. 
            
            Para `FEDERAL_GOVERMENT` representa el número de ley para descuento.   
            `17934` Servicios Gastronómicos   
            `18083` IMESI Brasil - Argentina   
            `19210` Inclusión Financiera   
            `18910` Asignaciones Familiares   
            `18999` Reintegro Inmobiliarias
          enum:
            - 17934
            - 18083
            - 19210
            - 18910
            - 18999
          example: 17934
        additional:
          type: object
          description: |
            Estructura para anexar información al modificador
          properties:
            invoice:
              type: string
              description: |
                Requerido cuando `modifiers.[].type` es `FEDERAL_GOVERMENT`. Indica el número de factura.
                
                EJ: `123456789`
              maxLength: 9
              example: '123456789'
      examples:
        - type: FEDERAL_GOVERNMENT
          code: 17934
          additional:
            invoice: '123345'
    Locale:
      x-stoplight:
        id: 0eakadh5w5h34
      type:
        - string
      format: regex
      pattern: '^\w{2}\_[A-Z]{2}'
      example: en_US
      description: |
        Idioma en el que se tratará la petición y la sesión. Ver más en [Localización](/checkout/localization)
        
        Ejemplo: `en_US`, `es_CO`
    Reference:
      title: Reference
      type: string
      description: |
        Referencia única del proceso. Máximo de 32 caracteres
        
        Ej: `PAYMENT_0001_ABC`
      example: '12345'
    Description:
      title: Description
      type: string
      description: |
        Descripción del proceso a realizar
        
        EJ: `Consumo mes de Mayo`
      example: Consumo mes de Mayo
    InternalReference:
      type: integer
      description: |
        Referencia interna única de la transacción

        EJ: `543423`
      example: Consumo mes de Mayo
    Expiration:
      type:
        - string
      format: date-time
      description: |
        Fecha de expiración de una sesión. El usuario debe terminar el proceso antes de esta fecha.
        El tiempo de expiración debe ser de al menos 5 minutos desde el momento de la creación.   
        EJ: `2023-07-17T13:12:44-05:00`
    IpAddress:
      type:
        - string
      description: |
        Dirección IP del usuario que realizará el proceso.   
        Ej: `134.10.163.36`
      example: 134.10.163.36
    UserAgent:
      type:
        - string
      description: |
        User Agent del navegador del usuario que realizará el proceso.

        EJ: `Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36`
      example: PlacetoPay Sandbox
    ReturnUrl:
      type:
        - string
      description: |
        URL de retorno, a esta url se redirige al usuario una vez termina la sesión.
        Ocurre cuando el usuario da click en _Volver al comercio_.

        EJ: `https://merchant.com/return`
      example: 'https://commerce.test/return'
    PaymentResponse:
      title: PaymentResponse
      x-stoplight:
        id: etrozxrn4d2l6
      type: object
      properties:
        id:
          $ref: '#/components/schemas/Status'
          x-stoplight:
            id: gp6oc3txinq6a
        internalReference:
          type: string
          x-stoplight:
            id: 9069vdtfnw3nn
        paymentMethod:
          type: string
          x-stoplight:
            id: a082dva3km0ah
        paymentMethodName:
          type: string
          x-stoplight:
            id: j42qzun8pzjfw
        issuerName:
          type: string
          x-stoplight:
            id: b3rgkaudjep59
        amount:
          $ref: '#/components/schemas/AmountConversion'
          x-stoplight:
            id: 74jc0pkriqo58
        authorization:
          type: string
          x-stoplight:
            id: nfilkxvfnyf9k
        reference:
          type: string
          x-stoplight:
            id: sw31lhvvqrep5
        franchise:
          type: string
          x-stoplight:
            id: k087mbzr4ud6j
        refunded:
          type: boolean
          x-stoplight:
            id: y4arwef812ahh
        processorFields:
          $ref: '#/components/schemas/processFields'
          x-stoplight:
            id: 05hytmsog12fd
      examples:
        - status:
            status: APPROVED
            reason: '00'
            message: Aprobada
            date: '2023-06-28T09:19:01-05:00'
          internalReference: '384912'
          paymentMethod: visa
          paymentMethodName: Visa
          issuerName: 'JPMORGAN CHASE BANK, N.A.'
          amount:
            from:
              currency: USD
              total: 52
            to:
              currency: USD
              total: 52
            factor: 1
          authorization: '000000'
          reference: TEST_20230628_091643
          franchise: ID_VS
          refunded: false
          processorFields:
            - keyword: merchantCode
              value: '1465675'
              displayOn: none
            - keyword: terminalNumber
              value: '00990099'
              displayOn: none
            - keyword: credit
              value:
                code: '1'
                type: '00'
                groupCode: C
                installments: 1
              displayOn: none
            - keyword: totalAmount
              value: 52
              displayOn: none
            - keyword: interestAmount
              value: 0
              displayOn: none
            - keyword: installmentAmount
              value: 0
              displayOn: none
            - keyword: iceAmount
              value: 0
              displayOn: none
            - keyword: bin
              value: '411111'
              displayOn: none
            - keyword: expiration
              value: '1223'
              displayOn: none
            - keyword: lastDigits
              value: '1111'
              displayOn: none
            - keyword: id
              value: a10fe0690cfe557283310ba90746e159
              displayOn: none
            - keyword: b24
              value: '00'
              displayOn: none
    processFields:
      title: PaymentResponse
      x-stoplight:
        id: j80i0wo5z453m
      type: object
      properties:
        keyword:
          x-stoplight:
            id: gp6oc3txinq6a
          type: string
        value:
          type:
            - string
            - object
            - integer
            - array
          x-stoplight:
            id: 9069vdtfnw3nn
        displayOn:
          type: string
          x-stoplight:
            id: rrubobhx7er11
      examples:
        - keyword: string
          value: string
          displayOn: string
    Fields:
      type: array
      description: |
        Estructura para relacionar información adicional en el proceso. Ver más en [Campos Adicionales](/checkout/additional-fields)
      items:
        type: object
        $ref: '#/components/schemas/NameValuePair'      
  securitySchemes: {}
  responses:
    StatusResponse:
      description: Example response
      content:
        application/json:
          schema:
            type: object
            properties:
              status:
                $ref: '#/components/schemas/Status'
            required:
              - status
          examples:
            APPROVED:
              value:
                status:
                  status: APPROVED
                  reason: '00'
                  message: La petición ha sido aprobada exitosamente
                  date: '2022-07-27T14:51:27-05:00'
            OK:
              value:
                status:
                  status: OK
                  reason: '00'
                  message: La petición ha sido aprobada exitosamente
                  date: '2022-07-27T14:51:27-05:00'
            FAILED:
              value:
                status:
                  status: FAILED
                  reason: XN
                  message: El token usado es inválido
                  date: '2022-07-27T14:51:27-05:00'
  requestBodies:
    InstrumentInvalidateRequest:
      content:
        application/json:
          schema:
            type:
              - object
            required:
              - auth
              - instrument
            properties:
              auth:
                $ref: '#/components/schemas/Authentication'
              instrument:
                $ref: '#/components/schemas/InstrumentInvalidate'
              locale:
                $ref: '#/components/schemas/Locale'
          examples:
            Using Token:
              value:
                auth:
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                locale: en_US
                instrument:
                  token:
                    token: a3bfc8e2afb9ac5583922eccd6d2061c1b0592b099f04e352a894f37ae51cf1a
            Using Subtoken:
              value:
                auth:
                  auth:
                    login: c51ce410c124a10e0db5e4b97fc2af39
                    tranKey: VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=
                    nonce: NjE0OWVkODgwYjNhNw==
                    seed: '2021-09-21T09:34:48-05:00'
                locale: en_US
                instrument:
                  token:
                    subtoken: '8740257204881112'
      description: Instrument Invalidate Request